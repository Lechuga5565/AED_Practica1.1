performance.mark("js-parse-end:35226-a6574d24910e0828.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["35226"],{97729(e,t,n){n.d(t,{B:()=>l});var i=n(74848),a=n(16522),s=n(38621),r=n(4925),o=n(13170);function l(e){let t=(0,a.c)(3),{severity:n}=e;switch(n){case o.U.Note:{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsxs)(r.A,{variant:"secondary",children:[(0,i.jsx)(s.NoteIcon,{className:"color-fg-default pr-1"}),"Note"]}),t[0]=e):e=t[0],e}case o.U.Warning:{let e;return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsxs)(r.A,{variant:"secondary",children:[(0,i.jsx)(s.AlertIcon,{className:"color-fg-attention pr-1"}),"Warning"]}),t[1]=e):e=t[1],e}case o.U.Error:{let e;return t[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsxs)(r.A,{variant:"secondary",children:[(0,i.jsx)(s.CircleSlashIcon,{className:"color-fg-danger pr-1"}),"Error"]}),t[2]=e):e=t[2],e}}}l.displayName="RuleSeverityBadge"},13170(e,t,n){n.d(t,{U:()=>i});let i={None:"none",Error:"error",Warning:"warning",Note:"note"}},32189(e,t,n){n.d(t,{I:()=>i});let i={None:"none",Low:"low",Medium:"medium",High:"high",Critical:"critical"}},33144(e,t,n){n.d(t,{BH:()=>c,cE:()=>m,f8:()=>u,nx:()=>d});var i=n(74848),a=n(16522),s=n(38621),r=n(21373),o=n(71163),l=n(16135);let d="data-copilot-hint-text",c="data-copilot-hint-anchor",u="data-copilot-hint-id",m=e=>{let t,n,m,f,h,g=(0,a.c)(18),{commentPermalink:p,isCopilotAuthoredPr:v,isOverviewComment:b,commentCount:w}=e,y=void 0===v||v,C=void 0!==b&&b;if(g[0]!==p){let e;e=p.match(/#([^#\s]+)$/),t=e?.[1]||"unknown",g[0]=p,g[1]=t}else t=g[1];let x=t,{sendClickAnalyticsEvent:_}=(0,l.S)(),S=(void 0===w?1:w)>1?"Implement all suggestions":"Implement suggestion";g[2]!==C?(n=e=>{if(C){let e=document.getElementById("new_comment_field")||document.querySelector('textarea.js-comment-field[name="comment[body]"]');return e?e.closest("form")||e.parentElement:null}let t=e.closest(".js-line-comments");if(!t)return null;let n=t.querySelector(".js-inline-comment-form-container");if(!n)return null;n.classList.add("open");let i=n.querySelector(".js-write-tab");return i instanceof HTMLElement&&i.click(),n},g[2]=C,g[3]=n):n=g[3];let j=n;g[4]!==p||g[5]!==y||g[6]!==C?(m=(e,t,n)=>{let i=C?`the comments in [this thread](${p})`:`[this feedback](${p})`,a=`@copilot ${y?"":"open a new pull request to "}apply changes based on ${i}`;e.setAttribute(d,a),e.setAttribute(c,t),e.setAttribute(u,n),e.value="",(0,o.bc)(e,a)},g[4]=p,g[5]=y,g[6]=C,g[7]=m):m=g[7];let A=m;g[8]!==x||g[9]!==A||g[10]!==C||g[11]!==j||g[12]!==_?(f=e=>{let t,n=crypto.randomUUID();_({category:"ccr_reply_hint_clicked",commentAnchor:x,hintId:n});let i=e.currentTarget;if(!i)return;let a=j(i);a&&(t=C?document.getElementById("new_comment_field")||document.querySelector('textarea.js-comment-field[name="comment[body]"]'):a.querySelector(".js-comment-field"))instanceof HTMLTextAreaElement&&(A(t,x,n),t.focus())},g[8]=x,g[9]=A,g[10]=C,g[11]=j,g[12]=_,g[13]=f):f=g[13];let D=f,I=`copilot-apply-changes-button-${x}`;return g[14]!==S||g[15]!==D||g[16]!==I?(h=(0,i.jsx)(r.Q,{size:"small",variant:"default",leadingVisual:s.AgentIcon,onClick:D,"data-testid":I,children:S}),g[14]=S,g[15]=D,g[16]=I,g[17]=h):h=g[17],h};m.displayName="CopilotApplyChangesButton"},66977(e,t,n){n.d(t,{y:()=>ea,k:()=>eu});var i=n(74848),a=n(16522),s=n(97729),r=n(4925),o=n(32189);function l(e){let t=(0,a.c)(4),{severity:n}=e;switch(n){case o.I.Low:{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(r.A,{variant:"primary",children:"Low"}),t[0]=e):e=t[0],e}case o.I.Medium:{let e;return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(r.A,{variant:"attention",children:"Medium"}),t[1]=e):e=t[1],e}case o.I.High:{let e;return t[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(r.A,{variant:"severe",children:"High"}),t[2]=e):e=t[2],e}case o.I.Critical:{let e;return t[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(r.A,{variant:"danger",children:"Critical"}),t[3]=e):e=t[3],e}case o.I.None:return null}}l.displayName="SecuritySeverityBadge";var d=n(88860),c=n(16688),u=n(27760),m=n(71313),f=n(58068),h=n(47829),g=n(29207),p=n(70730),v=n(56144),b=n(38621),w=n(2775),y=n(59134),C=n(96540),x=n(488),_=n(68173),S=n(7771),j=n(7478),A=n(21373),D=n(44640),I=n(26108),k=n(74072),N=n(34164);function R(e){let t,n,s,r,o,l,d=(0,a.c)(19),{diffEntry:c}=e,[u,m]=(0,C.useState)(!1);d[0]!==u?(t=()=>m(!u),d[0]=u,d[1]=t):t=d[1];let f=t,h=c.path,g=u&&"rounded-2";d[2]!==g?(n=(0,N.$)("d-flex flex-items-center pr-px-3 py-2 text-small gap-2 text-mono","AutomatedReviewDiffEntry-module__diffEntryHeader__hTou_",g),d[2]=g,d[3]=n):n=d[3];let p=u?"Open review comment":"Close review comment",v=u?b.ChevronRightIcon:b.ChevronDownIcon;return d[4]!==f||d[5]!==p||d[6]!==v?(s=(0,i.jsx)(I.K,{"aria-label":p,icon:v,size:"small",variant:"invisible",onClick:f}),d[4]=f,d[5]=p,d[6]=v,d[7]=s):s=d[7],d[8]!==c.path||d[9]!==n||d[10]!==s?(r=(0,i.jsxs)("div",{className:n,children:[s,c.path]}),d[8]=c.path,d[9]=n,d[10]=s,d[11]=r):r=d[11],d[12]!==c.diffLines||d[13]!==u?(o=!u&&(0,i.jsx)(k.i,{tabSize:4,className:(0,N.$)("m-0 border-bottom borderColor-default overflow-hidden","AutomatedReviewDiffEntry-module__automatedReviewDiff__qZi0H"),diffTableClassName:"borderColor-default",diffLines:c.diffLines}),d[12]=c.diffLines,d[13]=u,d[14]=o):o=d[14],d[15]!==c.path||d[16]!==r||d[17]!==o?(l=(0,i.jsxs)("div",{className:"d-flex flex-column overflow-hidden",children:[r,o]},h),d[15]=c.path,d[16]=r,d[17]=o,d[18]=l):l=d[18],l}R.displayName="AutomatedReviewDiffEntry";var O=n(24043),E=n(10143),F=n(90321),T=n(94747),M=n(35148);function P(){p.cg?.location.reload()}var B=n(6373),G=n(46348);function L(e){let t,n,s,r,o=(0,a.c)(10),{suggestion:l,actions:d}=e;o[0]!==l.diffEntries?(t=l.diffEntries||[],o[0]=l.diffEntries,o[1]=t):t=o[1];let c=t,u=c.length||0;return o[2]!==u?(n=u>0&&(0,i.jsx)("div",{className:"d-flex flex-items-center flex-justify-between text-small color-fg-muted pt-2",children:(0,i.jsxs)("div",{children:["Suggested changeset ",(0,i.jsx)(S.A,{scheme:"secondary",children:u})]})}),o[2]=u,o[3]=n):n=o[3],o[4]!==c?(s=c.map($),o[4]=c,o[5]=s):s=o[5],o[6]!==d||o[7]!==n||o[8]!==s?(r=(0,i.jsxs)("div",{className:"d-flex flex-column color-fg-default AutomatedReviewSuggestionStates-module__suggestion__ynb8D","data-testid":"automated-review-suggestion",children:[n,s,d]}),o[6]=d,o[7]=n,o[8]=s,o[9]=r):r=o[9],r}function $(e){return(0,i.jsx)(R,{diffEntry:e},e.path)}function U(e){let t,n=(0,a.c)(1);return n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsxs)("div",{className:"AutomatedReviewSuggestionStates-module__suggestionPending__T280o","data-testid":"automated-review-suggestion-pending",children:[(0,i.jsx)(j.A,{size:"medium"}),"Loading suggestion..."]}),n[0]=t):t=n[0],t}function V(e){let t,n,s=(0,a.c)(2);return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)("h3",{className:"AutomatedReviewSuggestionStates-module__suggestionErrorTitle__hxvR_",children:"Sorry, we could not generate an autofix suggestion."}),s[0]=t):t=s[0],s[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsxs)("div",{className:"AutomatedReviewSuggestionStates-module__suggestionError__CtLF6","data-testid":"automated-review-suggestion-error",children:[t,(0,i.jsxs)("p",{className:"color-fg-muted",children:["Try pushing a new commit or if the problem persists"," ",(0,i.jsx)("a",{className:"fgColor-link",href:"https://support.github.com/",children:(0,i.jsx)("u",{children:"contact support"})}),"."]})]}),s[1]=n):n=s[1],n}function q(e){let t,n,s,r=(0,a.c)(6),{suggestion:o,isClassicExperience:l}=e;r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)("span",{className:"color-fg-muted text-small",children:"Unable to commit as this autofix suggestion is now outdated."}),r[0]=t):t=r[0],r[1]!==l?(n=(0,i.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between gap-1",children:[t,l?(0,i.jsx)(A.Q,{size:"small",variant:"primary",disabled:!0,children:"Commit suggestion"}):(0,i.jsx)(D.m,{text:"This autofix suggestion is outdated",children:(0,i.jsx)(A.Q,{variant:"default",inactive:!0,children:"Apply suggestion"})})]}),r[1]=l,r[2]=n):n=r[2];let d=n;return r[3]!==d||r[4]!==o?(s=o&&(0,i.jsx)(L,{suggestion:o,actions:d}),r[3]=d,r[4]=o,r[5]=s):s=r[5],s}function z(e){let t,n,s,r,o,l=(0,a.c)(13),{suggestion:d}=e,[c,u]=(0,C.useState)(!0);l[0]!==c?(t=()=>u(!c),l[0]=c,l[1]=t):t=l[1];let m=t;l[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)("span",{className:"AutomatedReviewSuggestionStates-module__suggestionAppliedText__ajfYk",children:"This autofix suggestion was applied."}),l[2]=n):n=l[2];let f=c?b.UnfoldIcon:b.FoldIcon,h=c?"Show":"Hide";return l[3]!==m||l[4]!==f||l[5]!==h?(s=(0,i.jsxs)("div",{className:"d-flex flex-justify-between flex-items-center",children:[n,(0,i.jsxs)(A.Q,{variant:"invisible",onClick:m,leadingVisual:f,size:"small",className:"color-fg-muted",children:[h," autofix suggestion"]})]}),l[3]=m,l[4]=f,l[5]=h,l[6]=s):s=l[6],l[7]!==c||l[8]!==d?(r=!c&&d&&(0,i.jsx)(L,{suggestion:d}),l[7]=c,l[8]=d,l[9]=r):r=l[9],l[10]!==s||l[11]!==r?(o=(0,i.jsxs)("div",{className:"AutomatedReviewSuggestionStates-module__suggestionApplied__l6bbv",children:[s,r]}),l[10]=s,l[11]=r,l[12]=o):o=l[12],o}function Q(e){let t,n,s,r,o,l,d,c,u,m,f,h,g=(0,a.c)(22),{automatedCommentId:p,basePath:v,commentAuthorLogin:b,commentDatabaseId:w,commentTitle:y,isClassicExperience:x,suggestion:_}=e,[S,j]=(0,C.useState)(!1);g[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>j(!0),g[0]=t):t=g[0];let A=t;g[1]===Symbol.for("react.memo_cache_sentinel")?(n=()=>j(!1),g[1]=n):n=g[1];let D=n;g[2]!==_?.diffEntries?(s=_?.diffEntries||[],g[2]=_?.diffEntries,g[3]=s):s=g[3];let I=s.length||0,k=(0,C.useRef)(null),N=`Potential fix for pull request finding${y?` '${y}'`:""}`,{mutate:R}=((f=(0,a.c)(5))[0]!==p||f[1]!==v?(u=(0,M.m5w)({basePath:v,automatedReviewCommentId:p}),f[0]=p,f[1]=v,f[2]=u):u=f[2],h=u,f[3]!==h?(m={mutationFn:async e=>{let{message:t}=e,n=await (0,F.q$)(h,{method:"POST",body:{message:t}}),i=await (0,F.hp)(n);return(0,F.R)(n,i),i},onSuccess:P},f[3]=h,f[4]=m):m=f[4],(0,T.n)(m));g[4]!==R?(r=(e,t,n)=>{R({message:e},{onSuccess:()=>{D(),n()},onError:e=>{t(e,"applyAutomatedSuggestion","Failed to commit suggested changes")}})},g[4]=R,g[5]=r):r=g[5];let O=r;if(!_)return null;g[6]!==w||g[7]!==x?(o=x?(0,i.jsx)(H,{applyButtonRef:k,onApplyButtonClick:A}):(0,i.jsx)(X,{commentDatabaseId:w,applyButtonRef:k,onApplyButtonClick:A}),g[6]=w,g[7]=x,g[8]=o):o=g[8],g[9]!==b||g[10]!==N||g[11]!==O||g[12]!==S||g[13]!==x||g[14]!==I?(l=S&&I>0&&(0,i.jsx)(E.$,{authorLogins:b?[b]:[],batchSize:I,defaultCommitMessage:N,onClose:D,onCommit:O,dialogTitle:x?"Commit suggestion":"Apply suggestion",returnFocusRef:k}),g[9]=b,g[10]=N,g[11]=O,g[12]=S,g[13]=x,g[14]=I,g[15]=l):l=g[15],g[16]!==o||g[17]!==l?(d=(0,i.jsxs)(i.Fragment,{children:[o,l]}),g[16]=o,g[17]=l,g[18]=d):d=g[18];let B=d;return g[19]!==B||g[20]!==_?(c=(0,i.jsx)(L,{suggestion:_,actions:B}),g[19]=B,g[20]=_,g[21]=c):c=g[21],c}function W(){return(0,O.G7)("batch_suggested_changes")&&(0,O.G7)("copilot_code_review_batch_apply_suggestions")}function H(e){let t,n,s,r,o=(0,a.c)(7),{applyButtonRef:l,onApplyButtonClick:d}=e;o[0]===Symbol.for("react.memo_cache_sentinel")?(t=W(),o[0]=t):t=o[0];let c=t;return o[1]!==l||o[2]!==d?(n=(0,i.jsx)(A.Q,{"data-testid":"commit-suggestion-button",size:"small",variant:"primary",ref:l,onClick:d,children:"Commit suggestion"}),o[1]=l,o[2]=d,o[3]=n):n=o[3],o[4]===Symbol.for("react.memo_cache_sentinel")?(s=c&&(0,i.jsx)(D.m,{text:"Batching autofix suggestions is only available in the new Files changed experience",children:(0,i.jsx)(A.Q,{"data-testid":"add-suggestion-to-batch-button",size:"small",inactive:!0,children:"Add suggestion to batch"})}),o[4]=s):s=o[4],o[5]!==n?(r=(0,i.jsxs)("div",{className:"d-flex gap-2 flex-items-center flex-justify-end flex-wrap",children:[n,s]}),o[5]=n,o[6]=r):r=o[6],r}function X(e){let t,n,s,r,o=(0,a.c)(12),{commentDatabaseId:l,applyButtonRef:d,onApplyButtonClick:c}=e,u=!(0,B.RH)();o[0]!==l?(t=W()&&null!=l,o[0]=l,o[1]=t):t=o[1];let m=t;return o[2]!==d||o[3]!==c||o[4]!==u?(n=u&&(0,i.jsx)(A.Q,{"data-testid":"commit-suggestion-button",variant:"default",ref:d,onClick:c,children:"Apply suggestion"}),o[2]=d,o[3]=c,o[4]=u,o[5]=n):n=o[5],o[6]!==l||o[7]!==m?(s=m&&(0,i.jsx)(J,{commentDatabaseId:l}),o[6]=l,o[7]=m,o[8]=s):s=o[8],o[9]!==n||o[10]!==s?(r=(0,i.jsxs)("div",{className:"d-flex gap-2 flex-items-center flex-justify-end flex-wrap",children:[n,s]}),o[9]=n,o[10]=s,o[11]=r):r=o[11],r}function J(e){let t,n,s,o,l=(0,a.c)(20),{commentDatabaseId:d}=e;l[0]!==d?(t={commentDatabaseId:d,suggestionIndex:void 0},l[0]=d,l[1]=t):t=l[1];let c=t,u=(0,B.Nk)(c),m=(0,B.WK)(),{addSuggestionToBatch:f,removeSuggestionFromBatch:h}=(0,B.xJ)(),g=(0,B.Kp)(),p=(0,B.L3)();l[2]!==f||l[3]!==p.fullDiff.headOid||l[4]!==g||l[5]!==m.activeBatch||l[6]!==c?(n=()=>{f(c),(0,G.CE)(g,p.fullDiff.headOid,[...m.activeBatch,c])},l[2]=f,l[3]=p.fullDiff.headOid,l[4]=g,l[5]=m.activeBatch,l[6]=c,l[7]=n):n=l[7];let v=n;l[8]!==d||l[9]!==p.fullDiff.headOid||l[10]!==g||l[11]!==h||l[12]!==m.activeBatch||l[13]!==c?(s=()=>{h(c),(0,G.CE)(g,p.fullDiff.headOid,m.activeBatch.filter(e=>e.commentDatabaseId!==d))},l[8]=d,l[9]=p.fullDiff.headOid,l[10]=g,l[11]=h,l[12]=m.activeBatch,l[13]=c,l[14]=s):s=l[14];let b=s;if(u){let e,t;return l[15]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(r.A,{variant:"attention",children:"Pending in batch"}),l[15]=e):e=l[15],l[16]!==b?(t=(0,i.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between flex-1",children:[e,(0,i.jsx)(A.Q,{"data-testid":"remove-suggestion-from-batch-button",variant:"danger",onClick:b,children:"Remove from batch"})]}),l[16]=b,l[17]=t):t=l[17],t}return l[18]!==v?(o=(0,i.jsx)(A.Q,{"data-testid":"add-suggestion-to-batch-button",variant:"primary",onClick:v,children:"Add suggestion to batch"}),l[18]=v,l[19]=o):o=l[19],o}L.displayName="AutomatedReviewSuggestionBase",U.displayName="AutomatedReviewSuggestionPending",V.displayName="AutomatedReviewSuggestionError",q.displayName="AutomatedReviewSuggestionOutdated",z.displayName="AutomatedReviewSuggestionApplied",Q.displayName="AutomatedReviewSuggestionPresent",H.displayName="RailsExperienceButtons",X.displayName="ReactExperienceButtons",J.displayName="BatchButton";let K={[_.fO.Pending]:U,[_.fO.Error]:V,[_.fO.Outdated]:q,[_.fO.Applied]:z,[_.fO.Present]:Q};function Y(e){let t,n=(0,a.c)(10),{automatedCommentId:s,basePath:r,commentAuthorLogin:o,commentDatabaseId:l,commentTitle:d,feedbackOptions:c,isClassicExperience:u,suggestion:m,suggestionState:f}=e;if(!f||f===_.fO.NoSuggestion)return null;let h=K[f];return h?(n[0]!==h||n[1]!==s||n[2]!==r||n[3]!==o||n[4]!==l||n[5]!==d||n[6]!==c||n[7]!==u||n[8]!==m?(t=(0,i.jsx)(h,{automatedCommentId:s,basePath:r,commentTitle:d,commentAuthorLogin:o,commentDatabaseId:l,feedbackOptions:c,isClassicExperience:u,suggestion:m}),n[0]=h,n[1]=s,n[2]=r,n[3]=o,n[4]=l,n[5]=d,n[6]=c,n[7]=u,n[8]=m,n[9]=t):t=n[9],t):null}Y.displayName="AutomatedReviewSuggestion";var Z=n(14623),ee=n(24824);function et(e){let t,n,s=(0,a.c)(8),{automatedCommentId:r,feedbackOptions:o,basePath:l,showNegativeFeedbackModal:d}=e,{feedbackPath:c}={feedbackPath:(0,M.YLS)({basePath:l,automatedReviewCommentId:r})},u=`automated-review-feedback-${r}`;return s[0]!==r||s[1]!==o||s[2]!==c||s[3]!==d?(t=(0,i.jsx)(ee.Z,{commentId:r,feedbackPath:c,feedbackOptions:o,showNegativeFeedbackModal:d}),s[0]=r,s[1]=o,s[2]=c,s[3]=d,s[4]=t):t=s[4],s[5]!==u||s[6]!==t?(n=(0,i.jsx)("div",{"data-testid":u,children:t}),s[5]=u,s[6]=t,s[7]=n):n=s[7],n}et.displayName="AutomatedReviewFeedback";var en=n(33144),ei=n(14303);function ea(e){let t,n,r,o,_,S,j,A,D,I,k,N,R,O,E,F,T,M,P,B,G,L,$,U=(0,a.c)(93),{anchorPrefix:V,basePath:q,comment:z,isAnchorable:Q,isClassicExperience:W,isInDialogMode:H,isOutdated:X,onQuoteReply:J,originalDiffPathUri:K,showApplyChangesButton:Z,showNegativeFeedbackModal:ee,threadId:ea,threadPositionNumber:ec,footnoteTextHTML:eu}=e,em=void 0!==Q&&Q,ef=void 0===J?m.l:J,eh=void 0!==Z&&Z,{addToast:eg}=(0,v.Y6)(),[ep,ev]=(0,C.useState)(z.isHidden),[eb]=(0,C.useState)(""),[ew,ey]=(0,C.useState)(z.reactionGroups),eC=(0,C.useRef)(null),ex=(0,C.useRef)(null),e_=(0,C.useRef)(null);U[0]!==z.automatedComment?(t=z.automatedComment||{},U[0]=z.automatedComment,U[1]=t):t=U[1];let{id:eS,title:ej,message:eA,severity:eD,securitySeverity:eI,suggestion:ek,suggestionState:eN,feedbackOptions:eR,showFeedbackButtons:eO,showAiNote:eE,source:eF}=t,eT=eO&&eS&&eR,eM=eT||eE||eu||ew,eP="copilot"===eF;U[2]===Symbol.for("react.memo_cache_sentinel")?(n=e=>{ey(e.reactionGroups)},U[2]=n):n=U[2];let eB=n,{mutate:eG}=(0,ei.n)(q,eB);U[3]!==eg||U[4]!==z.databaseId||U[5]!==eG||U[6]!==ea?(r=(e,t)=>{if(!z.databaseId)throw Error("Comment not found");setTimeout(()=>e_.current?.focus(),0),eG({commentDatabaseId:z.databaseId,threadId:ea,reaction:e,viewerHasReacted:t},{onError:()=>{eg({type:"error",message:"Failed to react to comment"})}})},U[3]=eg,U[4]=z.databaseId,U[5]=eG,U[6]=ea,U[7]=r):r=U[7];let eL=r;U[8]!==z.databaseId||U[9]!==z.id?(o=z.databaseId?.toString()||z.id,U[8]=z.databaseId,U[9]=z.id,U[10]=o):o=U[10];let e$=o,eU=e$?`${void 0===V?"r":V}${e$}`:void 0,eV=ep?"hidden":"visible";U[11]!==eU?(_=eU&&p.fV?new URL(`${p.fV.pathname}#${eU}`,p.fV.origin).toString():"",U[11]=eU,U[12]=_):_=U[12];let eq=_;U[13]!==eU||U[14]!==e$||U[15]!==em?(S={isAnchorable:em,commentId:e$,commentAnchor:eU,containerRef:ex},U[13]=eU,U[14]=e$,U[15]=em,U[16]=S):S=U[16],(0,x.u)(S),U[17]===Symbol.for("react.memo_cache_sentinel")?(j={as:"h3"},U[17]=j):j=U[17];let ez=z.author?.avatarUrl??u.t.ghostUser.avatarUrl,eQ=z.reference.text??`#${z.reference.number}`;U[18]!==z||U[19]!==eq||U[20]!==eQ?(A={...z,bodyForClipboard:z.body,url:eq,referenceText:eQ,viewerCanMinimize:!1,viewerCanUpdate:!1,viewerCanDelete:!1,viewerCanBlockFromOrg:!1,viewerCanUnblockFromOrg:!1,viewerCanReport:!1,viewerCanReportToMaintainer:!1,viewerCanReferenceInIssue:!1,viewerCanQuoteReply:!1},U[18]=z,U[19]=eq,U[20]=eQ,U[21]=A):A=U[21],U[22]===Symbol.for("react.memo_cache_sentinel")?(D={},U[22]=D):D=U[22],U[23]!==z.author?.login?(I=function(e){if(e)return e.replace(/\[bot\]$/i,"")}(z.author?.login)??u.t.ghostUser.login,U[23]=z.author?.login,U[24]=I):I=U[24],U[25]!==ep||U[26]!==X||U[27]!==ef||U[28]!==K||U[29]!==ez||U[30]!==A||U[31]!==I?(k={headingProps:j,avatarUrl:ez,comment:A,commentRef:ex,editHistoryComponent:void 0,onBlock:void 0,onUnblock:void 0,onMinimize:ev,onSuccessfulBlock:ed,isMinimized:ep,navigate:m.l,onReplySelect:ef,isReply:!1,forceInlineAvatar:!0,containerStyle:D,originalDiffPathUri:K,isOutdated:X,editComment:el,deleteComment:eo,hideComment:er,unhideComment:es,commentAuthorSlug:void 0,commentAuthorType:d.S.Bot,commentAuthorLogin:I,hideProfileLink:!0},U[25]=ep,U[26]=X,U[27]=ef,U[28]=K,U[29]=ez,U[30]=A,U[31]=I,U[32]=k):k=U[32];let eW=k;U[33]!==ec?(N=()=>void 0!==ec?`Comment ${ec}`:"Comment",U[33]=ec,U[34]=N):N=U[34];let eH=N;U[35]!==eI?(R=eI?(0,i.jsx)(l,{severity:eI}):null,U[35]=eI,U[36]=R):R=U[36];let eX=R;U[37]!==eD?(O=eD?(0,i.jsx)(s.B,{severity:eD}):null,U[37]=eD,U[38]=O):O=U[38];let eJ=O,eK=em?eU:void 0,eY=em?"120px":0;return U[39]!==eY?(E={scrollMarginTop:eY},U[39]=eY,U[40]=E):E=U[40],U[41]!==eH||U[42]!==H?(F=H?{role:"document","aria-roledescription":"comment","aria-label":eH()}:{},U[41]=eH,U[42]=H,U[43]=F):F=U[43],U[44]!==eW?(T=(0,i.jsx)(c.p,{...eW}),U[44]=eW,U[45]=T):T=U[45],U[46]!==eJ||U[47]!==eX?(M=(0,i.jsxs)(w.A,{children:[eX,eJ]}),U[46]=eJ,U[47]=eX,U[48]=M):M=U[48],U[49]!==z.body||U[50]!==eW||U[51]!==H||U[52]!==X||U[53]!==T||U[54]!==M?(P=(0,i.jsx)("div",{className:"AutomatedReviewThreadComment-module__automatedComment__headerContainer__zzUid",children:(0,i.jsx)(d.v,{...eW,commentBody:z.body,isInDialogMode:H,actions:T,badges:M,isOutdated:X})}),U[49]=z.body,U[50]=eW,U[51]=H,U[52]=X,U[53]=T,U[54]=M,U[55]=P):P=U[55],U[56]!==eb?(B=eb&&(0,i.jsxs)(y.A,{variant:"danger",className:"pr-m-3",children:[(0,i.jsx)(b.StopIcon,{className:"mr-2"}),eb]}),U[56]=eb,U[57]=B):B=U[57],U[58]!==eS||U[59]!==q||U[60]!==z.author?.login||U[61]!==z.databaseId||U[62]!==z.url||U[63]!==z.viewerCanReact||U[64]!==e$||U[65]!==eV||U[66]!==eR||U[67]!==eu||U[68]!==W||U[69]!==eP||U[70]!==eA||U[71]!==eL||U[72]!==ew||U[73]!==eE||U[74]!==eh||U[75]!==eT||U[76]!==eM||U[77]!==ee||U[78]!==ek||U[79]!==eN||U[80]!==ej?(G="visible"===eV&&(0,i.jsxs)("div",{className:"AutomatedReviewThreadComment-module__automatedComment__body__XEyVI",children:[(0,i.jsxs)("div",{className:"AutomatedReviewThreadComment-module__automatedComment__content__D2xQv",children:[ej&&(0,i.jsx)("div",{className:"d-flex flex-items-center",children:(0,i.jsx)("h3",{className:"AutomatedReviewThreadComment-module__automatedComment__title__pATBP",children:ej})}),(0,i.jsx)(g.JR,{ref:eC,className:"AutomatedReviewThreadComment-module__automatedComment__message__d_uQg markdown-body","comment-testid":`Comment message html for automated comment ${e$}`,html:eA})]}),eS&&(0,i.jsx)(Y,{commentTitle:ej,commentAuthorLogin:z.author?.login,commentDatabaseId:z.databaseId,feedbackOptions:eR,isClassicExperience:W,suggestion:ek,suggestionState:eN,automatedCommentId:eS,basePath:q}),eh&&(0,i.jsx)(en.cE,{commentPermalink:z.url,isCopilotAuthoredPr:eP,commentCount:1}),eM&&(0,i.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between gap-2 mb-1",children:[ew&&(0,i.jsx)(f.P,{ref:e_,reactionGroups:ew,onReact:eL,canReact:z.viewerCanReact}),eT&&(0,i.jsx)(et,{automatedCommentId:eS,basePath:q,feedbackOptions:eR,showNegativeFeedbackModal:ee}),eu||eE?(0,i.jsx)("div",{className:"text-small color-fg-muted",children:eu?(0,i.jsx)(h.BC,{html:eu}):"Copilot uses AI. Check for mistakes."}):null]})]}),U[58]=eS,U[59]=q,U[60]=z.author?.login,U[61]=z.databaseId,U[62]=z.url,U[63]=z.viewerCanReact,U[64]=e$,U[65]=eV,U[66]=eR,U[67]=eu,U[68]=W,U[69]=eP,U[70]=eA,U[71]=eL,U[72]=ew,U[73]=eE,U[74]=eh,U[75]=eT,U[76]=eM,U[77]=ee,U[78]=ek,U[79]=eN,U[80]=ej,U[81]=G):G=U[81],U[82]!==G?(L=(0,i.jsx)("div",{className:"AutomatedReviewThreadComment-module__automatedComment__bodyContainer__BRAte",children:G}),U[82]=G,U[83]=L):L=U[83],U[84]!==z.id||U[85]!==eK||U[86]!==E||U[87]!==F||U[88]!==P||U[89]!==B||U[90]!==L||U[91]!==ea?($=(0,i.jsxs)("div",{ref:ex,id:eK,className:"AutomatedReviewThreadComment-module__automatedComment__O1g7b",style:E,"data-first-thread-comment":!0,"data-marker-navigation-comment-thread-id":ea,"data-marker-navigation-comment-id":z.id,"data-testid":"automated-review-comment",...F,children:[P,B,L]}),U[84]=z.id,U[85]=eK,U[86]=E,U[87]=F,U[88]=P,U[89]=B,U[90]=L,U[91]=ea,U[92]=$):$=U[92],$}function es(){return null}function er(){return null}function eo(){return null}function el(){return null}function ed(){setTimeout(ec,800)}function ec(){return p.cg?.location.reload()}function eu(){let e,t,n,s=(0,a.c)(3);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(Z.E.Visual,{children:(0,i.jsx)(b.AlertIcon,{size:24,className:"fgColor-muted pr-mt-3 pr-mb-3"})}),s[0]=e):e=s[0],s[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(Z.E.Heading,{children:(0,i.jsx)("strong",{children:"There was a problem loading this review comment"})}),s[1]=t):t=s[1],s[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)("div",{className:"position-relative",children:(0,i.jsxs)(Z.E,{border:!0,children:[e,t,(0,i.jsx)("div",{className:"mb-n2",children:(0,i.jsx)(Z.E.Description,{children:"Refresh the page or try again later"})}),(0,i.jsx)(Z.E.SecondaryAction,{href:"https://www.githubstatus.com/",children:"GitHub status"})]})}),s[2]=n):n=s[2],n}ea.displayName="AutomatedReviewThreadComment",eu.displayName="AutomatedReviewThreadCommentErrorFallback"},10143(e,t,n){n.d(t,{$:()=>A});var i=n(74848),a=n(16522),s=n(16135),r=n(1827),o=n(70966),l=n(29941),d=n(45800),c=n(7771),u=n(7478),m=n(7624),f=n(38750),h=n(65820),g=n(26108),p=n(39081),v=n(96540),b=n(38621),w=n(29207),y=n(44937);function C(e){let t,n,s=(0,a.c)(5),{children:r,footerButtons:o}=e;s[0]===Symbol.for("react.memo_cache_sentinel")?(t={bindKeys:l.z0.ArrowHorizontal|l.z0.Tab,focusInStrategy:"closest"},s[0]=t):t=s[0];let{containerRef:c}=(0,d.G)(t);return s[1]!==r||s[2]!==o||s[3]!==c?(n=o?(0,i.jsx)(p.l.Footer,{ref:c,children:(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)("div",{className:"d-flex flex-row gap-2 flex-justify-end",children:(0,i.jsx)(p.l.Buttons,{buttons:o})}),r]})}):null,s[1]=r,s[2]=o,s[3]=c,s[4]=n):n=s[4],n}C.displayName="DialogFooter";let x="CHANGE_COMMIT_MESSAGE",_="CHANGE_EXTENDED_DESCRIPTION",S="There was an error trying to commit changes";function j(e,t){switch(t.type){case x:return{...e,commitMessage:t.payload};case _:return{...e,extendedDescription:t.payload};default:return console.error("Unknown suggested change action."),e}}function A(e){let t,n,l,d,A,k,N,R,O,E,F,T,M,P,B,G,L,$,U,V,q,z=(0,a.c)(61),{authorLogins:Q,batchSize:W,onClose:H,onCommit:X,defaultCommitMessage:J,dialogTitle:K,suggestions:Y,onRemoveSuggestion:Z,onDiscardBatch:ee,returnFocusRef:et}=e,en=(0,r.A)(),{sendAnalyticsEvent:ei}=(0,s.s)(),[ea,es]=(0,v.useState)(!1),[er,eo]=(0,v.useState)(!1),[el,ed]=(0,v.useState)();if(z[0]!==Q||z[1]!==J)t=J||(1===Q.length?`Apply suggestion from @${Q[0]}`:1===new Set(Q).size?`Apply suggestions from @${Q[0]}`:"Apply suggestions from code review"),z[0]=Q,z[1]=J,z[2]=t;else t=z[2];z[3]!==t?(n={commitMessage:t,extendedDescription:""},z[3]=t,z[4]=n):n=z[4];let[ec,eu]=(0,v.useReducer)(j,n);z[5]!==en?(l=(e,t,n)=>{let i;en()&&(i=n?S+`: ${n}`:S+".",es(!1),ed(i))},z[5]=en,z[6]=l):l=z[6];let em=l;z[7]!==el||z[8]!==en?(d=()=>{en()&&(es(!1),el&&ed(void 0))},z[7]=el,z[8]=en,z[9]=d):d=z[9];let ef=d;z[10]!==W||z[11]!==ec.commitMessage||z[12]!==ec.extendedDescription||z[13]!==ef||z[14]!==em||z[15]!==ea||z[16]!==X||z[17]!==ei?(A=()=>{ea||(es(!0),ei("comments.commit_suggestion","COMMIT_SUGGESTION_DIALOG_BUTTON",{batchSize:W}),X(`${ec.commitMessage}

${ec.extendedDescription}`,em,ef))},z[10]=W,z[11]=ec.commitMessage,z[12]=ec.extendedDescription,z[13]=ef,z[14]=em,z[15]=ea,z[16]=X,z[17]=ei,z[18]=A):A=z[18];let eh=A;z[19]===Symbol.for("react.memo_cache_sentinel")?(k=()=>{eo(!0)},z[19]=k):k=z[19];let eg=k;z[20]!==ee?(N=()=>{eo(!1),ee?.()},z[20]=ee,z[21]=N):N=z[21];let ep=N;z[22]===Symbol.for("react.memo_cache_sentinel")?(R=()=>{eo(!1)},z[22]=R):R=z[22];let ev=R,eb=W>1?"Apply suggestions":"Apply suggestion";z[23]!==el||z[24]!==eh||z[25]!==ea||z[26]!==H||z[27]!==ee||z[28]!==Y?(O=()=>ee?(0,i.jsx)(p.l.Footer,{children:(0,i.jsxs)("div",{className:"d-flex flex-column width-full",children:[(0,i.jsxs)("div",{className:"d-flex flex-row flex-justify-between width-full",children:[(0,i.jsx)(p.l.Buttons,{buttons:[{content:"Discard batch",onClick:eg,buttonType:"danger"}]}),(0,i.jsx)("div",{className:"d-flex flex-row gap-2",children:(0,i.jsx)(p.l.Buttons,{buttons:[{content:"Cancel",onClick:H},{content:(0,i.jsxs)("span",{className:"d-flex flex-row flex-items-center",children:["Apply suggestions",Y&&(0,i.jsx)(c.A,{className:"ml-1 color-fg-inherit",children:Y.length}),ea&&(0,i.jsx)(u.A,{size:"small",className:"ml-1"})]}),onClick:eh,buttonType:"primary"}]})})]}),el&&(0,i.jsx)(m.A.Validation,{variant:"error",className:"mt-2 pt-1 flex-justify-end",children:el})]})}):(0,i.jsx)(C,{footerButtons:[{content:"Cancel",onClick:H},{content:(0,i.jsxs)("span",{className:"d-flex flex-row flex-items-center",children:["Apply Suggestion",ea&&(0,i.jsx)(u.A,{size:"small",className:"ml-1"})]}),onClick:eh,buttonType:"primary"}],children:el&&(0,i.jsx)(m.A.Validation,{variant:"error",className:"mt-2 pt-1 flex-justify-end",children:el})}),z[23]=el,z[24]=eh,z[25]=ea,z[26]=H,z[27]=ee,z[28]=Y,z[29]=O):O=z[29];let ew=O;z[30]!==eh?(E={"github:submit-form":eh},z[30]=eh,z[31]=E):E=z[31];let ey=K||eb;z[32]===Symbol.for("react.memo_cache_sentinel")?(F=(0,i.jsx)(m.A.Label,{required:!0,children:"Commit message"}),z[32]=F):F=z[32],z[33]===Symbol.for("react.memo_cache_sentinel")?(T=e=>eu({type:x,payload:e.target.value}),z[33]=T):T=z[33],z[34]!==ec.commitMessage?(M=(0,i.jsxs)(m.A,{className:"mb-2",children:[F,(0,i.jsx)(f.A,{block:!0,name:"commit_message",onChange:T,value:ec.commitMessage})]}),z[34]=ec.commitMessage,z[35]=M):M=z[35],z[36]===Symbol.for("react.memo_cache_sentinel")?(P=(0,i.jsx)(m.A.Label,{children:"Extended description"}),z[36]=P):P=z[36],z[37]===Symbol.for("react.memo_cache_sentinel")?(B=e=>eu({type:_,payload:e.target.value}),z[37]=B):B=z[37],z[38]!==ec.extendedDescription?(G=(0,i.jsxs)(m.A,{children:[P,(0,i.jsx)(h.Ay,{block:!0,rows:3,placeholder:"Add an optional description...",onChange:B,value:ec.extendedDescription})]}),z[38]=ec.extendedDescription,z[39]=G):G=z[39],z[40]!==Z||z[41]!==Y?(L=Y&&Y.length>0&&(0,i.jsxs)("div",{className:"pr-mb-3 pr-mt-3",children:[(0,i.jsxs)("p",{className:"f6 text-bold mb-2",children:["Suggestions to apply ",(0,i.jsx)(c.A,{children:Y.length})]}),(0,i.jsx)("div",{style:{maxHeight:"200px",overflowY:"auto"},children:Y.map(e=>(0,i.jsxs)("div",{className:"border rounded-2 mb-2",children:[(0,i.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between p-2",style:{transition:"background-color 0.1s"},onMouseEnter:I,onMouseLeave:D,children:[(0,i.jsx)(b.FileIcon,{className:"mr-2",size:16}),(0,i.jsx)("span",{className:"flex-1 text-mono f6",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.path}),Z&&(0,i.jsx)(g.K,{"aria-label":`Remove suggestion from ${e.path}`,icon:b.XIcon,size:"small",variant:"invisible",onClick:()=>Z({commentDatabaseId:e.commentDatabaseId,suggestionIndex:e.suggestionIndex})})]}),(0,i.jsx)("div",{className:"p-2",children:(0,i.jsx)(w.vb,{className:"markdown-body","comment-testid":"Comment body html for comment",html:e.bodyHTML})})]},e.commentDatabaseId))})]}),z[40]=Z,z[41]=Y,z[42]=L):L=z[42],z[43]!==H||z[44]!==ew||z[45]!==et||z[46]!==ey||z[47]!==M||z[48]!==G||z[49]!==L?($=(0,i.jsxs)(p.l,{title:ey,renderFooter:ew,onClose:H,returnFocusRef:et,children:[M,G,L]}),z[43]=H,z[44]=ew,z[45]=et,z[46]=ey,z[47]=M,z[48]=G,z[49]=L,z[50]=$):$=z[50],z[51]!==E||z[52]!==$?(U=(0,i.jsx)(o.tL,{commands:E,children:$}),z[51]=E,z[52]=$,z[53]=U):U=z[53];let eC=Y?.length||W;return z[54]!==ep||z[55]!==er||z[56]!==eC?(V=(0,i.jsx)(y.G,{isOpen:er,onConfirm:ep,onCancel:ev,suggestionsCount:eC}),z[54]=ep,z[55]=er,z[56]=eC,z[57]=V):V=z[57],z[58]!==U||z[59]!==V?(q=(0,i.jsxs)(i.Fragment,{children:[U,V]}),z[58]=U,z[59]=V,z[60]=q):q=z[60],q}function D(e){return e.currentTarget.style.backgroundColor="transparent"}function I(e){return e.currentTarget.style.backgroundColor="var(--bgColor-muted, #f6f8fa)"}A.displayName="ApplySuggestionDialog"},44937(e,t,n){n.d(t,{G:()=>r});var i=n(74848),a=n(16522),s=n(39081);function r(e){let t,n,r,o,l,d,c,u,m=(0,a.c)(19),{isOpen:f,onConfirm:h,onCancel:g,suggestionsCount:p}=e;if(!f)return null;m[0]!==g?(t={content:"Cancel",onClick:g},m[0]=g,m[1]=t):t=m[1],m[2]!==h?(n={content:"Discard",buttonType:"danger",onClick:h},m[2]=h,m[3]=n):n=m[3],m[4]!==t||m[5]!==n?(r=[t,n],m[4]=t,m[5]=n,m[6]=r):r=m[6],m[7]!==p?(o=(0,i.jsxs)("span",{children:["Are you sure you want to discard this batch? This will remove all ",p," "]}),m[7]=p,m[8]=o):o=m[8];let v=1===p?"suggestion":"suggestions";return m[9]!==v?(l=(0,i.jsx)("span",{children:v}),m[9]=v,m[10]=l):l=m[10],m[11]===Symbol.for("react.memo_cache_sentinel")?(d=(0,i.jsx)("span",{children:" from the batch."}),m[11]=d):d=m[11],m[12]!==o||m[13]!==l?(c=(0,i.jsxs)("p",{children:[o,l,d]}),m[12]=o,m[13]=l,m[14]=c):c=m[14],m[15]!==g||m[16]!==r||m[17]!==c?(u=(0,i.jsx)(s.l,{title:"Discard batch?",onClose:g,footerButtons:r,width:"medium",children:c}),m[15]=g,m[16]=r,m[17]=c,m[18]=u):u=m[18],u}r.displayName="DiscardBatchConfirmationDialog"},74072(e,t,n){n.d(t,{i:()=>l});var i=n(74848),a=n(16522),s=n(26151),r=n(17818),o=n(34164);function l(e){let t,n,l,d,c=(0,a.c)(12),{diffLines:u,tabSize:m,className:f,diffTableClassName:h}=e;if(!u||u.length<1)return null;c[0]!==u?(t=(0,s.c7)(u),c[0]=u,c[1]=t):t=c[1];let g=t;return c[2]!==f?(n=(0,o.$)("StaticUnifiedDiffPreview-module__StaticDiffPreview__vbOt_",f),c[2]=f,c[3]=n):n=c[3],c[4]!==u||c[5]!==h||c[6]!==g||c[7]!==m?(l=(0,i.jsx)(r.l4,{lineWidth:g,lines:u,tabSize:m,className:h}),c[4]=u,c[5]=h,c[6]=g,c[7]=m,c[8]=l):l=c[8],c[9]!==n||c[10]!==l?(d=(0,i.jsx)("div",{className:n,children:l}),c[9]=n,c[10]=l,c[11]=d):d=c[11],d}l.displayName="StaticUnifiedDiffPreview"},68173(e,t,n){n.d(t,{UZ:()=>i,fO:()=>s,hH:()=>a,vk:()=>r});let i={Failure:"FAILURE",Notice:"NOTICE",Warning:"WARNING"},a={Vanilla:"vanilla",CodeScanning:"code_scanning",Copilot:"copilot",Dependabot:"dependabot",CodeQuality:"code_quality",Automated:"automated"},s={NoSuggestion:"no_suggestion",Pending:"pending",Present:"present",Outdated:"outdated",Error:"error",Applied:"applied"},r={CodeScanning:"code_scanning",CodeQuality:"code_quality",LicenseCompliance:"license_compliance",Copilot:"copilot"}},488(e,t,n){n.d(t,{u:()=>s});var i=n(16522),a=n(96540);function s(e){let t,n,s=(0,i.c)(6),{isAnchorable:r,commentId:o,commentAnchor:l,containerRef:d}=e;s[0]!==l||s[1]!==o||s[2]!==d||s[3]!==r?(t=()=>{r&&o&&l&&window.location.hash.split("#").pop()===l&&d.current?.focus()},n=[l,o,r,d],s[0]=l,s[1]=o,s[2]=d,s[3]=r,s[4]=t,s[5]=n):(t=s[4],n=s[5]),(0,a.useEffect)(t,n)}},88126(e,t,n){n.d(t,{Be:()=>s,Sl:()=>o,Wp:()=>a,YY:()=>d,jH:()=>l,wm:()=>r});let i="__OUTSIDE_DIFF__";function a(e){return e.reduce((e,t)=>(e[t.path]=t,e),{})}function s(e){return e.reduce((e,t)=>(e[t.path]=!!t.markedAsViewed,e),{})}function r(e){let t=e.comments.map(e=>parseInt(e.threadId));return{id:e.id,pendingReviewIDs:t,comments:e.comments}}function o(e){return e.reduce((e,t)=>(e[t.path]=t,e),{})}function l(e,t){if(!e)return;let n={};if(!t)return n;let a=new Set(Object.keys(e.threads).map(e=>Number(e)));for(let i of t){if(!i.markersMap||0===Object.keys(i.markersMap).length)continue;let t=i.path,s={};for(let t in i.markersMap){let n=i.markersMap[t];if(!n?.threads&&!n?.annotations)continue;let r={threads:[],annotations:[]};if(n.annotations)for(let t of n.annotations){let n=e.annotations[Number(t.id)];n&&r.annotations.push(n)}if(n.threads)for(let s of n.threads){let n=Number(s.id),o=function(e,t,n){if("FILE"===e)return;let i=e[0];if(!u(i))return;let a=Number(e.slice(1)),s=-1,r="R";if(t.start){s=parseInt(t.start.slice(1));let e=t.start[0];u(e)&&(r=e)}else s=a,r=i;return{endLine:a,endDiffSide:c[i],path:n,startLine:s,startDiffSide:c[r],isOutdated:!!t.outdatedReason}}(t,s,i.path),l=e.threads[n];l&&o&&(l={...l,positioning:o,subject:o}),l&&(r.threads.push(l),a.delete(n))}"FILE"===t?s.FILE=r:s[t]=r}n[t]=s}if(a.size>0){let t={};for(let n of a){let a=e.threads[n];a&&(t[i]||(t[i]={threads:[],annotations:[]}),t[i].threads.push(a))}n[i]=t}return n}function d(e){return{endLine:e.line,endDiffSide:e.side?.toLowerCase()==="right"?"RIGHT":"LEFT",path:e.path,startLine:e.startLine??e.line,startDiffSide:e.startSide?e.startSide?.toLowerCase()==="right"?"RIGHT":"LEFT":e.side?.toLowerCase()==="right"?"RIGHT":"LEFT",isOutdated:!1}}let c={L:"LEFT",R:"RIGHT"};function u(e){return"L"===e||"R"===e}},46348(e,t,n){n.d(t,{CE:()=>s,Ol:()=>r,hW:()=>o});var i=n(81076);function a(e,t){return`${e}-${t}-active-batch-suggestions`}function s(e,t,n){let s=a(e,t);(0,i.SO)(s,JSON.stringify(n))}function r(e,t){let n=a(e,t),s=(0,i.Gq)(n);if(!s)return[];try{let e=JSON.parse(s);return Array.isArray(e)?e:[]}catch{return[]}}function o(e,t){let n=a(e,t);(0,i.Ai)(n)}},14303(e,t,n){n.d(t,{n:()=>d,u:()=>l});var i=n(16522),a=n(90321),s=n(41626),r=n(94747),o=n(6373);function l(e,t){let n,a=(0,i.c)(4),s=(0,o.Kp)(),{updateThreadComment:r}=(0,o.an)();return a[0]!==e||a[1]!==t||a[2]!==r?(n=(n,i)=>{r({threadID:parseInt(i.threadId),filePath:e,lineMarkersKey:t,match:e=>e.databaseId===i.commentDatabaseId,transform:e=>{if(e)return{...e,reactionGroups:n.reactionGroups}}})},a[0]=e,a[1]=t,a[2]=r,a[3]=n):n=a[3],d(s,n)}function d(e,t){let n,o,l=(0,i.c)(5);return l[0]!==e?(n=async t=>{let{commentDatabaseId:n,reaction:i,viewerHasReacted:r}=t,o=`${e}/page_data/${r?s.uT.removeCommentReaction:s.uT.addCommentReaction}`,l=await (0,a.q$)(o,{method:"POST",body:{reaction:i,commentId:n}}),d=await (0,a.hp)(l);return(0,a.R)(l,d),d},l[0]=e,l[1]=n):n=l[1],l[2]!==t||l[3]!==n?(o={mutationFn:n,onSuccess:t},l[2]=t,l[3]=n,l[4]=o):o=l[4],(0,r.n)(o)}},26759(e,t,n){n.d(t,{dG:()=>d,hG:()=>m,o5:()=>c});var i=n(16522),a=n(97286),s=n(58388),r=n(41626),o=n(6373);function l(e){return{queryKey:[r.uT.codeowners,e],queryFn:async()=>{let t=`${e}/page_data/${r.uT.codeowners}`,n=await (0,s.QJ)(t);if(!n.ok)throw Error(`HTTP ${n.status}`);return await n.json()},staleTime:1/0}}function d(e){let t,n,s=(0,i.c)(7),{basePath:r,initialData:d}=e,c=(0,o.a$)();s[0]!==r?(t=l(r),s[0]=r,s[1]=t):t=s[1];let{queryFn:u,queryKey:m}=t;return s[2]!==d||s[3]!==u||s[4]!==m||s[5]!==c?(n={enabled:c,queryKey:m,queryFn:u,initialData:d,staleTime:1/0},s[2]=d,s[3]=u,s[4]=m,s[5]=c,s[6]=n):n=s[6],(0,a.I)(n)}function c(e){let t,n,s,r=(0,i.c)(9),{basePath:d,diffPath:c}=e,u=(0,o.a$)();r[0]!==d?(t=l(d),r[0]=d,r[1]=t):t=r[1];let{queryFn:f,queryKey:h}=t;r[2]!==c?(n=e=>m({codeownersData:e,diffPath:c}),r[2]=c,r[3]=n):n=r[3];let g=n;return r[4]!==f||r[5]!==h||r[6]!==u||r[7]!==g?(s={enabled:u,queryKey:h,queryFn:f,staleTime:1/0,select:g},r[4]=f,r[5]=h,r[6]=u,r[7]=g,r[8]=s):s=r[8],(0,a.I)(s)}let u={isOwnedByViewer:!1,owners:[],ruleLineNumber:void 0,ruleUrl:void 0};function m({diffPath:e,codeownersData:t}){if(!t)return u;let n=t.ownershipByPath[e];return n?{isOwnedByViewer:n.isOwnedByViewer,owners:n.owners||[],ruleLineNumber:n.ruleLineNumber,ruleUrl:n.ruleUrl}:u}},67712(e,t,n){n.d(t,{n:()=>$,v:()=>V});var i=n(74848),a=n(96540),s=n(71323),r=n(97283),o=n(87134),l=n(79551),d=n(61309),c=n(35750),u=n(18150),m=n(85242),f=n(51901),h=n(88243),g=n(16213),p=new WeakMap,v=new WeakMap,b=new WeakMap,w=new WeakSet;class y{get size(){return(0,c._)(this,b)-(0,c._)(this,v)}get isEmpty(){return 0===this.size}pushFront(e){(0,f._)(this,v).value--,(0,c._)(this,p).set((0,c._)(this,v),e)}pushFrontMany(e){for(let t=e.length-1;t>=0;t--){let n=e[t];void 0!==n&&((0,f._)(this,v).value--,(0,c._)(this,p).set((0,c._)(this,v),n))}}pushBack(e){(0,c._)(this,p).set((0,c._)(this,b),e),(0,f._)(this,b).value++}pushBackMany(e){for(let t of e)(0,c._)(this,p).set((0,c._)(this,b),t),(0,f._)(this,b).value++}popFront(){if(this.isEmpty)return;let e=(0,c._)(this,p).get((0,c._)(this,v));return(0,c._)(this,p).delete((0,c._)(this,v)),(0,f._)(this,v).value++,(0,h._)(this,w,C).call(this),e}popFrontMany(e){let t=[],n=Math.min(e,this.size);for(let e=0;e<n;e++)t.push((0,c._)(this,p).get((0,c._)(this,v))),(0,c._)(this,p).delete((0,c._)(this,v)),(0,f._)(this,v).value++;return(0,h._)(this,w,C).call(this),t}popBack(){if(this.isEmpty)return;(0,f._)(this,b).value--;let e=(0,c._)(this,p).get((0,c._)(this,b));return(0,c._)(this,p).delete((0,c._)(this,b)),(0,h._)(this,w,C).call(this),e}popBackMany(e){let t=[],n=Math.min(e,this.size);for(let e=0;e<n;e++)(0,f._)(this,b).value--,t.push((0,c._)(this,p).get((0,c._)(this,b))),(0,c._)(this,p).delete((0,c._)(this,b));return(0,h._)(this,w,C).call(this),t}peekFront(){if(!this.isEmpty)return(0,c._)(this,p).get((0,c._)(this,v))}peekBack(){if(!this.isEmpty)return(0,c._)(this,p).get((0,c._)(this,b)-1)}at(e){if(!(e<0)&&!(e>=this.size))return(0,c._)(this,p).get((0,c._)(this,v)+e)}clear(){(0,c._)(this,p).clear(),(0,m._)(this,v,0),(0,m._)(this,b,0)}asArray(){let e=[];for(let t=(0,c._)(this,v);t<(0,c._)(this,b);t++)e.push((0,c._)(this,p).get(t));return e}*[Symbol.iterator](){for(let e=(0,c._)(this,v);e<(0,c._)(this,b);e++)yield(0,c._)(this,p).get(e)}*reverse(){for(let e=(0,c._)(this,b)-1;e>=(0,c._)(this,v);e--)yield(0,c._)(this,p).get(e)}constructor(e){if((0,g._)(this,w),(0,u._)(this,p,{writable:!0,value:new Map}),(0,u._)(this,v,{writable:!0,value:0}),(0,u._)(this,b,{writable:!0,value:0}),e)for(const t of e)this.pushBack(t)}}function C(){if(-1e6>(0,c._)(this,v)||(0,c._)(this,b)>1e6){let e=new Map,t=0;for(let n=(0,c._)(this,v);n<(0,c._)(this,b);n++)e.set(t,(0,c._)(this,p).get(n)),t++;(0,m._)(this,p,e),(0,m._)(this,v,0),(0,m._)(this,b,t)}}let x="u">typeof globalThis&&void 0!==globalThis.window,_="u">typeof process&&!1,S={timeout:150,useIdleCallback:!0};var j=n(92163),A=n(29604),D=n(88126),I=n(90321),k=n(41626),N=n(58388),R=n(53894),O=n(24043);function E({basePath:e,effectiveRange:t,hideWhitespace:n}){return[k.uT.diffEntries,e,`baseOid:${t.baseOid}`,`headOid:${t.headOid}`,`hideWhitespace:${n}`]}async function F(e){let t=(0,R.SX)(),n=E(e),i=await M(e);return i&&i.length>0&&t.setQueryData(n,(0,l.jM)(e=>{if(!e)return i;for(let t of i)e.find(e=>e.pathDigest===t.pathDigest)||e.push(t)})),i}async function T(e){let t,n=(0,R.SX)(),i=E(e),a=n.getQueryData(i);if(a?.length){let n=new Set(a.map(e=>e.path));if(0===(t=e.paths.filter(e=>!n.has(e))).length)return a}else t=e.paths;let s=await M({...e,paths:t});return s&&s.length>0&&n.setQueryData(i,(0,l.jM)(e=>{if(!e)return s;for(let t of s)e.find(e=>e.pathDigest===t.pathDigest)||e.push(t)})),(n.getQueryData(i)||[]).filter(t=>e.paths.includes(t.path))}async function M({basePath:e,fullDiff:t,effectiveRange:n,paths:i,contextRanges:a,signal:s,hideWhitespace:r,isComparisonOutdated:o}){let l=new URLSearchParams,d=i.map(e=>encodeURIComponent(e));if(l.append("paths",d.join(",")),a){let e=i.map(e=>(a[e]??[]).map(([e,t])=>`${e}-${t}`).join(",")).join(":");l.append("ctx",e)}l.append("w",r?"1":"0"),n.baseOid===t.baseOid?l.append("range",n.headOid):l.append("range",`${n.baseOid}..${n.headOid}`),o&&l.append("outdated","1");let c=`${e}/page_data/${k.uT.diffEntries}?${l.toString()}`;try{let e=await (0,N.Sr)(c,{signal:s});if(s?.aborted)return;let t=await (0,I.hp)(e);return(0,I.R)(e,t),t??void 0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw e}}function P(e,t,n,i){return[k.uT.diffContextLines,e,t,n,i]}async function B({contextLineRanges:e,basePath:t,path:n,w:i="0",fullDiff:a,effectiveRange:s}){let r=new URLSearchParams;for(let t of(r.append("path",n),e))r.append("context_line_ranges[]",JSON.stringify(t));r.append("w",i),s.baseOid===a.baseOid?r.append("range",s.headOid):r.append("range",`${s.baseOid}..${s.headOid}`);let o=`${t}/page_data/${k.uT.diffContextLines}?${r.toString()}`,l=await (0,N.QJ)(o);if(l.ok)return await l.json()??void 0}var G=n(46348);let L=(0,a.createContext)(null);function $(e){let t=(0,a.use)(L);if(!t)throw Error("Missing PullRequestStoreProvider in the tree");return(0,s.P)(t,e)}L.displayName="PullRequestStoreContext";let U={forceUnifiedView:!1,useChangeGroups:!1,useInlineComments:!0,useEditOptions:!0,useFileTree:!1,useAdvancedToolbar:!1,useBasicToolbar:!0,userCanComment:!0,treeCollapsedByDefault:!1,treeEnableInlineCompactMode:!1},V=({initData:e,configOpts:t=U,children:n})=>{var s,r,o,l,d,c;let u,m,f=(0,a.useRef)(null),h=(0,A.Qn)(e.user.viewSettings.hideWhitespace),g=(0,A.C0)(e.user.viewSettings.splitPreference),p=e.user.viewSettings.commentsPreference,{data:v}=(0,A.ID)({splitPreference:g,lineSpacing:e.user.viewSettings.lineSpacing,commentsPreference:p});(0,a.useEffect)(()=>{f.current&&v&&f.current.getState().viewSettingsActions.setViewSettings(v)},[v]);let b=(0,D.Wp)(e.diffSummaries),w=(0,D.Be)(e.diffSummaries),y=(0,D.wm)(e.viewerPendingReview),C=(0,D.Sl)(e.diffContents),x=(0,D.jH)(e.markers,e.diffSummaries),_=(0,G.Ol)(e.pullRequest.pathName,e.pullRequest.comparison.headOid);return f.current||(s=e.comparison.selectedRange?.baseOid,r=e.comparison.selectedRange?.headOid,o=e.pullRequest.pathName,l=e.diffContents,d=e.pullRequest.comparison,c=h,u=(0,R.SX)(),m=E({basePath:o,effectiveRange:{baseOid:s??d.baseOid,headOid:r??d.headOid},hideWhitespace:c}),u.setQueryData(m,l),f.current=q({baseOid:e.pullRequest.comparison.baseOid,headOid:e.pullRequest.comparison.headOid,selectedCommitRange:e.comparison.selectedRange,comparisonView:e.comparison.viewing,changeGroupGeneration:e.changeGroupGeneration,currentUser:e.user,hideWhitespace:h,isSingleFileMode:e.isSingleFileMode,collapsedFilesMap:w,initialSummariesViewedStatus:w,initialSummariesViewedCount:e.user.viewedFilesCount,issueCommentsCount:e.pullRequest.issueCommentsCount,diffEntries:C,commentsPreference:p,initialDiffSummaries:b,initialLoadedPathDigests:new Set(e.diffContents.map(e=>e.pathDigest)),markers:x,basePath:e.pullRequest.pathName,pendingReview:y,pullRequest:e.pullRequest,baseRepository:e.repository,selectedPathDigest:(0,j.jU)((0,j.o9)()),initialActiveBatch:_.length>0?_:void 0,showChangeGroupPreference:e.user.viewSettings.showChangeGroups,shouldLoadCodeowners:e.shouldLoadCodeowners,configOpts:t,viewSettings:v})),(0,i.jsx)(L,{value:f.current,children:n})};V.displayName="PullRequestStoreProvider";let q=e=>(0,r.y)()((0,o.lt)((...t)=>({...(({changeGroupGeneration:{canAccessChangeGroups:e,changeGroups:t,changeGroupFeedbackOptions:n,latestChangeGroupOrchestration:i,changeGroupGenerationChannel:a,unavailableReason:s},showChangeGroupPreference:r})=>o=>({changeGroupGeneration:{canAccessChangeGroups:e,changeGroups:t,changeGroupFeedbackOptions:n,latestChangeGroupOrchestration:i,changeGroupGenerationChannel:a,unavailableReason:s},showChangeGroupPreference:r,changeGroupGenerationActions:{updateChangeGroupGeneration:e=>o(t=>({changeGroupGeneration:{...t.changeGroupGeneration,...e},showChangeGroupPreference:t.showChangeGroupPreference}),void 0,"updateChangeGroupGeneration"),updateChangeGroupPreference:e=>o(t=>({changeGroupGeneration:t.changeGroupGeneration,showChangeGroupPreference:e}),void 0,"updateChangeGroupPreference")}}))(e)(...t),...(({shouldLoadCodeowners:e})=>(t,n)=>({codeowners:void 0,shouldLoadCodeowners:e,codeownersActions:{setCodeowners:e=>{t({codeowners:e},void 0,"updateCodeowners")}}}))(e)(...t),...(({baseOid:e,headOid:t,selectedCommitRange:n,comparisonView:i,hideWhitespace:a})=>s=>({comparisonInfo:{fullDiff:{baseOid:e,headOid:t},selectedRange:n,effectiveRange:n??{baseOid:e,headOid:t},hideWhitespace:a,comparisonView:i},isComparisonOutdated:!1,comparisonInfoActions:{updateWhitespace:e=>s(t=>({comparisonInfo:{...t.comparisonInfo,hideWhitespace:e}}),void 0,"comparisonInfo#updateWhitespace"),markComparisonOutdated:()=>s(()=>({isComparisonOutdated:!0}),void 0,"comparisonInfo#markComparisonOutdated")}}))(e)(...t),...(({configOpts:e})=>t=>({configOpts:e,configOptsActions:{updateConfigOpts:e=>{t(t=>({configOpts:{...t.configOpts,...e}}))}}}))(e)(...t),...(({currentUser:e})=>t=>({currentUser:e,currentUserActions:{updateCurrentUser:e=>{t(t=>({currentUser:{...t.currentUser,...e}}))}}}))(e)(...t),...((e,t)=>({diffFilter:{state:{activeChangeGroupId:void 0,filterText:"",fileExtensions:{},unselectedFileExtensions:new Set,showDeletedFiles:!0,showOnlyManifestFiles:!1,showOnlyOwnedFiles:!1,showVendoredFiles:!0,showViewedFiles:!0},filtersInteractedWith:!1},diffFilterActions:{updateDiffFilter:(n,i)=>{e({diffFilter:{...t().diffFilter,state:{...t().diffFilter.state,...n},filtersInteractedWith:t().diffFilter.filtersInteractedWith||!!i}},void 0,"updateFilters")},clearAllFilters:()=>{e({diffFilter:{...t().diffFilter,state:{...t().diffFilter.state,filterText:"",unselectedFileExtensions:new Set,showOnlyOwnedFiles:!1,showDeletedFiles:!0,showOnlyManifestFiles:!1,showVendoredFiles:!0,showViewedFiles:!0},filtersInteractedWith:!0}},void 0,"clearAllFilters")}}}))(...t),...(({initialDiffSummaries:e,initialSummariesViewedStatus:t,initialSummariesViewedCount:n})=>(i,a)=>({diffSummaries:e,summariesViewedCount:n,summariesViewedStatus:t,codeowners:void 0,getDiffFromThreadID:e=>{for(let t of Object.values(a().diffSummaries))if(t.markersMap){for(let[n,i]of Object.entries(t.markersMap))if(i.threads.some(t=>Number(t.id)===Number(e)))return t}},getPathDigestFromThreadID:e=>{let t=a().getDiffFromThreadID(e);return t?t.pathDigest:void 0},getPathDigestFromAnnotationID:e=>{for(let t of Object.values(a().diffSummaries))if(t.markersMap){for(let[n,i]of Object.entries(t.markersMap))if(i.annotations.some(t=>t.id===e))return t.pathDigest}},getFilePathFromThreadID:e=>{let t=a().getDiffFromThreadID(e);return t?t.path:void 0},diffSummariesActions:{setDiffSummaries:e=>{i({diffSummaries:e},void 0,"updateDiffSummaries")},setDiffViewed:(e,t)=>{i(n=>n.diffSummaries?{summariesViewedStatus:(0,l.jM)(n.summariesViewedStatus,n=>{n[e]=t}),summariesViewedCount:n.summariesViewedCount+(t?1:-1),diffSummaries:(0,l.jM)(n.diffSummaries,n=>{n[e]&&(n[e].markedAsViewed=t)})}:n)},onCommentThreadAdded:({path:e,diffLineKey:t,startPosition:n,threadID:a})=>{i((0,l.jM)(i=>{if(!i.diffSummaries)return;let s=i.diffSummaries[e];if(!s)return;let r=s.markersMap??{};r[t]||(r[t]={threads:[],annotations:[]}),r[t].threads.push({id:parseInt(a),start:n}),s.totalCommentsCount=(s.totalCommentsCount||0)+1}),void 0,"commentAddedForDiffSummary")},onCommentThreadDeleted:({path:e,threadID:t})=>{i((0,l.jM)(n=>{if(!n.diffSummaries)return;let i=n.diffSummaries[e];if(i&&i?.totalCommentsCount&&i?.markersMap)for(let[e,n]of Object.entries(i.markersMap))n.threads=n.threads.filter(e=>e.id!==parseInt(t)),0===n.threads.length&&0===n.annotations.length&&delete i.markersMap[e]}),void 0,"commentDeletedForDiffSummary")}}}))(e)(...t),...(({issueCommentsCount:e})=>(t,n)=>({issueComments:[],issueCommentsCount:e,commentsPanelActions:{setIssueComments:e=>{t({issueComments:e},void 0,"setIssueComments")},addIssueComment:e=>{t(t=>({issueComments:[e,...t.issueComments]}),void 0,"addIssueComment"),n().commentsPanelActions.incrementIssueCommentsCount()},updateIssueComment:({match:e,transform:n})=>{t(t=>({issueComments:t.issueComments.map(t=>e(t)?n(t)??t:t)}),void 0,"updateIssueComment")},incrementIssueCommentsCount:()=>{t(e=>({issueCommentsCount:e.issueCommentsCount+1}),void 0,"incrementIssueCommentsCount")}}}))(e)(...t),...(({markers:e})=>(t,n)=>({markers:e,getThread:(e,t,i)=>{let a=n().markers;if(a)return a[t]?.[i]?.threads?.find(t=>Number(t.id)===e)},getThreadFromCommentID:e=>{let t=n().markers;if(!t)return;let i=Object.values(t).flatMap(e=>Object.values(e).flatMap(e=>e?.threads??[]));if(i){for(let t of Object.values(i))if(t?.commentsData?.comments.some(t=>t.databaseId===e))return t}},getAnnotationFromID:e=>{let t=n().markers;if(!t)return;let i=Object.values(t).flatMap(e=>Object.values(e).flatMap(e=>e?.annotations??[]));if(i){for(let t of Object.values(i))if(t.databaseId===e)return t}},markersActions:{updateThread:(e,i,a,s)=>{let r=n().markers;if(!r)return;let o=s(r[i]?.[a]?.threads?.find(t=>Number(t.id)===e));o&&t({markers:(0,l.jM)(r,t=>{let n=t[i]?.[a]?.threads?.findIndex(t=>Number(t.id)===e);if(void 0===n||-1===n)t[i]||(t[i]={}),t[i][a]||(t[i][a]={threads:[],annotations:[]}),t[i][a].threads.push(o);else if(t[i]&&t[i][a]&&-1!==n){let e=o.positioning??t[i][a].threads[n]?.positioning,s=o.subject??t[i][a].threads[n]?.subject,r={...o,positioning:e,subject:s};t[i][a].threads[n]=r}})},void 0,"updateThread")},updateThreads:e=>{let i=n().markers;i&&t({markers:(0,l.jM)(i,t=>{for(let n of Object.keys(i)){let i=t[n];if(i)for(let t of Object.keys(i)){let n=i[t];if(!n)continue;let a=n.threads;a&&(n.threads=e(a))}}})})},deleteThreadComment:(e,i,a,s)=>{let r="not_found",o=n().markers;return o&&t({markers:(0,l.jM)(o,t=>{let n=t[a]?.[s]?.threads?.find(t=>Number(t.id)===e);if(!n){r="not_found";return}let o=n.commentsData,l=o?.comments.filter(e=>e.id!==i)??[];if(!o||o.comments.length===l.length){r="not_found";return}if(0===l.length){r="thread_deleted";let n=t[a]?.[s]?.threads;if(n){let t=n.findIndex(t=>Number(t.id)===e);-1!==t&&n.splice(t,1)}}else r="comment_deleted",o&&(o.comments=l)})},void 0,"deleteThreadComment"),r},updateThreadComment:({threadID:e,filePath:i,lineMarkersKey:a,match:s,transform:r})=>{let o=n().markers;o&&t({markers:(0,l.jM)(o,t=>{let n,o=t[i]?.[a]?.threads?.find(t=>Number(t.id)===e);if(!o)return;let l=o.commentsData,d=l?.comments.findIndex(s);"number"==typeof d&&-1!==d&&(n=l?.comments[d]);let c=r(n);c&&(-1===d||"number"!=typeof d?l?.comments.push(c):l&&l.comments&&(l.comments[d]=c))})},void 0,"updateThreadComment")}}}))(e)(...t),...(({initialDiffSummaries:e,initialLoadedPathDigests:t,selectedPathDigest:n})=>(i,s)=>{let r=(({get:e,initialLoadedPathDigests:t})=>{let n=new y,i=new Set(t),s=new Set,r=!1,o=!1,l=4,c=null,u=()=>{c?.cancel(),c=function(e,t={}){let{timeout:n,useIdleCallback:i}={...S,...t};if(!x||_)return e(),{cancel:()=>{}};let s=()=>{"function"==typeof a.startTransition?(0,a.startTransition)(e):e()},r=globalThis;if(i&&"function"==typeof r.requestIdleCallback){let e=r.requestIdleCallback(s,{timeout:n});return{cancel:()=>{"function"==typeof r.cancelIdleCallback&&r.cancelIdleCallback(e)}}}let o=setTimeout(s,0);return{cancel:()=>{clearTimeout(o)}}}(m,{timeout:50})},m=async()=>{if(!o)return;let{entriesMap:t,entriesOrder:a,selectedPathDigest:c}=e();if(a.length===i.size){o=!1;return}if(r&&0===n.size){let e=c?a.indexOf(c):a.findIndex(e=>!i.has(e));if(e>0)for(let t=e;t<a.length;t++){let e=a[t];if(!e||(i.has(e)||s.has(e)||n.pushBack(e),n.size>=l))break}}let m=[];for(;n.size>0&&m.length<l;){let e=n.popFront();if(!e||i.has(e)||s.has(e))continue;let a=t[e]?.path;a&&(m.push(a),s.add(e))}if(!m.length)return void u();let f=(0,d.i)({paths:new Set(m),diffSummaries:e().diffSummaries});for(let t of(await e().diffEntriesActions.loadDiffEntries({paths:m,contextRanges:f})))s.delete(t.pathDigest),i.add(t.pathDigest);l<4&&(l=4),u()};return{startQueue:(e={autoLoadAllDiffs:!1})=>{o=!0,r=e.autoLoadAllDiffs,u()},loadPriority:e=>{e&&(n.pushFront(e),u())},loadManyPriority:e=>{n.pushFrontMany(e),l=e.length,u()}}})({get:s,initialLoadedPathDigests:t}),{entriesMap:o,entriesOrder:l}=function({diffSummaries:e,loadedPathDigests:t}){let n={},i=[];for(let a of Object.values(e)){let{path:e,pathDigest:s}=a,r=t.has(s);n[s]={path:e,pathDigest:s,isLoaded:r},i.push(s)}return{entriesMap:n,entriesOrder:i}}({diffSummaries:e,loadedPathDigests:t});return{entriesMap:o,entriesOrder:l,selectedPathDigest:n,getSelectedPathDigest:()=>s().selectedPathDigest,getProgressiveDiffEntryByPathDigest:e=>e?s().entriesMap[e]:void 0,progressiveDiffsActions:{...r,updateSelectedPathDigest:e=>{i({selectedPathDigest:e},void 0,"updateSelectedPathDigest"),e&&r.loadPriority(e)}}}})(e)(...t),...(({collapsedFilesMap:e})=>(t,n)=>({collapsedFilesMap:e,getCollapsedDiffStatus:e=>n().collapsedFilesMap?.[e]??!1,filesCollapsedStatusActions:{updateFileCollapsedStatus:(e,i)=>{let a=n().collapsedFilesMap;a&&t({collapsedFilesMap:(0,l.jM)(a,t=>{t[e]=i})},void 0,"updateFileCollapsedStatus")},updateAllFilesCollapsedStatus:e=>{let i=n().collapsedFilesMap;i&&t({collapsedFilesMap:(0,l.jM)(i,t=>{for(let n of Object.keys(t))t[n]=e})},void 0,"updateAllFilesCollapsedStatus")}}}))(e)(...t),...(({pendingReview:e})=>(t,n)=>({pendingReview:e,pendingReviewActions:{addPendingComment:e=>{let i=n().pendingReview;i&&t({pendingReview:(0,l.jM)(i,t=>{t.pendingReviewIDs||(t.pendingReviewIDs=[]),t.pendingReviewIDs.push(e)})},void 0,"addPendingComment")},removePendingComment:e=>{let i=n().pendingReview;i&&t({pendingReview:(0,l.jM)(i,t=>{let n=t.pendingReviewIDs?.filter(t=>t!==e);t.pendingReviewIDs=n})},void 0,"removePendingComment")},clearPendingReview:()=>{let e=n().pendingReview;e&&t({pendingReview:(0,l.jM)(e,e=>{e.id=void 0,e.pendingReviewIDs=[],e.comments=[]})},void 0,"clearPendingReview")}}}))(e)(...t),...(({basePath:e,diffEntries:t,baseOid:n,headOid:i,selectedCommitRange:a})=>(s,r)=>{let o=a??{baseOid:n,headOid:i},d=(0,R.SX)();for(let[n,i]of Object.entries(t)){let t=P(e,i.path,o.baseOid,o.headOid);d.setQueryData(t,()=>i.diffLines)}return{diffEntries:t,diffEntriesActions:{updateDiffEntries:t=>{let n={};for(let i of t){let t=P(e,i.path,r().comparisonInfo.effectiveRange.baseOid,r().comparisonInfo.effectiveRange.headOid);d.setQueryData(t,i.diffLines),n[i.path]=i}let i=Object.keys(n);s((0,l.jM)(e=>{for(let t of i){let i=n[t];if(i){e.diffEntries[t]=i;let n=e.entriesMap?.[i.pathDigest];n&&(n.isLoaded=!0)}}}),void 0,"updateDiffEntriesAndProgressiveDiffs")},loadDiffEntries:async t=>{var n;let i=await (n={basePath:e,...t,...r().comparisonInfo,isComparisonOutdated:r().isComparisonOutdated},(0,O.G7)("pr_sfv_new_diff_fetch")?T(n):F(n));return i&&0!==i.length?(r().diffEntriesActions.updateDiffEntries(i),i):[]},fetchContextLines:async({path:t,contextLineRanges:n,w:i="0"})=>{let a=P(e,t,r().comparisonInfo.effectiveRange.baseOid,r().comparisonInfo.effectiveRange.headOid),o=r().diffEntries[t];o&&await d.fetchQuery({queryKey:a,queryFn:async()=>{let l=await B({contextLineRanges:n,basePath:e,path:t,w:i,...r().comparisonInfo}),c=o.diffLines,u=d.setQueryData(a,e=>c=function(e,t){let n=new Map;for(let t of e){let e=`${t.left}-${t.right}`;n.set(e,t)}return t.map(e=>{let t=`${e.left}-${e.right}`,i=n.get(t);return i?{...e,position:i.position,displayNoNewLineWarning:i.displayNoNewLineWarning}:{...e,position:null,threadsData:void 0}})}(e??o.diffLines,l?.diffEntryLines??[]));return s(e=>({...e,diffEntries:{...e.diffEntries,[t]:{...o,diffLines:c}}}),void 0,"addContextLinesToDiffEntry"),u}})}}}})(e)(...t),...(({markers:e})=>(t,n)=>{let i,a,s=(0,j.Gl)(),r=(0,j.e3)();if(e){if(s){let t=Object.values(e||{}).flatMap(e=>Object.values(e).flatMap(e=>e?.threads??[]));if(t){let e=Number(s);for(let n of Object.values(t)){let t=n?.commentsData?.comments;if(n&&t)for(let s of t)Number(s.databaseId)===e&&(i=n.id,a=e)}}}else if(r){let t=Object.values(e).flatMap(e=>Object.values(e).flatMap(e=>e?.annotations??[]));if(t){let e=Number(r);for(let n of Object.values(t))Number(n.databaseId)===e&&(i=n.id)}}}return{markerAndDiffNavigation:{markerId:i,commentId:a,getCommentId:()=>n().markerAndDiffNavigation.commentId,getMarkerId:()=>n().markerAndDiffNavigation.markerId},markerAndDiffNavigationActions:{navigateToSelectedComment:e=>{let i=n().getThreadFromCommentID(e);if(i){let a=n().getPathDigestFromThreadID(i.id);t((0,l.jM)(t=>{a&&(t.selectedPathDigest=a),t.markerAndDiffNavigation.commentId=e,t.markerAndDiffNavigation.markerId=i?.id}),void 0,"navigateToSelectedComment");let s=n().getFilePathFromThreadID(i.id);s&&n().getCollapsedDiffStatus(s)&&n().filesCollapsedStatusActions.updateFileCollapsedStatus(s,!1),n().progressiveDiffsActions.loadPriority(a)}},navigateToSelectedAnnotation:e=>{let i=n().getAnnotationFromID(e);if(i){let a=n().getPathDigestFromAnnotationID(e);t((0,l.jM)(e=>{a&&(e.selectedPathDigest=a),e.markerAndDiffNavigation.commentId=void 0,e.markerAndDiffNavigation.markerId=i.id}),void 0,"navigateToSelectedAnnotation"),n().progressiveDiffsActions.loadPriority(a)}},handleHashUpdate:()=>{let e=(0,j.Gl)(),t=(0,j.e3)(),i=(0,j.jU)(window.location.hash),a=n(),s=a.markerAndDiffNavigation.commentId,r=a.markerAndDiffNavigation.markerId,o=a.selectedPathDigest;if(e&&(e!==s||!o))a.markerAndDiffNavigationActions.navigateToSelectedComment(e);else if(t){let e=a.getAnnotationFromID(t),n=e?.id;n&&n!==r&&a.markerAndDiffNavigationActions.navigateToSelectedAnnotation(t)}else i&&i!==o?a.progressiveDiffsActions.updateSelectedPathDigest(i):e||t||i||!o||a.progressiveDiffsActions.updateSelectedPathDigest(void 0)}}}})(e)(...t),...(({isSingleFileMode:e,commentsPreference:t})=>n=>({isSingleFileMode:e,commentsPreference:t,settingsActions:{updateCommentsPreference:e=>{n(()=>({commentsPreference:e}))}}}))(e)(...t),...(({pullRequest:e})=>(t,n)=>({pullRequest:{state:e.state,basePath:e.pathName,id:e.id,number:e.number},pullRequestActions:{updatePullRequestState:e=>{t({pullRequest:{...n().pullRequest,state:e}},void 0,"pullRequest#updatePullRequestState")}}}))(e)(...t),...(({baseRepository:e})=>()=>({repository:{baseRepository:{id:e.id,ownerLogin:e.ownerLogin,name:e.name}}}))(e)(...t),...(t=>({suggestionBatch:{activeBatch:e.initialActiveBatch??[],isSuggestionBatchPending:(e.initialActiveBatch?.length??0)>0},suggestionBatchActions:{addSuggestionToBatch:e=>t(t=>{if(t.suggestionBatch.activeBatch.some(t=>t.commentDatabaseId===e.commentDatabaseId&&t.suggestionIndex===e.suggestionIndex))return t;let n=[...t.suggestionBatch.activeBatch,e];return{suggestionBatch:{...t.suggestionBatch,activeBatch:n,isSuggestionBatchPending:n.length>0}}}),removeSuggestionFromBatch:e=>t(t=>{let n=t.suggestionBatch.activeBatch.filter(t=>t.commentDatabaseId!==e.commentDatabaseId||t.suggestionIndex!==e.suggestionIndex);return{suggestionBatch:{...t.suggestionBatch,activeBatch:n,isSuggestionBatchPending:n.length>0}}}),clearSuggestionBatch:()=>t(e=>({suggestionBatch:{...e.suggestionBatch,activeBatch:[],isSuggestionBatchPending:!1}})),loadActiveBatchFromStorage:e=>t(t=>({suggestionBatch:{...t.suggestionBatch,activeBatch:e,isSuggestionBatchPending:e.length>0}}))}}))(...t),...(t=>({viewSettings:e.viewSettings,viewSettingsActions:{setViewSettings:e=>t({viewSettings:e})}}))(...t)}),{name:"pull-request-store"}))},6373(e,t,n){n.d(t,{qg:()=>E,if:()=>P,Fm:()=>T,xW:()=>Y,_N:()=>eg,pV:()=>eD,an:()=>em,GK:()=>N,m9:()=>G,E4:()=>A,_W:()=>ed,ww:()=>j,HZ:()=>eS,TV:()=>Z,yo:()=>w,ne:()=>es,JR:()=>ey,I8:()=>eI,iY:()=>K,QV:()=>ej,M3:()=>eG,GR:()=>q,RH:()=>eM,r$:()=>D,WK:()=>eF,YL:()=>J,jT:()=>e_,xJ:()=>eT,qX:()=>L,Mv:()=>eO,it:()=>ev,or:()=>ek,a_:()=>ee,j5:()=>y,xQ:()=>eh,wh:()=>eb,Yp:()=>I,wI:()=>H,CQ:()=>eR,RB:()=>S,JA:()=>X,yg:()=>eA,Fl:()=>en,lF:()=>C,Qb:()=>eu,BI:()=>eo,Py:()=>U,gW:()=>$,mU:()=>M,ce:()=>x,WA:()=>ea,gt:()=>ei,Nk:()=>eP,Lh:()=>V,l0:()=>R,uh:()=>O,gi:()=>eE,Ud:()=>F,nE:()=>W,SM:()=>el,wL:()=>et,y:()=>ex,a$:()=>ew,gg:()=>B,zJ:()=>_,kN:()=>eC,qL:()=>ef,L3:()=>b,$j:()=>eB,_o:()=>eL,mF:()=>z,ys:()=>ep,Kp:()=>k,q6:()=>eN,rP:()=>ec});var i=n(16522),a=n(96540),s=n(59914),r=n(67712),o=n(26759),l=n(19401),d=n(97627),c=n(24043),u=n(54395),m=n(70466);function f(e,t){var n;let i,a,o=(n=m.x,s=>{let r=e.map(e=>e(s));if(i&&n(r,i))return a;let o=t(...r);return i=r,a=o,o}),l=()=>(0,r.n)((0,s.k)(o));return l.selector=o,l}let h={baseOid:void 0,headOid:void 0},g=[],p=[],v={threads:g,annotations:p,commentsPreference:u.sI.Visible},b=()=>(0,r.n)(e$),w=()=>(0,r.n)(eU),y=()=>(0,r.n)(eV),C=()=>(0,r.n)(eq),x=()=>(0,r.n)(ez),_=()=>(0,r.n)(eQ),S=f([e=>e.currentUser,e=>e.configOpts,e=>e.viewSettings],(e,t,n)=>({avatarURL:e.currentUserAvatarUrl||"",login:e.currentUserLogin||"",canComment:t.userCanComment&&e.canComment,tabSize:e.tabSize,hasCopilotAccess:e.hasCopilotAccess,canApplySuggestion:e.canApplySuggestion,commentsPreference:n?.commentsPreference??u.sI.Visible,lineSpacing:n?.lineSpacing??"relaxed",splitPreference:t.forceUnifiedView?"unified":n?.splitPreference??"unified",shouldDisplayComments:t.useInlineComments??!1,shouldDisplayEditOptions:t.useEditOptions??!1})),j=()=>(0,r.n)(eW),A=()=>(0,r.n)(eH),D=()=>(0,r.n)(eX),I=()=>(0,r.n)(eJ),k=()=>(0,r.n)(eK),N=()=>(0,r.n)(eY),R=()=>(0,r.n)(eZ),O=f([e=>e.diffSummaries],e=>Object.values(e)),E=()=>(0,r.n)(e0),F=()=>(0,r.n)(e1),T=e=>{let t,n=(0,i.c)(2);return n[0]!==e?(t=t=>e?t.diffSummaries[e]:void 0,n[0]=e,n[1]=t):t=n[1],(0,r.n)(t)},M=()=>Q().filteredDiffSummaries,P=e=>{let t,n=(0,i.c)(2);return n[0]!==e?(t=t=>t.entriesMap[e],n[0]=e,n[1]=t):t=n[1],(0,r.n)(t)},B=()=>(0,r.n)(e2),G=()=>(0,r.n)(e3),L=()=>(0,r.n)(e4),$=()=>(0,r.n)(e6),U=e=>{let t,n=(0,i.c)(2);return n[0]!==e?(t=t=>!!e&&t.selectedPathDigest===e,n[0]=e,n[1]=t):t=n[1],(0,r.n)(t)},V=()=>(0,r.n)(e7),q=()=>(0,r.n)(e5),z=()=>(0,r.n)(e8),Q=f([O.selector,e=>e.codeowners,e=>e.diffFilter.state,e=>e.changeGroupGeneration.changeGroups],(e,t,n,i)=>{let a=new Map,s=new Map,r=[],l=i.find(e=>e.id===n.activeChangeGroupId),c=l?.hunkPositions?new Set(Object.keys(l.hunkPositions)):void 0;for(let i of e){var u,m,f,h;let e=(0,o.hG)({diffPath:i.path,codeownersData:t}).isOwnedByViewer;(u=i,m=n,f=e,(!(h=c)||h.has(u.path))&&u.path.toLowerCase().includes(m.filterText.toLowerCase())&&!m.unselectedFileExtensions.has((0,d.QC)(u.path))&&(m.showDeletedFiles||"REMOVED"!==u.changeType&&"DELETED"!==u.changeType)&&(!m.showOnlyManifestFiles||u.isManifestFile)&&(!m.showOnlyOwnedFiles||f)&&(m.showViewedFiles||!u.markedAsViewed)&&(m.showVendoredFiles||!u.isVendored))?(r.push(i),a.set(i.path,!1),s.set(i.pathDigest,!0)):(a.set(i.path,!0),s.set(i.pathDigest,!1))}return{hiddenFiles:a,visibleFilePathDigests:s,filteredDiffSummaries:r}}),W=()=>{let e,t,n=(0,i.c)(4),s=(0,r.n)(e9),o=(0,r.n)(te);n[0]!==s||n[1]!==o?(e=()=>{if(o){let e=`${s} file${1===s?"":"s"} remain${1===s?"s":""}`;(0,l.k)(e,150)}},t=[o,s],n[0]=s,n[1]=o,n[2]=e,n[3]=t):(e=n[2],t=n[3]),(0,a.useEffect)(e,t)},H=f([e=>e.markers],e=>Object.values(e||{}).flatMap(e=>Object.values(e).flatMap(e=>e?.annotations??p))),X=()=>(0,r.n)(tt),J=()=>(0,r.n)(tn),K=()=>(0,r.n)(ti),Y=()=>(0,r.n)(ta),Z=()=>(0,r.n)(ts),ee=()=>(0,r.n)(tr),et=()=>(0,r.n)(to),en=()=>(0,r.n)(tl),ei=()=>(0,r.n)(td),ea=()=>(0,r.n)(tc),es=e=>{let t,n=(0,i.c)(2);return n[0]!==e?(t=t=>t.markers?.[e],n[0]=e,n[1]=t):t=n[1],(0,r.n)((0,s.k)(t))},er=f([e=>e.markers],e=>Object.values(e||{}).flatMap(e=>Object.values(e).flatMap(e=>e?.threads??g))),eo=e=>{let t,n=(0,i.c)(2);return n[0]!==e?(t=t=>{let n=er.selector(t);if(!e)return n;let i=new Set(e);return n.filter(e=>i.has(Number(e.id)))},n[0]=e,n[1]=t):t=n[1],(0,r.n)((0,s.k)(t))},el=()=>(0,r.n)(tu),ed=(e,t,n)=>{let a,s=(0,i.c)(4);return s[0]!==t||s[1]!==n||s[2]!==e?(a=i=>i.markers?.[t]?.[n]?.threads.find(t=>t.id===e),s[0]=t,s[1]=n,s[2]=e,s[3]=a):a=s[3],(0,r.n)(a)},ec=(e,t)=>{let n,a=(0,i.c)(3);return a[0]!==e||a[1]!==t?(n=n=>{let i=n.markers?.[e]?.[t],a=i?.threads??g,s=i?.annotations??p,r=n.commentsPreference;return a.length||s.length?{threads:a,annotations:s,commentsPreference:r}:v},a[0]=e,a[1]=t,a[2]=n):n=a[2],(0,r.n)((0,s.k)(n))},eu=e=>{let t,n=(0,i.c)(2);return n[0]!==e?(t=t=>{let n=er.selector(t),i=e?new Set(e):null,a=0;for(let e of n)e&&(!i||i.has(parseInt(e.id)))&&(e.isResolved||e.positioning?.isOutdated||(a+=e.commentsData?.comments?.length??0));return a},n[0]=e,n[1]=t):t=n[1],(0,r.n)(t)},em=()=>(0,r.n)(tm),ef=()=>(0,r.n)(tf),eh=f([er.selector],e=>{let t=new Map;for(let n of e){let e=parseInt(n.id,10);if(isNaN(e))continue;let i=n.commentsData?.comments??[],a=i.length||n.commentCount||1,s=0;for(let e of i)s+=e.body?.length??0;let r=i.length>0?Math.round(s/i.length):0,o=n.isResolved??!1;t.set(e,{replyCount:Math.max(0,a-1),isCollapsed:o,avgBodyLength:r})}return t}),eg=()=>(0,r.n)(th),ep=()=>(0,r.n)(tg),ev=()=>(0,r.n)(tp),eb=()=>(0,r.n)(tv),ew=()=>(0,r.n)(tb),ey=()=>(0,r.n)(tw),eC=e=>{let t,n=(0,i.c)(2);return n[0]!==e?(t=t=>t.collapsedFilesMap?.[e]??!1,n[0]=e,n[1]=t):t=n[1],(0,r.n)(t)},ex=()=>(0,r.n)(ty),e_=e=>{let t,n=(0,i.c)(2);return n[0]!==e?(t=t=>e?t.diffEntries[e]:null,n[0]=e,n[1]=t):t=n[1],(0,r.n)(t)},eS=()=>(0,r.n)(tC),ej=()=>(0,r.n)(tx),eA=f([e=>Q.selector(e).visibleFilePathDigests,e=>e.entriesOrder],(e,t)=>t.filter(t=>!0===e.get(t))),eD=()=>(0,r.n)(t_),eI=()=>(0,r.n)(tS),ek=()=>(0,r.n)(tj),eN=()=>(0,r.n)(tA),eR=()=>(0,r.n)(tD),eO=e=>{let t,n=(0,i.c)(2);return n[0]!==e?(t=t=>t.summariesViewedStatus?.[e]??!1,n[0]=e,n[1]=t):t=n[1],(0,r.n)(t)},eE=()=>(0,r.n)(tI),eF=()=>(0,r.n)(tk),eT=()=>(0,r.n)(tN),eM=()=>(0,r.n)(tR),eP=e=>{let t,n=(0,i.c)(2);return n[0]!==e?(t=t=>t.suggestionBatch.activeBatch.some(t=>t.commentDatabaseId===e.commentDatabaseId&&t.suggestionIndex===e.suggestionIndex),n[0]=e,n[1]=t):t=n[1],(0,r.n)(t)},eB=()=>(0,r.n)(tO),eG=()=>(0,r.n)(tE),eL=()=>(0,r.n)(tF);function e$(e){return e.comparisonInfo}function eU(e){return e.comparisonInfoActions}function eV(e){return e.isSingleFileMode}function eq(e){return e.viewSettings?.commentsPreference??u.sI.Visible}function ez(e){return e.viewSettings?.lineSpacing??"relaxed"}function eQ(e){return e.viewSettings?.splitPreference??"unified"}function eW(e){return"FULL"!==e.comparisonInfo.comparisonView}function eH(e){return e.comparisonInfo.selectedRange||h}function eX(e){return e.pullRequest.id}function eJ(e){return e.pullRequest}function eK(e){return e.pullRequest.basePath}function eY(e){return e.repository}function eZ(e){return e.diffSummaries}function e0(e){return O.selector(e).length}function e1(e){return e.diffSummariesActions}function e2(e){return e.getProgressiveDiffEntryByPathDigest}function e3(e){return e.selectedPathDigest}function e4(e){return e.getSelectedPathDigest}function e6(e){return e.progressiveDiffsActions.updateSelectedPathDigest}function e7(e){return e.markerAndDiffNavigationActions}function e5(e){return e.markerAndDiffNavigation.getMarkerId}function e8(e){return e.markerAndDiffNavigation.markerId}function e9(e){return Q.selector(e).filteredDiffSummaries.length}function te(e){return e.diffFilter.filtersInteractedWith}function tt(e){let t=e.diffFilter.state.activeChangeGroupId;if(t)return e.changeGroupGeneration.changeGroups.find(e=>e.id===t)}function tn(e){return e.diffFilter.state.activeChangeGroupId}function ti(e){return e.changeGroupGeneration.changeGroups}function ta(e){return e.changeGroupGeneration}function ts(e){return e.changeGroupGeneration.unavailableReason?e.changeGroupGeneration.unavailableReason:e.changeGroupGeneration.changeGroups.length<1&&!e.changeGroupGeneration.latestChangeGroupOrchestration?(0,c.G7)("hide_groups_list_for_few_groups")?"NOT_GENERATED_YET":"UNABLE_TO_GENERATE":null}function tr(e){return e.changeGroupGeneration.changeGroupGenerationChannel}function to(e){return e.changeGroupGenerationActions}function tl(e){return e.changeGroupGeneration.latestChangeGroupOrchestration}function td(e){return e.changeGroupGeneration.canAccessChangeGroups}function tc(e){return e.showChangeGroupPreference}function tu(e){return e.getThread}function tm(e){return e.markersActions}function tf(e){return e.markers}function th(e){return e.pendingReviewActions}function tg(e){return e.pendingReview}function tp(e){return(e.pendingReview?.pendingReviewIDs?.length??0)>0}function tv(e){return e.codeownersActions}function tb(e){return e.shouldLoadCodeowners}function tw(e){return e.filesCollapsedStatusActions}function ty(e){return e.getCollapsedDiffStatus}function tC(e){return e.diffEntries}function tx(e){return e.diffEntriesActions}function t_(e){return e.progressiveDiffsActions}function tS(e){return e.diffFilter.state}function tj(e){return e.diffFilterActions}function tA(e){let t=e.diffFilter.state;return t.filterText.length>0||t.unselectedFileExtensions.size>0||!0===t.showOnlyOwnedFiles||!1===t.showDeletedFiles||!0===t.showOnlyManifestFiles||!1===t.showVendoredFiles||!1===t.showViewedFiles}function tD(e){return e.settingsActions}function tI(e){return e.summariesViewedCount}function tk(e){return e.suggestionBatch}function tN(e){return e.suggestionBatchActions}function tR(e){return e.suggestionBatch.isSuggestionBatchPending}function tO(e){return e.issueComments}function tE(e){return e.issueCommentsCount}function tF(e){return e.commentsPanelActions}},61309(e,t,n){function i({paths:e,diffSummaries:t}){let n={};for(let i of e){let e=t[i];if(e&&e.markersMap){let t=[];for(let n in e.markersMap){let i=e.markersMap[n]?.ctx;i&&t.push(i)}n[i]=t}}return n}function a({diffSummary:e}){let t=[];if(e&&e.markersMap)for(let n in e.markersMap){let i=e.markersMap[n]?.ctx;i&&t.push({start:i[0],end:i[1]})}return t}n.d(t,{B:()=>a,i:()=>i})},19401(e,t,n){n.d(t,{k:()=>a});var i=n(70730);function a(e,t=0){if(void 0===i.XC)return;let n=i.XC.getElementById("screenReaderAnnouncementDiv")??void 0;if(n||(n=function(){if(void 0===i.XC)return;let e=i.XC.createElement("div");return e.classList.add("sr-only","mt-n1"),e.id="screenReaderAnnouncementDiv",e.setAttribute("role","alert"),e.setAttribute("data-testid","screenReaderAnnouncement"),e.setAttribute("aria-live","assertive"),i.XC.body.appendChild(e),e}()),!n)return;let s=n.textContent===e?`${e}\u00A0`:e;setTimeout(()=>{n&&(n.textContent=s)},t)}},71163(e,t,n){function i(e){let t=e.split("\u200D"),n=0;for(let e of t)n+=Array.from(e.split(/[\ufe00-\ufe0f]/).join("")).length;return n/t.length}function a(e,t,n,i=!0){let s=e.value.substring(0,e.selectionEnd||0),r=e.value.substring(e.selectionEnd||0);return o(e,(s=s.replace(t,n))+(r=r.replace(t,n)),s.length,i),n}function s(e,t,n){if(null===e.selectionStart||null===e.selectionEnd)return a(e,t,n);let i=e.value.substring(0,e.selectionStart),s=e.value.substring(e.selectionEnd);return o(e,i+n+s,i.length),n}function r(e,t,n={}){let i=e.selectionEnd||0,a=e.value.substring(0,i),s=e.value.substring(i),o=(""===e.value||a.match(/\n$/)?"":"\n")+t+(n.appendNewline?"\n":"");e.value=a+o+s;let l=i+o.length;return e.selectionStart=l,e.selectionEnd=l,e.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1})),e.focus(),o}function o(e,t,n,i=!0){e.value=t,i&&(e.selectionStart=n,e.selectionEnd=n),e.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1}))}function l(e,t){let n=[...e],i=new TextEncoder,a=new Uint8Array(4);for(let e=0;e<n.length;e++){let s=n[e],{written:r,read:o}=i.encodeInto(s,a);if(!r||!o)return -1;let l=r-o;if(0!==l&&(e<t&&(t-=l),e>=t))break}return t}n.d(t,{bV:()=>i,bc:()=>r,ee:()=>a,kN:()=>l,tJ:()=>s})}}]);
//# sourceMappingURL=35226-a6574d24910e0828-dde96f0ac9f358cc.js.map