performance.mark("js-parse-end:32790-17efeb683150528f.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["32790"],{44877(e,l,a){a.d(l,{A:()=>n});let n={skeletonContainer:"TemplateList-module__skeletonContainer__tymSU",templateHeader:"TemplateList-module__templateHeader__v1Qp_"}},74939(e,l,a){a.d(l,{A:()=>n});let n={issueFieldFormWrapper:"IssueFieldItem-module__issueFieldFormWrapper__sJWeO",issueFieldFormWrapperClickable:"IssueFieldItem-module__issueFieldFormWrapperClickable__AmMaP",small:"IssueFieldItem-module__small__KLUtn",issueFieldLabel:"IssueFieldItem-module__issueFieldLabel__Tmzp7",issueFieldValueText:"IssueFieldItem-module__issueFieldValueText__nRyZy",isEditing:"IssueFieldItem-module__isEditing__AOeS_",hasValue:"IssueFieldItem-module__hasValue__VU46K",issueFieldValueBtn:"IssueFieldItem-module__issueFieldValueBtn__AvXkb",issueFieldActionButton:"IssueFieldItem-module__issueFieldActionButton__myQcL",issueFieldTextError:"IssueFieldItem-module__issueFieldTextError__L9AWs"}},76478(e,l,a){a.d(l,{A:()=>n});let n={container:"IssueFieldSingleSelectValueToken-module__container__a82vS",tokenText:"IssueFieldSingleSelectValueToken-module__tokenText__HrLMN",token:"IssueFieldSingleSelectValueToken-module__token__LIoy7",compactContainer:"IssueFieldSingleSelectValueToken-module__compactContainer__UHyZX",compactValueContainer:"IssueFieldSingleSelectValueToken-module__compactValueContainer__btctD",fieldEditorContainer:"IssueFieldSingleSelectValueToken-module__fieldEditorContainer__wRATQ",noValueContainer:"IssueFieldSingleSelectValueToken-module__noValueContainer__xyDkq"}},72238(e,l,a){a.d(l,{A:()=>n});let n={issueFieldTextInput:"IssueFieldTextToken-module__issueFieldTextInput__IRDsV",issueFieldTextTextarea:"IssueFieldTextToken-module__issueFieldTextTextarea__PYJAJ",issuesFieldTextInputContainer:"IssueFieldTextToken-module__issuesFieldTextInputContainer__PcgVT",issuesFieldTextError:"IssueFieldTextToken-module__issuesFieldTextError__yeLlw",issuesFieldToolbar:"IssueFieldTextToken-module__issuesFieldToolbar__YscHH",issuesFieldToolbarActions:"IssueFieldTextToken-module__issuesFieldToolbarActions__L0nbe",actionButton:"IssueFieldTextToken-module__actionButton__o1rTZ",issuesFieldText:"IssueFieldTextToken-module__issuesFieldText__GOOqq",noValueContainer:"IssueFieldTextToken-module__noValueContainer__co0m_"}},24619(e,l,a){a.d(l,{v:()=>n});function n(e){let l=e.toLocaleLowerCase();return"copilot-swe-agent"===l||"copilot"===l}},66548(e,l,a){a.d(l,{t:()=>m});var n=a(74848),t=a(16522),i=a(38621),s=a(83223),r=a(94709),o=a(10095),u=a(96540),d=a(14995),c=a(34164);function m(e){let l,a=(0,t.c)(2),{contributingFileUrl:i,securityPolicyUrl:s,codeOfConductFileUrl:r,supportFileUrl:o}=e;return!(0,d.kA)()&&(i||s||r||o)?(a[0]!==e?(l=(0,n.jsx)(g,{...e}),a[0]=e,a[1]=l):l=a[1],l):null}function g(e){let l,a,d,m,g,p,y,k,f=(0,t.c)(37),{contributingFileUrl:h,securityPolicyUrl:b,codeOfConductFileUrl:F,supportFileUrl:I,sx:S,className:_}=e;e:{let e,a,t,i,r;if(f[0]!==F||f[1]!==h||f[2]!==b||f[3]!==I){if(e=[],h){let l;f[5]!==h?(l=(0,n.jsx)(s.A,{inline:!0,href:h,children:"contributing guidelines"}),f[5]=h,f[6]=l):l=f[6],e.push(l)}if(b){let l;f[7]!==b?(l=(0,n.jsx)(s.A,{inline:!0,href:b,children:"security policy"}),f[7]=b,f[8]=l):l=f[8],e.push(l)}if(F){let l;f[9]!==F?(l=(0,n.jsx)(s.A,{inline:!0,href:F,children:"code of conduct"}),f[9]=F,f[10]=l):l=f[10],e.push(l)}if(I){let l;f[11]!==I?(l=(0,n.jsx)(s.A,{inline:!0,href:I,children:"Support"}),f[11]=I,f[12]=l):l=f[12],e.push(l)}f[0]=F,f[1]=h,f[2]=b,f[3]=I,f[4]=e}else e=f[4];if(1===e.length){let a;f[13]!==e[0]?(a=(0,n.jsx)(n.Fragment,{children:e[0]}),f[13]=e[0],f[14]=a):a=f[14],l=a;break e}f[15]!==e?(a=e.slice(0,-1),f[15]=e,f[16]=a):a=f[16];let o=a,d=e[e.length-1];f[17]!==o?(t=o.map((e,l)=>(0,n.jsxs)(u.Fragment,{children:[e,(0,n.jsx)("span",{children:l!==o.length-1?", ":" "})]},l)),f[17]=o,f[18]=t):t=f[18],f[19]!==d?(i=(0,n.jsxs)("span",{children:["and ",d]}),f[19]=d,f[20]=i):i=f[20],f[21]!==t||f[22]!==i?(r=(0,n.jsxs)(n.Fragment,{children:[t,i]}),f[21]=t,f[22]=i,f[23]=r):r=f[23],l=r}let v=l;return f[24]!==_?(a=(0,c.$)("ContributorFooter-module__ContributorFooterContainer__rrkBJ",_),f[24]=_,f[25]=a):a=f[25],f[26]===Symbol.for("react.memo_cache_sentinel")?(d=(0,n.jsx)(o.A,{icon:i.InfoIcon}),f[26]=d):d=f[26],f[27]===Symbol.for("react.memo_cache_sentinel")?(m=(0,n.jsx)("span",{children:"Remember, contributions to this repository should follow its "}),f[27]=m):m=f[27],f[28]!==v?(g=(0,n.jsx)("span",{children:v}),f[28]=v,f[29]=g):g=f[29],f[30]===Symbol.for("react.memo_cache_sentinel")?(p=(0,n.jsx)("span",{children:"."}),f[30]=p):p=f[30],f[31]!==g?(y=(0,n.jsxs)("div",{"data-testid":"contributor-footer-text",children:[m,g,p]}),f[31]=g,f[32]=y):y=f[32],f[33]!==S||f[34]!==a||f[35]!==y?(k=(0,n.jsxs)(r.az,{"data-testid":"contributor-footer",sx:S,className:a,children:[d,y]}),f[33]=S,f[34]=a,f[35]=y,f[36]=k):k=f[36],k}m.displayName="ContributorFooter",g.displayName="ContributorFooterContent"},67994(e,l,a){a.d(l,{C:()=>d});var n=a(74848),t=a(16522),i=a(3489),s=a(38621),r=a(34164);let o={copilotAvatar:"CopilotAvatar-module__copilotAvatar__D0NH2",small:"CopilotAvatar-module__small__Zr5r5",medium:"CopilotAvatar-module__medium__qbJcd",large:"CopilotAvatar-module__large__xowmB",defaultStyle:"CopilotAvatar-module__defaultStyle__sAD_w"},u={small:{default:12,minimal:16},medium:{default:16,minimal:20},large:{default:24,minimal:32}};function d(e){let l,a,d,c=(0,t.c)(10),{size:m,minimal:g,className:p}=e,y=void 0===m?"small":m,k=void 0!==g&&g,f=void 0===p?"":p,h=k?u[y].minimal:u[y].default,b=o[y],F=!k&&o.defaultStyle;return c[0]!==f||c[1]!==b||c[2]!==F?(l=(0,r.$)(o.copilotAvatar,b,F,f),c[0]=f,c[1]=b,c[2]=F,c[3]=l):l=c[3],c[4]!==h||c[5]!==y?(a="large"===y?(0,n.jsx)(i.N,{animationType:"static",loopAnimation:!0,size:h}):(0,n.jsx)(s.CopilotIcon,{size:h}),c[4]=h,c[5]=y,c[6]=a):a=c[6],c[7]!==l||c[8]!==a?(d=(0,n.jsx)("span",{className:l,"data-testid":"copilot-avatar",role:"img","aria-label":"Copilot avatar",children:a}),c[7]=l,c[8]=a,c[9]=d):d=c[9],d}d.displayName="CopilotAvatar"},83276(e,l,a){a.d(l,{O:()=>E});var n=a(74848),t=a(94007),i=a(3489),s=a(36431),r=a(46082),o=a(94583),u=a(94747),d=a(99159),c=a(16135),m=a(11211),g=a(38621),p=a(44472),y=a(4925),k=a(26108),f=a(59134),h=a(21373),b=a(65820),F=a(34164),I=a(96540);let S="Failed to generate content with Copilot. Please try again.",_="Discard changes?",v="You have made edits to the generated content. Discarding will lose your changes.",x="Discard",C="Cancel",j="Try again?",T="You have made edits to the generated content. Trying again will replace your changes with new generated content.",K="Try again",L="Cancel",N="CopilotGenerateDescriptionPanel-module__actionButton__bb8xq",P=`- Provide a clear, comprehensive issue body in markdown format that explains the problem, context, and any relevant details. Keep it clear and concise.
- If there is an existing body that has a structure (template), work with the template. DO NOT change the template unless instructed.
- Return the body in a markdown format, unwrapped by \`\`\`markdown tags.
- Only work with information you have. The length of the issue should be proportional to the information provided.
- Try to focus updates on the portions of the body that are relevant to the user's request.
- When the user should be directed to edit portions of the returned body, explicitly put areas to edit [inside brackets with instructions]. Do not add meta instructions outside the main body content.`,w=`You are a helpful assistant that helps users create and refine GitHub issue titles and descriptions.
Your task is to take the user's input and the current issue title and body, and create or improve them.

For the issue body:

${P}

For the issue title:
- Only update the title if it reflects incorrect or incomplete information based on the user's request.

Return your response as a JSON object with "title" and "body" fields.`,A=`You are a helpful assistant that helps users refine GitHub issue descriptions.
Your task is to take the user's input and the current issue body, and improve it.

For the issue body:

${P}

Return your response as a JSON object with "title" and "body" fields. The "title" field should be the same as the current title provided in the context.`;function E({isOpen:e,onClose:l,onGenerate:a,repoOwner:o,repoName:P,title:E,body:R,className:M,onPendingChange:O,onStateChange:B,anchorPosition:U="top",onHeightChange:$,editorRef:H,generateTitle:q=!0}){let[W,z]=(0,I.useState)(""),[G,Q]=(0,I.useState)("initial"),[Y,J]=(0,I.useState)(""),X=(0,I.useRef)(E),Z=(0,I.useRef)(R),ee=(0,I.useRef)(e),el=(0,I.useRef)(E),ea=(0,I.useRef)(R),en=(0,I.useRef)(null),et=(0,I.useRef)(null),ei=(0,I.useRef)(new s.JR([])),es=(0,p.S)(),er=(0,I.useRef)(null),{sendAnalyticsEvent:eo}=(0,c.s)(),eu=(0,I.useRef)(null),ed=(0,I.useRef)(null),ec=(0,I.useMemo)(()=>(0,d.Xl)(),[]),em=(0,m.S)({minHeightLines:1,maxHeightLines:10,elementRef:eu,value:W}),[eg,ep]=(0,I.useState)(void 0);(0,I.useLayoutEffect)(()=>{if(!e)return;let l=H?.current?.inputRef.current;if(!l)return;let a=()=>{let e=ed.current?.offsetParent;if(!e)return;let a=l.getBoundingClientRect(),n=e.getBoundingClientRect();if("top"===U)ep(a.top-n.top);else{let e=parseFloat(getComputedStyle(l).paddingBottom)||0;ep(a.bottom-n.top-e-16)}};a();let n=new ResizeObserver(()=>{a()});return l.parentElement&&n.observe(l.parentElement),ed.current&&n.observe(ed.current),()=>{n.disconnect()}},[U,H,e]),(0,I.useEffect)(()=>{e&&!ee.current&&(X.current=E,Z.current=R),ee.current=e},[e,E,R]),(0,I.useEffect)(()=>{B?.(G)},[G,B]);let ey=(0,I.useMemo)(()=>{switch(G){case"initial":return"How can I help you write your issue?";case"suggested":return"I've updated the issue title and description above.";case"error":return S;default:return""}},[G]),{mutate:ek,isPending:ef}=(0,u.n)({mutationFn:async e=>{er.current=new AbortController;let l=`${(0,t._$)().copilotApiOverrideUrl||"https://api.githubcopilot.com"}/chat/completions`,a={Authorization:(await ei.current.getAuthToken()).authorizationHeaderValue,"copilot-integration-id":"copilot-embedded-experience","Content-Type":"application/json"},n=`Current title: ${E||"(empty)"}
Current body: ${R||"(empty)"}

User's request: ${e}`;if(n.length>5e4)throw Error("Input is too large. Please reduce the length of your title, description, or request.");let i={messages:[{role:"system",content:q?w:A},{role:"user",content:n}],model:"gpt-4o-mini",stream:!1,temperature:.3,response_format:{type:"json_schema",json_schema:{name:"issue_content",strict:!0,schema:{type:"object",properties:{title:{type:"string",description:"The improved or generated issue title"},body:{type:"string",description:"The improved or generated issue body/description"}},required:["title","body"],additionalProperties:!1}}}},s=await fetch(l,{method:"POST",headers:a,body:JSON.stringify(i),signal:er.current.signal});if(!s.ok)throw Error(`API request failed with status ${s.status}`);let r=await s.json(),o=r.choices?.[0]?.message?.content;if(!o)throw Error("No content in response");let u=JSON.parse(o);if(!u.body)throw Error("Invalid response structure");return u},onSuccess:(e,l)=>{Q("suggested"),en.current=e.title,et.current=e.body,a(e.title,e.body),z(""),eo("analytics.click","ISSUE_CREATE_GENERATE_DESCRIPTION_WITH_COPILOT_PANEL",{repoNWO:`${o}/${P}`,hasTitle:!!E,hasExistingDescription:!!R,success:!0}),D()},onError:(e,l)=>{"AbortError"===e.name?Q("initial"):(Q("error"),eo("analytics.click","ISSUE_CREATE_GENERATE_DESCRIPTION_WITH_COPILOT_PANEL",{repoNWO:`${o}/${P}`,hasTitle:!!E,hasExistingDescription:!!R,success:!1,error:e.message}),D(e.message))}}),eh=(0,I.useCallback)(e=>{"accepted"===e?V("accepted"):"discarded"===e?V("discarded"):null!==en.current||null!==et.current?V("closed_with_changes"):V("closed_without_changes"),z(""),Q("initial"),J(""),el.current=E,ea.current=R,en.current=null,et.current=null,l()},[l,E,R]),eb=(0,I.useCallback)(()=>{er.current?.abort()},[]),eF=(0,I.useCallback)(()=>{W.trim()&&!ef&&(el.current=E,ea.current=R,J(W),Q("loading"),ek(W))},[W,ef,ek,E,R]),eI=(0,I.useCallback)(async()=>{(null===en.current||null===et.current||E===en.current&&R===et.current||await es({title:_,content:v,confirmButtonContent:x,confirmButtonType:"danger",cancelButtonContent:C}))&&(a(X.current,Z.current),eh("discarded"))},[a,eh,E,R,es]),eS=(0,I.useCallback)(async()=>{!Y||(null===en.current||null===et.current||E===en.current&&R===et.current||await es({title:j,content:T,confirmButtonContent:K,confirmButtonType:"danger",cancelButtonContent:L}))&&(V("retried"),a(el.current,ea.current),Q("loading"),ek(Y))},[Y,ek,a,E,R,es]),e_=(0,I.useCallback)(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),eF())},[eF]);return((0,I.useEffect)(()=>{e&&eu.current&&eu.current.focus()},[e]),(0,I.useEffect)(()=>{O?.(ef)},[ef,O]),(0,I.useEffect)(()=>()=>{O?.(!1)},[]),(0,I.useEffect)(()=>()=>{er.current?.abort()},[]),(0,I.useLayoutEffect)(()=>{if(!e||!ed.current||!$)return;$(ed.current.getBoundingClientRect().height+16);let l=new ResizeObserver(e=>{for(let l of e)$((l.borderBoxSize?.[0]?.blockSize??l.target.getBoundingClientRect().height)+16)});return l.observe(ed.current),()=>{l.disconnect(),$(0)}},[e,$]),e)?(0,n.jsxs)("div",{ref:ed,className:(0,F.$)("CopilotGenerateDescriptionPanel-module__container__7kV52","top"===U?"CopilotGenerateDescriptionPanel-module__anchorTop__nllFv":"bottom"===U?"CopilotGenerateDescriptionPanel-module__anchorBottom___szpO":void 0,M),style:void 0!==eg?{top:`${eg}px`}:void 0,role:"region","aria-label":"Generate with Copilot",children:[!ef&&(0,n.jsxs)("div",{className:"CopilotGenerateDescriptionPanel-module__closeButtonContainer__UHU4i",children:[ec&&(0,n.jsx)("a",{href:"https://gh.io/write-with-copilot-feedback",target:"_blank",rel:"noopener noreferrer",className:"CopilotGenerateDescriptionPanel-module__staffPillLink__U9Eqx",children:(0,n.jsx)(y.A,{variant:"accent",children:"Staff"})}),(0,n.jsx)(k.K,{"aria-label":"Close",icon:g.XIcon,variant:"invisible",onClick:()=>eh()})]}),ey&&(0,n.jsxs)("div",{className:"CopilotGenerateDescriptionPanel-module__messageRow__Ut7UV",children:[(0,n.jsx)("div",{className:"CopilotGenerateDescriptionPanel-module__iconContainer__jDLfX",children:(0,n.jsx)(g.CopilotIcon,{size:16})}),(0,n.jsxs)("div",{className:"CopilotGenerateDescriptionPanel-module__messageContent___SkJ6",children:[(0,n.jsx)("div",{className:"CopilotGenerateDescriptionPanel-module__messageLabel__iK0jz",children:(0,n.jsx)("span",{children:"Copilot"})}),ey===S?(0,n.jsx)("div",{className:"CopilotGenerateDescriptionPanel-module__errorContainer__VYisb",children:(0,n.jsxs)(f.A,{variant:"danger",children:[(0,n.jsx)(g.AlertIcon,{}),ey]})}):(0,n.jsx)("div",{className:"CopilotGenerateDescriptionPanel-module__messageText__Y_Pr3",children:(0,n.jsx)("span",{children:ey})})]})]}),ef&&(0,n.jsxs)("div",{className:"CopilotGenerateDescriptionPanel-module__loadingContainer__a4IX7","aria-live":"polite","aria-atomic":"true",role:"status",children:[(0,n.jsx)(i.N,{animationType:i.L.Thinking,loopAnimation:!0,size:20}),(0,n.jsx)("span",{className:"CopilotGenerateDescriptionPanel-module__loadingLabel__y8mbJ",children:"Copilot"}),(0,n.jsx)(r.b,{className:"CopilotGenerateDescriptionPanel-module__loadingText__F05IH",children:"Writing\u2026"}),(0,n.jsx)(k.K,{"aria-label":"Stop generation",icon:g.SquareFillIcon,size:"small",onClick:eb})]}),"suggested"===G&&!ef&&(0,n.jsxs)("div",{className:"CopilotGenerateDescriptionPanel-module__actionButtons__vKmq1",children:[(0,n.jsx)(h.Q,{size:"small",variant:"invisible",className:N,leadingVisual:g.CheckIcon,onClick:()=>eh("accepted"),children:"Accept"}),(0,n.jsx)(h.Q,{size:"small",variant:"invisible",className:N,leadingVisual:g.XIcon,onClick:eI,children:"Discard"}),(0,n.jsx)(h.Q,{size:"small",variant:"invisible",className:N,leadingVisual:g.SyncIcon,onClick:eS,children:"Try again"})]}),!ef&&(0,n.jsxs)("div",{className:"CopilotGenerateDescriptionPanel-module__inputArea__ZUw58",children:[(0,n.jsx)(b.Ay,{ref:eu,value:W,onChange:e=>z(e.target.value),onKeyPress:e_,placeholder:"Type your message here...",rows:1,resize:"none",block:!0,className:"CopilotGenerateDescriptionPanel-module__textarea__ijYRh",style:em}),(0,n.jsx)(k.K,{className:"CopilotGenerateDescriptionPanel-module__sendButton__R4cXC","aria-label":"Send",icon:g.PaperAirplaneIcon,variant:"invisible",onClick:eF,disabled:""===W.trim()})]})]}):null}function V(e){(0,o.BI)("copilot.create_issue_description_panel",{action:e})}function D(e){(0,o.BI)("copilot.create_issue_description_panel",{error:e})}E.displayName="CopilotGenerateDescriptionPanel"},84616(e,l,a){a.d(l,{F:()=>s});var n=a(16522),t=a(24043),i=a(96540);function s(e){let l,a,s,r,o,u,d,c,m,g=(0,n.c)(48),{editorRef:p,body:y,onChange:k,shouldShowCopilotFunctionality:f,repoOwner:h,repoName:b,title:F,generateTitle:I,commandId:S,canToggle:_}=e,v=void 0===h?"":h,x=void 0===b?"":b,C=void 0===F?"":F,j=void 0!==I&&I,T=void 0===S?"copilot-panel:toggle":S,K=void 0===_||_,[L,N]=(0,i.useState)(!1),[P,w]=(0,i.useState)(!1),[A,E]=(0,i.useState)(0);g[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.G7)("write_issue_body_with_copilot"),g[0]=l):l=g[0];let V=l&&void 0!==f&&f&&!!v&&!!x;g[1]!==p?(a=()=>{N(!1),p.current?.focus()},g[1]=p,g[2]=a):a=g[2];let D=a;g[3]!==K||g[4]!==D||g[5]!==P||g[6]!==L||g[7]!==V?(s=()=>{V&&!P&&K&&(L?D():N(!0))},g[3]=K,g[4]=D,g[5]=P,g[6]=L,g[7]=V,g[8]=s):s=g[8];let R=s;g[9]!==j||g[10]!==k?(r=(e,l)=>{k(l,j?e:void 0)},g[9]=j,g[10]=k,g[11]=r):r=g[11];let M=r;g[12]!==y||g[13]!==L?(o=()=>{L&&!y.trim()&&N(!1)},g[12]=y,g[13]=L,g[14]=o):o=g[14];let O=o;g[15]!==T||g[16]!==R?(u={[T]:R},g[15]=T,g[16]=R,g[17]=u):u=g[17];let B=u,U=y.trim()||P?"bottom":"top";e:{if(L){let e,l;g[18]!==y||g[19]!==P||g[20]!==A?(e=y.trim()||P?`${A}px`:void 0,g[18]=y,g[19]=P,g[20]=A,g[21]=e):e=g[21];let a=`${A+100}px`;g[22]!==e||g[23]!==a?(l={"--markdown-input-bottom-padding":e,"--markdown-editor-min-height":a},g[22]=e,g[23]=a,g[24]=l):l=g[24],d=l;break e}d=void 0}let $=d;g[25]!==U||g[26]!==y||g[27]!==D||g[28]!==p||g[29]!==j||g[30]!==M||g[31]!==L||g[32]!==x||g[33]!==v||g[34]!==C?(c={isOpen:L,onClose:D,onGenerate:M,repoOwner:v,repoName:x,title:C,body:y,onPendingChange:w,anchorPosition:U,onHeightChange:E,editorRef:p,generateTitle:j},g[25]=U,g[26]=y,g[27]=D,g[28]=p,g[29]=j,g[30]=M,g[31]=L,g[32]=x,g[33]=v,g[34]=C,g[35]=c):c=g[35];let H=c;return g[36]!==D||g[37]!==B||g[38]!==$||g[39]!==M||g[40]!==O||g[41]!==P||g[42]!==L||g[43]!==A||g[44]!==H||g[45]!==V||g[46]!==R?(m={isPanelOpen:L,isGenerating:P,panelHeight:A,shouldShowCopilot:V,togglePanel:R,closePanel:D,handleGenerate:M,handleInputFocus:O,commands:B,panelProps:H,containerStyle:$,setIsGenerating:w,setPanelHeight:E},g[36]=D,g[37]=B,g[38]=$,g[39]=M,g[40]=O,g[41]=P,g[42]=L,g[43]=A,g[44]=H,g[45]=V,g[46]=R,g[47]=m):m=g[47],m}},55662(e,l,a){a.d(l,{x:()=>d});var n=a(74848),t=a(16522),i=a(97376),s=a(68692),r=a(96540),o=a(86626);let u=[];function d(e){let l,a,d,c,m,g,p,y,k=(0,t.c)(16);k[0]!==e?({tone:a,...l}=e,k[0]=e,k[1]=l,k[2]=a):(l=k[1],a=k[2]);let[f,h]=(0,r.useState)(),b=(0,o.P)(void 0!==f);k[3]!==a?(d={tone:a},k[3]=a,k[4]=d):d=k[4];let{calculateSuggestions:F,trigger:I}=(0,s.xf)(b.isPending?"loading":b.data??u,d);k[5]!==F||k[6]!==f?(c=void 0!==f?F(f):null,k[5]=F,k[6]=f,k[7]=c):c=k[7];let S=c;return k[8]!==I?(m=[I],k[8]=I,k[9]=m):m=k[9],k[10]===Symbol.for("react.memo_cache_sentinel")?(g=e=>{let{query:l}=e;return h(l)},p=()=>h(void 0),k[10]=g,k[11]=p):(g=k[10],p=k[11]),k[12]!==l||k[13]!==S||k[14]!==m?(y=(0,n.jsx)(i.a,{triggers:m,suggestions:S,onShowSuggestions:g,onHideSuggestions:p,...l}),k[12]=l,k[13]=S,k[14]=m,k[15]=y):y=k[15],y}d.displayName="EmojiAutocomplete"},32539(e,l,a){a.d(l,{KG:()=>u,O_:()=>i,QK:()=>o,iy:()=>r,sT:()=>s,wY:()=>t});let n={maxBodyLength:65536,maxIssueTitleLength:256,maxViewTitleLength:1024},t={...n,titleCanNotBeEmpty:"Title can not be empty",fieldCanNotBeEmpty:"Field can not be empty",issueTitleExceedsMaxLength:`Title can not be longer than ${n.maxIssueTitleLength} characters`,viewTitleExceedsMaxLength:`Title can not be longer than ${n.maxViewTitleLength} characters`,issueBodyExceedsMaxLength:`Body can not be longer than ${n.maxBodyLength} characters`,fieldExceedsMaxLength:`Field can not be longer than ${n.maxBodyLength} characters`,commentBodyEmpty:"Comment can not be empty",checkboxInAGroupMustBeSelected:"A required checkbox is missing",missingDropdownSelection:"An option must be selected",noChangesToSave:"No changes to save"};function i(e){return 0===e.trim().length?{isValid:!1,errorMessage:t.titleCanNotBeEmpty}:e.length>t.maxIssueTitleLength?{isValid:!1,errorMessage:t.issueTitleExceedsMaxLength}:{isValid:!0}}function s(e,l){return 0===e.trim().length&&l?{isValid:!1,errorMessage:t.fieldCanNotBeEmpty}:e.length>t.maxBodyLength?{isValid:!1,errorMessage:t.fieldExceedsMaxLength}:{isValid:!0}}function r(e){return 0===e.trim().length?{isValid:!1,errorMessage:t.titleCanNotBeEmpty}:e.length>t.maxViewTitleLength?{isValid:!1,errorMessage:t.viewTitleExceedsMaxLength}:{isValid:!0}}function o(e){return e.length>t.maxBodyLength?{isValid:!1,errorMessage:t.issueBodyExceedsMaxLength}:{isValid:!0}}function u(e){return 0===e.length?{isValid:!1,errorMessage:t.commentBodyEmpty}:{isValid:!0}}},90329(e,l,a){a.d(l,{O:()=>t});var n=a(96247);let t=(e,l)=>(0,n.dt)(e,l)>n.IP},31231(e,l,a){a.d(l,{$w:()=>o,Sr:()=>d,r:()=>u});var n=a(35148),t=a(53842);function i(e){return(0,t.rx)()?{...e,"aria-keyshortcuts":t.IX}:e}function s(e){return i({...e,"octo-click":"hovercard-link-click","octo-dimensions":"link_type:self"})}let r={user:{ariaLabel:"User Hovercard"},organization:{ariaLabel:"Organization Hovercard"},copilot:{ariaLabel:"Copilot Hovercard"},team:{ariaLabel:"Team Hovercard",enablementSelector:"[data-team-hovercards-enabled]"},issue:{ariaLabel:"Issue Hovercard",enablementSelector:"[data-issue-and-pr-hovercards-enabled]"},pull_request:{ariaLabel:"Pull Request Hovercard",enablementSelector:"[data-issue-and-pr-hovercards-enabled]"},commit:{ariaLabel:"Commit Hovercard",enablementSelector:"[data-commit-hovercards-enabled]"},repository:{ariaLabel:"Repository Hovercard",enablementSelector:"[data-repository-hovercards-enabled]"},discussion:{ariaLabel:"Discussion Hovercard",enablementSelector:"[data-discussion-hovercards-enabled]"},project:{ariaLabel:"Project Hovercard",enablementSelector:"[data-project-hovercards-enabled]"},sponsors_listing:{ariaLabel:"Sponsors Hovercard",enablementSelector:"[data-sponsors-listing-hovercards-enabled]"},acv_badge:{ariaLabel:"Arctic Code Vault Badge",enablementSelector:"[data-acv-badge-hovercards-enabled]"},advisory:{ariaLabel:"Advisory Hovercard"},cwe:{ariaLabel:"CWE Hovercard"},achievement:{ariaLabel:"Achievement Hovercard"},tracked_in:{ariaLabel:"Tracked In Hovercard"},tracking:{ariaLabel:"Tracking Hovercard"},security_alert:{ariaLabel:"Security Alert Hovercard"},dependabot_alert:{ariaLabel:"Dependabot Alert Hovercard"},dependency_graph_package:{ariaLabel:"Package Hovercard"},integration:{ariaLabel:"Integration Hovercard"},profile_highlight:{ariaLabel:"Profile Highlight Hovercard"}};function o(e){return e?r[e]?.ariaLabel??"Hovercard":"Hovercard"}function u(e,l){if(!l)return!0;let a=r[l]?.enablementSelector;return!a||!!e.closest(a)}function d(e,{isCopilot:l=!1,tracking:a=!0,isAgent:t=!1}={}){if(l||t){let l=(0,n._nf)({bot_slug:e});return a?s(i({"data-hovercard-url":l,"data-hovercard-type":"copilot"})):i({"data-hovercard-url":l,"data-hovercard-type":"copilot"})}{let l=(0,n.dCN)({owner:e});return a?s(i({"data-hovercard-url":l,"data-hovercard-type":"user"})):i({"data-hovercard-url":l,"data-hovercard-type":"user"})}}},2438(e,l,a){a.d(l,{Y:()=>n});let n={issueBody:"issue-body",bodyLoading:"body-loading",commentBox:(e="")=>`markdown-editor-${e}`,projectTitle:"project-title"}},60119(e,l,a){a.d(l,{E:()=>eF,d:()=>eb});var n,t,i,s,r,o,u,d,c,m,g,p,y,k,f,h,b,F,I,S,_,v,x,C,j,T,K,L,N,P,w,A,E,V,D,R,M,O,B=a(74848);let U=(n={defaultValue:null,kind:"LocalArgument",name:"filename"},t={defaultValue:null,kind:"LocalArgument",name:"repoId"},i=[{kind:"Variable",name:"id",variableName:"repoId"}],s=[{kind:"Variable",name:"filename",variableName:"filename"}],r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},f={alias:null,args:[m={kind:"Literal",name:"first",value:20},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'labels(first:20,orderBy:{"direction":"ASC","field":"NAME"})'},S={alias:null,args:h=[{kind:"Literal",name:"first",value:10}],concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:[{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[r,g,b={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},o,F={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},I={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"}],type:"Actor",abstractKey:"__isActor"}],storageKey:null}],storageKey:null}],storageKey:"assignees(first:10)"},_={alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},x={kind:"InlineFragment",selections:v=[g,o,{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],type:"IssueFieldText",abstractKey:null},K={alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"type",plural:!1,selections:[g,o,_,y,p,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[r,x,C={kind:"InlineFragment",selections:v,type:"IssueFieldSingleSelect",abstractKey:null},j={kind:"InlineFragment",selections:v,type:"IssueFieldDate",abstractKey:null},T={kind:"InlineFragment",selections:v,type:"IssueFieldNumber",abstractKey:null}],storageKey:null}],storageKey:null},L={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},N={alias:null,args:[m],concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projects",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"node",plural:!1,selections:[g,c,{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},k,{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasReachedItemsLimit",storageKey:null},r],storageKey:null}],storageKey:null}],storageKey:"projects(first:20)"},P={alias:null,args:h,concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:[{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[g,{kind:"InlineFragment",selections:[r,b,o,F,I],type:"Actor",abstractKey:"__isActor"}],storageKey:null}],storageKey:null}],storageKey:"assignees(first:10)"},w={alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"type",plural:!1,selections:[g,o,_,y,p,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[r,x,C,j,T,{kind:"InlineFragment",selections:[g],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},{fragment:{argumentDefinitions:[n,t],kind:"Fragment",metadata:null,name:"CreateIssueQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{kind:"InlineDataFragmentSpread",name:"useHandleTemplateChange",selections:[{alias:null,args:s,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplate",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"useHandleTemplateChangeIssueTemplate",selections:[r,o,u,d,c,f,S,K,L],args:null,argumentDefinitions:[]}],storageKey:null},{alias:null,args:s,concreteType:"IssueForm",kind:"LinkedField",name:"issueForm",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"useHandleTemplateChangeIssueForm",selections:[r,o,u,c,{kind:"InlineDataFragmentSpread",name:"IssueFormElements_templateElements",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"elements",plural:!0,selections:[r,{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"TextInputElement_input"}],type:"IssueFormElementInput",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"TextAreaElement_input"}],type:"IssueFormElementTextarea",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"MarkdownElement_input"}],type:"IssueFormElementMarkdown",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"DropdownElement_input"}],type:"IssueFormElementDropdown",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CheckboxesElement_input"}],type:"IssueFormElementCheckboxes",abstractKey:null}],storageKey:null}],args:null,argumentDefinitions:[]},f,S,N,K,L],args:null,argumentDefinitions:[]}],storageKey:null}],args:s,argumentDefinitions:[{defaultValue:"",kind:"LocalArgument",name:"filename"}]}],type:"Repository",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,n],kind:"Operation",name:"CreateIssueQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r,g,{kind:"InlineFragment",selections:[{alias:null,args:s,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplate",plural:!1,selections:[r,o,u,d,c,f,P,w,L],storageKey:null},{alias:null,args:s,concreteType:"IssueForm",kind:"LinkedField",name:"issueForm",plural:!1,selections:[r,o,u,c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"elements",plural:!0,selections:[r,{kind:"InlineFragment",selections:[A={alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},L],type:"IssueFormElementInput",abstractKey:null},{kind:"InlineFragment",selections:[A,E,V,D,R,M,{alias:null,args:null,kind:"ScalarField",name:"render",storageKey:null},L],type:"IssueFormElementTextarea",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"contentHTML",storageKey:null}],type:"IssueFormElementMarkdown",abstractKey:null},{kind:"InlineFragment",selections:[A,E,V,{alias:null,args:null,kind:"ScalarField",name:"options",storageKey:null},M,{alias:null,args:null,kind:"ScalarField",name:"multiple",storageKey:null},{alias:"defaultOptionIndex",args:null,kind:"ScalarField",name:"default",storageKey:null},L],type:"IssueFormElementDropdown",abstractKey:null},{kind:"InlineFragment",selections:[A,E,V,{alias:"checkboxOptions",args:null,concreteType:"IssueFormElementCheckboxOption",kind:"LinkedField",name:"options",plural:!0,selections:[E,{alias:null,args:null,kind:"ScalarField",name:"labelHTML",storageKey:null},M],storageKey:null},L],type:"IssueFormElementCheckboxes",abstractKey:null}],storageKey:null},f,P,N,w,L],storageKey:null}],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"9e2b24072388cd7bd7820cba1fdd5d49",metadata:{},name:"CreateIssueQuery",operationKind:"query",text:null}});U.hash="a07055edea10e255144aa55d8c188972";let $={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"includeTemplates"}],kind:"Fragment",metadata:null,name:"CreateIssue",selections:[{kind:"InlineDataFragmentSpread",name:"RepositoryPickerRepository",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[O,{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},{alias:null,args:null,kind:"ScalarField",name:"issueTypesEnabled",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLocked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isInOrganization",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slashCommandsEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanPush",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},{alias:null,args:[{kind:"Literal",name:"action",value:"create an issue"}],kind:"ScalarField",name:"viewerInteractionLimitReasonHTML",storageKey:'viewerInteractionLimitReasonHTML(action:"create an issue")'},{alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"milestoneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assignable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triageable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canSetIssueFields",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortDescriptionHTML",storageKey:null}],args:null,argumentDefinitions:[]},{condition:"includeTemplates",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"TemplatePickerButton"},{args:null,kind:"FragmentSpread",name:"TemplateListPane"}]}],type:"Repository",abstractKey:null};$.hash="11a4bfcf2545d016056e98e1ea117093";var H=a(24043),q=a(35931),W=a(56144),z=a(7478),G=a(96540),Q=a(18312),Y=a(24622),J=a(26806),X=a(56920),Z=a(36238),ee=a(31382);let el=ee.k.crossRepoIssueDuplicationDefaultWarning;function ea({onCreateSuccess:e,topRepositories:l,issueFormRef:a,...n}){let{title:t,body:i,setBody:s,repository:r,setNewTitle:o,clearSessionData:u}=(0,X.u)(),{onRepositoryChange:d,notice:c,sourceRepository:m}=(()=>{let{repository:e,setRepository:l,assignees:a,setAssignees:n,issueType:t,setIssueType:i,issueFields:s,setIssueFields:r,milestone:o,setMilestone:u,labels:d,setLabels:c}=(0,X.u)(),[m,g]=(0,G.useState)({repository:e,assignees:a,issueType:t,issueFields:s,milestone:o,labels:d}),[p,y]=(0,G.useState)(el),k=(0,G.useCallback)(e=>{if(!e)return;let a=[],t=e.id===m.repository?.id,s=e.owner?.databaseId===m.repository?.owner?.databaseId;t?(n?.(m.assignees),r?.(m.issueFields),i?.(m.issueType),u?.(m.milestone),c?.(m.labels)):(u?.(null),a.push("Milestone","Labels"),s?(n?.(m.assignees),r?.(m.issueFields),i?.(m.issueType)):(n?.([]),r?.([]),i?.(null),a.push("Assignees"),m.repository?.owner?.issueTypesEnabled&&a.push("Type"))),y(a.length>0?ee.k.crossRepoIssueDuplicationWarning(a):el),l(e)},[m,n,r,i,c,u,l]);return(0,G.useEffect)(()=>{(void 0===m.repository||e?.databaseId===m.repository?.databaseId)&&g({repository:e,assignees:a,issueType:t,issueFields:s,milestone:o,labels:d})},[e,a,t,s,o,d,m.repository?.databaseId,m.repository]),{onRepositoryChange:k,notice:p,sourceRepository:m.repository}})(),g=(0,H.G7)("issues_react_select_panel_fullscreen_on_narrow"),p=(0,G.useCallback)(e=>e.id===m?.id?e.viewerIssueCreationPermissions.triageable:e.viewerIssueCreationPermissions.triageable&&e.isBlankIssuesEnabled,[m?.id]);return"unset"!==l&&l&&r?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(q.f0,{"aria-describedby":"Choose repository to duplicate issue in",initialRepository:r,topRepositories:l,onSelect:d,focusRepositoryPicker:!0,enforceAtleastOneSelected:!0,options:{hasIssuesEnabled:!0},notice:{text:c,variant:"warning"},repositoryFilter:p,responsiveOnNarrow:g}),(0,B.jsx)(Z.e,{...n,showSimilarIssues:!1,issueFormRef:a,onCreateSuccess:e,repository:r,title:t,setTitle:o,body:i,setBody:s,clearOnCreate:u,focusTitleInput:!1})]}):null}ea.displayName="CreateDuplicateIssueForm";var en=a(57880),et=a(56190),ei=a(53351),es=a(44877);let er=["220px","250px","290px","210px"].map((e,l)=>({id:`skeleton-${l}`,width:e}));function eo(){let{optionConfig:e}=(0,J.a)();return(0,B.jsx)("div",{className:`${es.A.skeletonContainer} ${e.insidePortal&&"ml-3"}`,children:er.map(({id:e,width:l})=>(0,B.jsx)(ei.Q,{height:"xl",width:l},e))})}eo.displayName="TemplateListLoading";var eu=a(19591);function ed({repository:e,topRepositories:l,organization:a,onRepositorySelected:n,onTemplateSelected:t}){let{optionConfig:i}=(0,J.a)(),s=(0,G.useId)(),r=i.insidePortal?"ml-3":"ml-0";return(0,B.jsxs)("div",{className:i.insidePortal?"pt-2":"","data-testid":et.Y.repositoryAndTemplateDialog,children:[(0,B.jsx)(ec,{className:r,name:"Repository"}),(0,B.jsx)("div",{className:`${i.insidePortal?"mb-2":"mb-3"} ${r}`,children:(0,B.jsx)(q.f0,{"aria-describedby":s,initialRepository:e,onSelect:n,organization:a,topRepositories:l,focusRepositoryPicker:!0,enforceAtleastOneSelected:!0,options:{hasIssuesEnabled:!0,includeForks:!0}})}),(0,B.jsx)(G.Suspense,{fallback:(0,B.jsx)(eo,{}),children:e&&(0,B.jsx)(eu.N,{repositoryId:e.id,onTemplateSelected:t,descriptionId:s})})]})}function ec({name:e,className:l}){return(0,B.jsxs)("div",{className:`pt-1 pb-1 ${l}`,children:[(0,B.jsx)("span",{className:"text-bold",children:e}),(0,B.jsx)("span",{className:"ml-1 mb-1 fgColor-danger",children:"*"})]})}ed.displayName="RepositoryAndTemplatePicker",ec.displayName="Field";let em={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TemplatePickerButton",selections:[{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null}],type:"Repository",abstractKey:null};em.hash="fc9ace64aa764ca00db0ea2f61b67a2b";var eg=a(38621),ep=a(21373);a(69487);var ey=a(69915);function ek({repository:e,template:l}){let a=(0,Q.useFragment)(em,e),{setDisplayMode:n}=(0,J.a)(),t=l?l.name:ee.k.blankIssueName,i=(0,G.useRef)(null);return((0,G.useEffect)(()=>{i.current?.focus()},[]),a.hasAnyTemplates)?(0,B.jsx)("div",{"data-testid":"template-picker-button",className:"TemplatePickerButton-module__TemplatePickerButtonContainer__aGCeO",children:(0,B.jsxs)(ep.Q,{"data-testid":"template-picker-button-el",onClick:()=>n(ey.q.TemplatePicker),leadingVisual:eg.RepoIcon,trailingVisual:eg.PencilIcon,ref:i,children:[a&&(0,B.jsxs)("span",{children:[t," ",(0,B.jsx)("span",{className:"TemplatePickerButton-module__repositoryConnectorText__EJ5J4",children:"in"})," ",a.nameWithOwner]}),!e&&(0,B.jsx)(B.Fragment,{children:"Select a repository"})]})}):null}ek.displayName="TemplatePickerButton";var ef=a(51013),eh=a(75608);let eb=U,eF=({topRepositories:e,navigate:l,currentRepository:a,onCreateSuccess:n,issueFormRef:t,...i})=>{let s="unset"!==a&&null===a||"unset"!==e&&null===e,r=(0,Q.useFragment)($,"unset"!==a?a:null),{addToast:o}=(0,W.Y6)(),u=(0,Q.useRelayEnvironment)(),{title:d,body:c,setBody:m,repository:g,setRepository:p,template:y,setNewTitle:k,resetMetadata:f,clearSessionData:h}=(0,X.u)(),{optionConfig:b,displayMode:F,initialDefaultDisplayMode:I,setDisplayMode:S,setCreateMoreCreatedPath:_}=(0,J.a)(),v=(0,H.G7)("memex_default_issue_create_repository"),x=(0,G.useRef)({defaultIssueCreateRepoEnabled:v,isInitialRender:!0,values:{resetMetadata:f,initialDefaultDisplayMode:I,repository:g,setDisplayMode:S}});(0,G.useEffect)(()=>{if(x.current.isInitialRender){if(x.current.isInitialRender=!1,!x.current.defaultIssueCreateRepoEnabled)return;let{resetMetadata:e,initialDefaultDisplayMode:l,repository:a,setDisplayMode:n}=x.current.values;if(l!==ey.q.IssueDuplication){if(e(),a?.hasAnyTemplates)return void n(ey.q.TemplatePicker);if(!a?.hasAnyTemplates&&a?.isBlankIssuesEnabled)return void n(ey.q.IssueCreation);n(l)}}},[]);let C=(0,G.useCallback)(e=>{e&&(g&&g.id!==e.id&&(f({repository:x.current.values.repository,selectedRepository:e}),v&&(e.hasAnyTemplates?S(ey.q.TemplatePicker):!e.hasAnyTemplates&&e.isBlankIssuesEnabled&&S(ey.q.IssueCreation))),p(e),_({owner:e.owner.login,repo:e.name,number:void 0}))},[f,g,_,p,S,v]),j=(0,ef.wT)({optionConfig:b,repository:g,navigate:l,setDisplayMode:S}),T=(0,G.useCallback)((e,a)=>{let n;if(g){if(g?.viewerInteractionLimitReasonHTML&&g.viewerInteractionLimitReasonHTML.length>0)return void l(`/${g.owner.login}/${g.name}/issues/new`);if(a!==eh.t7.ContactLink){if(b.issueCreateArguments?.initialValues?.appendTitleToTemplate&&(n={appendTitleToTemplate:b.issueCreateArguments.initialValues.appendTitleToTemplate}),a===eh.t7.BlankIssue)return void j((0,eh.AI)(),n,!0);(0,Q.fetchQuery)(u,eb,{repoId:g.id,filename:e}).subscribe({next:e=>{if(!e.node)return;let l=(0,ef.EV)(e.node);l&&j(l,n,!0)},error:()=>{reportError(Error(Y.S.unableToLoadSelectedTemplate)),o({type:"error",message:Y.S.unableToLoadSelectedTemplate})}})}}},[g,u,b.issueCreateArguments?.initialValues?.appendTitleToTemplate,j,o,l]),K=(0,en.K)({issueFormRef:t,handleTemplateChange:j,template:y,callback:n});(0,G.useEffect)(()=>{g&&_({owner:g.owner?.login||"",repo:g.name||"",number:void 0})},[g,_]),(0,G.useEffect)(()=>{void 0===g&&(r?C((0,q.Jo)(r)):"unset"!==e&&e&&e.length>0&&C(e[0]))},[r,C,g,e]);let L=(0,B.jsx)("div",{className:"CreateIssue-module__LoadingContainer__S2Oxl",children:(0,B.jsx)(z.A,{size:"large"})}),N=I===ey.q.IssueCreation;return F!==ey.q.IssueCreation||s?F!==ey.q.IssueDuplication||s?s||"unset"===e||(F!==ey.q.TemplatePicker||!b.showRepositoryPicker)&&(F!==ey.q.TemplatePicker||r||g)?F===ey.q.TemplatePicker&&!b.showRepositoryPicker&&!s&&a&&r&&(L=(0,B.jsx)("div",{"data-hpc":!0,children:(0,B.jsx)(eu.e,{repository:r,onTemplateSelected:T,...i})})):L=(0,B.jsx)(ed,{repository:g,onRepositorySelected:C,topRepositories:e,organization:b.scopedOrganization,onTemplateSelected:T}):L=(0,B.jsx)(ea,{navigate:l,onCreateSuccess:K,topRepositories:e,issueFormRef:t,...i}):L=(0,B.jsxs)(B.Fragment,{children:[N&&r&&(0,B.jsx)(ek,{repository:r,template:y}),g&&(0,B.jsx)(Z.e,{...i,issueFormRef:t,onCreateSuccess:K,selectedTemplate:y,repository:g,title:d,setTitle:k,body:c,setBody:m,clearOnCreate:h,focusTitleInput:!N,footer:void 0})]}),(0,B.jsx)("div",{tabIndex:-1,className:"CreateIssue-module__CreateIssueContainer__ueahp",children:L})};eF.displayName="CreateIssue"},84698(e,l,a){a.d(l,{l:()=>b});var n=a(74848),t=a(35148),i=a(70966),s=a(38621),r=a(7624),o=a(85965),u=a(83223),d=a(21373),c=a(10095),m=a(94709),g=a(34164),p=a(96540),y=a(58708),k=a(31382),f=a(56190),h=a(26806);let b=({className:e,sx:l,hideCreateMore:a=!1,onClose:b})=>{let{createMore:F,setCreateMore:I,createMoreCreatedPath:S,onCreateAction:_,isSubmitting:v,isFileUploading:x,isSubIssue:C,optionConfig:{insidePortal:j}}=(0,h.a)(),[T,K]=(0,p.useState)(!1),L=(0,p.useRef)(null),N=()=>!v&&(!x||(K(!0),!1)),P=async()=>{N()&&_?.current?.onCreate(v,F)};(0,p.useEffect)(()=>{L.current&&!x&&!v&&T&&(K(!1),L.current.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0})))},[x,v,T]);let w={"github:submit-form":P};return a||(w["issue-create:submit-and-create-more"]=()=>{I(!0),N()&&_?.current?.onCreate(v,!0)}),(0,n.jsxs)("div",{className:(0,g.$)("CreateIssueFooter-module__container__DiFIV",e,"CreateIssueFooter-module__CreateIssueFooterContainer__yAvby"),children:[(0,n.jsx)(i.ak,{commands:w}),T&&(0,n.jsxs)("div",{className:"CreateIssueFooter-module__fileUploadWarningSection__P09Ux",children:[(0,n.jsx)(c.A,{icon:s.InfoIcon,size:16}),(0,n.jsx)("span",{className:"CreateIssueFooter-module__warningMessageText__isURu",children:k.k.fileUploadWarning})]}),(0,n.jsxs)(m.az,{sx:{...l},className:"CreateIssueFooter-module__mainContentWrapper__B3D0d",children:[!a&&(0,n.jsxs)(m.az,{sx:{ml:2*!j},className:"CreateIssueFooter-module__checkboxAndLinksSection__d2IUE",children:[(0,n.jsxs)(r.A,{className:"CreateIssueFooter-module__FormControl__FMkJL",children:[(0,n.jsx)(o.A,{"data-testid":f.Y.createMoreIssuesCheckbox,checked:F,onChange:()=>{I(!F)},className:"CreateIssueFooter-module__Checkbox__WMmWP"}),(0,n.jsx)(r.A.Label,{children:C?y.l.createMoreSubIssues:y.l.createMore})]}),(0,n.jsx)("div",{"data-testid":f.Y.issueCreatedAnnouncement,className:"sr-only","aria-live":"polite","aria-atomic":"true",role:"status",children:S.number?k.k.lastIssueCreated(S.number):null}),S.number?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"CreateIssueFooter-module__separatorDot__G7ZPv",children:"\xb7"}),(0,n.jsx)(u.A,{href:(0,t.dRG)({owner:S.owner,repo:S.repo,issueNumber:S.number}),"data-testid":f.Y.issueCreatedLink,children:k.k.lastIssueCreated(S.number)})]}):null]}),(0,n.jsxs)("div",{className:"CreateIssueFooter-module__actionButtonsContainer__YPlU0",children:[b&&(0,n.jsx)(d.Q,{onClick:()=>b(),children:y.l.cancel}),(0,n.jsx)(i.cQ,{commandId:"github:submit-form",variant:"primary",inactive:v||x,"data-testid":f.Y.createIssueButton,ref:L,showKeybindingHint:!0,children:y.l.create})]})]})]})};b.displayName="CreateIssueFooter"},36238(e,l,a){a.d(l,{e:()=>aI});var n,t,i,s,r,o,u,d,c,m,g,p,y,k,f,h,b,F,I,S,_,v,x,C,j,T,K,L,N,P,w,A,E,V,D,R,M=a(74848),O=a(36795),B=a(24619),U=a(83145),$=a(66548),H=a(85461),q=a(83276),W=a(84616),z=a(32539),G=a(24535),Q=a(24043),Y=a(29610),J=a(42304),X=a(30888),Z=a(22458),ee=a(48195),el=a(56144),ea=a(70966),en=a(16135),et=a(33751),ei=a(38621),es=a(39081),er=a(41431),eo=a(59134),eu=a(10095),ed=a(43715),ec=a(94709),em=a(34164),eg=a(96540),ep=a(18312),ey=a(24622),ek=a(31382),ef=a(26806),eh=a(56920),eb=a(94583),eF=a(58388),eI=a(7478),eS=a(7624),e_=a(65820);function ev({isOpen:e,onClose:l,onGenerate:a,repoOwner:n,repoName:t,title:i,body:s,returnFocusRef:r}){let[o,u]=(0,eg.useState)(""),[d,c]=(0,eg.useState)(!1),[m,g]=(0,eg.useState)(null),{sendAnalyticsEvent:p}=(0,en.s)(),y=!!(i?.trim()||s?.trim()||o?.trim()),k=(0,eg.useCallback)(()=>{u(""),g(null),l()},[l]),f=(0,eg.useCallback)(async()=>{p("analytics.click","ISSUE_CREATE_GENERATE_DESCRIPTION_WITH_COPILOT",{repoNWO:`${n}/${t}`,hasTitle:!!i,hasExistingDescription:!!s,hasAdditionalContext:!!o}),c(!0),g(null);try{let e=await (0,eF.lS)(`/${n}/${t}/issues/new/generate_copilot_description`,{method:"POST",body:{title:i,body:s,context:o}});if(!e.ok){g(ek.k.copilotGenerateError),ex("response_not_ok");return}let l=await e.json(),r=l.title,d=l.description;if(!r||!d||0===r.trim().length||0===d.trim().length){g(ek.k.copilotGenerateError),ex(`response_missing${!r?"_title":""}${!d?"_description":""}`);return}ex(),a(r,d),u("")}catch(e){g(ek.k.copilotGenerateError),ex(e instanceof Error?e.message:"unknown_error"),(0,G.N7)(e)}finally{c(!1)}},[p,n,t,i,s,o,a]);return e?(0,M.jsx)(es.l,{title:ek.k.copilotGenerateDialogTitle,onClose:k,footerButtons:[{buttonType:"default",content:"Cancel",onClick:k,disabled:d},{buttonType:"primary",content:d?(0,M.jsx)(eI.A,{size:"small",className:"mt-1 mr-1"}):ek.k.copilotGenerateDialogGenerateButton,onClick:f,disabled:d||!y}],returnFocusRef:r,children:(0,M.jsxs)(ec.az,{sx:{display:"flex",flexDirection:"column",gap:3},children:[m&&(0,M.jsxs)(eo.A,{variant:"danger",children:[(0,M.jsx)(eu.A,{icon:ei.AlertIcon}),m]}),!y&&(0,M.jsxs)(eo.A,{variant:"warning",children:[(0,M.jsx)(eu.A,{icon:ei.AlertIcon}),ek.k.copilotGenerateValidationWarning]}),(0,M.jsxs)(eS.A,{disabled:d,children:[(0,M.jsx)(eS.A.Label,{children:ek.k.copilotGenerateDialogTextareaLabel}),(0,M.jsx)(e_.Ay,{value:o,onChange:e=>u(e.target.value),placeholder:ek.k.copilotGenerateDialogTextareaPlaceholder,rows:6,block:!0,className:"pr-mt-3"})]})]})}):null}function ex(e,l,a,n){(0,eb.BI)("copilot.create_issue_description",{hasTitle:!!l,hasExistingDescription:!!a,hasAdditionalContext:!!n,error:e})}ev.displayName="CopilotGenerateDescriptionDialog";var eC=a(55662),ej=a(6543),eT=a(38750);let eK=({title:e,titleValidationResult:l,titleInputRef:a,handleTitleChange:n})=>{let{settings:t}=(0,ej.z)(),i=(0,M.jsx)(eT.A,{ref:a,"aria-label":ek.k.issueCreateTitleLabel,placeholder:ek.k.issueCreateTitlePlaceholder,"aria-describedby":"issue-create-pane-title title-validation",value:e,onChange:n,onInput:n,"data-hpc":!0,autoFocus:!0,"data-react-autofocus":!0});return(0,M.jsx)("div",{className:"CreateIssueFormTitle-module__container__lfxpk",children:(0,M.jsxs)(eS.A,{className:"CreateIssueFormTitle-module__formControl__jEalo",required:!0,children:[(0,M.jsx)(eS.A.Label,{className:"CreateIssueFormTitle-module__formControlLabel__TYnt1",children:ek.k.issueCreateTitleLabel}),(0,M.jsxs)("div",{className:"CreateIssueFormTitle-module__subcontainer__JTymL",children:[(0,M.jsx)(eg.Suspense,{fallback:i,children:(0,M.jsx)(eC.x,{tone:t.emojiTone,children:i})}),l&&(0,M.jsx)("span",{role:"alert","aria-live":"assertive",children:(0,M.jsx)(eS.A.Validation,{variant:"error",id:"title-validation",children:l})})]})]})})};eK.displayName="CreateIssueFormTitle";let eL={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"useIssueFormSecondaryQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"contributingFileUrl",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"codeOfConductFileUrl",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"supportFileUrl",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:u=[{kind:"Literal",name:"first",value:10}],concreteType:"IssueFieldsConnection",kind:"LinkedField",name:"pinnedIssueFields",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={kind:"InlineFragment",selections:m=[c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],type:"IssueFieldText",abstractKey:null},p={kind:"InlineFragment",selections:m,type:"IssueFieldSingleSelect",abstractKey:null},y={kind:"InlineFragment",selections:m,type:"IssueFieldDate",abstractKey:null},k={kind:"InlineFragment",selections:m,type:"IssueFieldNumber",abstractKey:null}],storageKey:null}],storageKey:"pinnedIssueFields(first:10)"}],type:"Organization",abstractKey:null}],storageKey:null}],type:"Repository",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"useIssueFormSecondaryQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d,{kind:"InlineFragment",selections:[i,s,r,o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:u,concreteType:"IssueFieldsConnection",kind:"LinkedField",name:"pinnedIssueFields",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[d,g,p,y,k,{kind:"InlineFragment",selections:[c],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"pinnedIssueFields(first:10)"}],type:"Organization",abstractKey:null},c],storageKey:null}],type:"Repository",abstractKey:null},c],storageKey:null}]},params:{id:"d3765abb61ac2c4f9019e654724d3043",metadata:{},name:"useIssueFormSecondaryQuery",operationKind:"query",text:null}};eL.hash="72c60bf38c11334e07dfc92e81deade1";var eN=a(17989);a(69487);var eP=a(74567),ew=a(34581),eA=a(20267),eE=a(97665),eV=a(97286),eD=a(24880);let eR={hasSentSectionShown:!1,hasSentSectionExpanded:!1,hasSentResultsShown:!1,wasIssueClicked:!1,issueClickCount:0,hadResults:!1};var eM=a(26587),eO=a(16522),eB=a(35592),eU=a(24058),e$=a(84730),eH=a(63448);let eq=e=>{let l,a,n,t,i=(0,eO.c)(17),{ref:s,assignees:r,anchorProps:o,displayHotkey:u,MAX_DISPLAYED_ASSIGNEES:d,readonly:c}=e,m=void 0===d?2:d;i[0]!==m||i[1]!==r?(l=r.slice(0,m).map(ez),i[0]=m,i[1]=r,i[2]=l):l=i[2];let g=r.length>1?eU.k.assignees:eU.k.noAssignees;return i[3]!==m||i[4]!==r?(a=r.slice(0,m).map(eG).join(", ").concat(r.length>m?`, ${r.length-m}+`:""),i[3]=m,i[4]=r,i[5]=a):a=i[5],i[6]!==u||i[7]!==c?(n=!c&&u?"A":void 0,i[6]=u,i[7]=c,i[8]=n):n=i[8],i[9]!==o||i[10]!==c||i[11]!==s||i[12]!==l||i[13]!==g||i[14]!==a||i[15]!==n?(t=(0,M.jsx)(e$._,{leadingIconElement:l,anchorText:g,anchorProps:o,sharedPickerMainValue:a,ariaLabel:eU.k.selectAssignees,readonly:c,leadingIcon:ei.PeopleIcon,hotKey:n,ref:s}),i[9]=o,i[10]=c,i[11]=s,i[12]=l,i[13]=g,i[14]=a,i[15]=n,i[16]=t):t=i[16],t};function eW(e){let l=(0,eO.c)(8),{assignee:a}=e,n=(0,eH.yY)();if(a.isCopilot){let e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,M.jsx)(ei.CopilotIcon,{}),l[0]=e):e=l[0],e}{let e,t;l[1]!==a.login||l[2]!==n?(e=n("user",{login:a.login}),l[1]=a.login,l[2]=n,l[3]=e):e=l[3];let i=`@${a.login}`;return l[4]!==a.avatarUrl||l[5]!==e||l[6]!==i?(t=(0,M.jsx)(eB.r,{...e,src:a.avatarUrl,size:16,alt:i,className:"CompressedAssigneeAnchor-module__compressedAssigneeAvatar__YcZfr"}),l[4]=a.avatarUrl,l[5]=e,l[6]=i,l[7]=t):t=l[7],t}}function ez(e){return(0,M.jsx)(eW,{assignee:e},e.login)}function eG(e){return e.isCopilot?"Copilot":e.login}eq.displayName="CompressedAssigneeAnchor",eW.displayName="AssigneeLeadingVisual",eq.displayName="CompressedAssigneeAnchor";let eQ=e=>{let l,a,n=(0,eO.c)(7),{ref:t,assignees:i,readonly:s,anchorProps:r}=e;n[0]!==i?(l=i||[],n[0]=i,n[1]=l):l=n[1];let o=s?void 0:r;return n[2]!==s||n[3]!==t||n[4]!==l||n[5]!==o?(a=(0,M.jsx)(eq,{assignees:l,displayHotkey:!1,anchorProps:o,readonly:s,ref:t}),n[2]=s,n[3]=t,n[4]=l,n[5]=o,n[6]=a):a=n[6],a};eQ.displayName="DefaultAssigneePickerAnchor",eQ.displayName="DefaultAssigneePickerAnchor";var eY=a(49344),eJ=a(61935);let eX=e=>{let l,a,n,t=(0,eO.c)(6),{color:i}=e;t[0]!==i?(l=eJ.i4.find(e=>e===i),t[0]=i,t[1]=l):l=t[1];let s=l,{fg:r}=(0,eJ.Wk)(s),o=`${r}`;t[2]!==o?(a={"--bg":o},t[2]=o,t[3]=a):a=t[3];let u=a;return t[4]!==u?(n=(0,M.jsx)("div",{style:u,className:"DefaultIssueTypePickerAnchor-module__issueTypeDot__tFF3h"}),t[4]=u,t[5]=n):n=t[5],n};eX.displayName="IssueTypeDot";let eZ=e=>{let l,a,n=(0,eO.c)(8),{ref:t,activeIssueType:i,readonly:s,anchorProps:r}=e,o=i?.name,u=s?void 0:r;return n[0]!==i?(l=i&&(0,M.jsx)(eX,{color:i.color}),n[0]=i,n[1]=l):l=n[1],n[2]!==s||n[3]!==t||n[4]!==o||n[5]!==u||n[6]!==l?(a=(0,M.jsx)(e$._,{anchorText:eU.k.noIssueTypes,sharedPickerMainValue:o,anchorProps:u,ariaLabel:eU.k.selectIssueTypes,readonly:s,leadingIcon:ei.IssueOpenedIcon,hotKey:void 0,ref:t,leadingIconElement:l}),n[2]=s,n[3]=t,n[4]=o,n[5]=u,n[6]=l,n[7]=a):a=n[7],a};eZ.displayName="DefaultIssueTypePickerAnchor",eZ.displayName="DefaultIssueTypePickerAnchor";var e0=a(31184),e1=a(29207);let e2=({MAX_DISPLAYED_LABELS:e=5,labelColors:l})=>(0,M.jsx)("div",{className:"LabelDots-module__labelDotsContainer__vCyCs",children:l.slice(0,e).map((e,l)=>(0,M.jsx)(ec.az,{sx:{backgroundColor:`#${e}`},className:"LabelDots-module__labelDot__qtvam"},`${l}-${e}`))});e2.displayName="LabelDots";let e4=({ref:e,size:l="large",labelNamesWithColor:a,anchorProps:n,MAX_DISPLAYED_LABELS:t=5,readonly:i,leadingIcon:s,hotKey:r,anchorText:o})=>{let u=a.slice(0,t).map(e=>e.nameHTML).join(", ").concat(a.length>t?`, ${a.length-t}+`:"");return(0,M.jsx)(e$._,{anchorProps:n,readonly:i,anchorText:o||(a.length>1?eU.k.labels:eU.k.noLabels),sharedPickerMainValue:a.length>0&&(0,M.jsx)(e3,{labelNamesWithColor:a,MAX_DISPLAYED_LABELS:t,compressedLabelTitle:u}),leadingIconElement:a.length>0&&(0,M.jsx)(e2,{MAX_DISPLAYED_LABELS:t,labelColors:a.map(e=>e.color)}),ariaLabel:eU.k.selectLabels,size:l,leadingIcon:s,hotKey:r,ref:e,compressedTitle:u})};e4.displayName="CompressedLabelsToken",e4.displayName="CompressedLabelsToken";let e3=({compressedLabelTitle:e})=>(0,M.jsx)(e1.JR,{html:e});e3.displayName="LabelNames";let e6=e=>{let l,a,n,t=(0,eO.c)(14),{ref:i,size:s,labels:r,anchorProps:o,displayHotkey:u,MAX_DISPLAYED_LABELS:d,readonly:c}=e,m=void 0===s?"small":s,g=void 0===d?2:d;t[0]!==r?(l=r.map(e7),t[0]=r,t[1]=l):l=t[1],t[2]!==u||t[3]!==c?(a=!c&&u?"L":void 0,t[2]=u,t[3]=c,t[4]=a):a=t[4];let p=r?.length===0?eU.k.noLabels:void 0;return t[5]!==g||t[6]!==o||t[7]!==c||t[8]!==i||t[9]!==m||t[10]!==l||t[11]!==a||t[12]!==p?(n=(0,M.jsx)(e4,{size:m,labelNamesWithColor:l,anchorProps:o,MAX_DISPLAYED_LABELS:g,readonly:c,leadingIcon:ei.TagIcon,hotKey:a,anchorText:p,ref:i}),t[5]=g,t[6]=o,t[7]=c,t[8]=i,t[9]=m,t[10]=l,t[11]=a,t[12]=p,t[13]=n):n=t[13],n};e6.displayName="CompressedLabelAnchor",e6.displayName="CompressedLabelAnchor";let e5=e=>{let l,a=(0,eO.c)(5),{ref:n,labels:t,readonly:i,anchorProps:s}=e,r=i?void 0:s;return a[0]!==t||a[1]!==i||a[2]!==n||a[3]!==r?(l=(0,M.jsx)(e6,{labels:t,readonly:i,displayHotkey:!1,anchorProps:r,ref:n}),a[0]=t,a[1]=i,a[2]=n,a[3]=r,a[4]=l):l=a[4],l};function e7(e){return{nameHTML:e.nameHTML,color:e.color}}e5.displayName="DefaultLabelPickerAnchor",e5.displayName="DefaultLabelAnchor";var e8=a(80097);let e9=e=>{let l,a=(0,eO.c)(6),{ref:n,activeMilestone:t,readonly:i,nested:s,anchorProps:r}=e,o=t?.title,u=i?void 0:r;return a[0]!==s||a[1]!==i||a[2]!==n||a[3]!==o||a[4]!==u?(l=(0,M.jsx)(e$._,{anchorText:eU.k.noMilestones,sharedPickerMainValue:o,anchorProps:u,ariaLabel:eU.k.selectMilestones,readonly:i,nested:s,leadingIcon:ei.MilestoneIcon,hotKey:void 0,ref:n}),a[0]=s,a[1]=i,a[2]=n,a[3]=o,a[4]=u,a[5]=l):l=a[5],l};e9.displayName="DefaultMilestonePickerAnchor",e9.displayName="DefaultMilestonePickerAnchor";var le=a(40850),ll=a(57211),la=a(27850),ln=a(86280),lt=a(53351);let li=()=>(0,M.jsx)("div",{className:"MetadataFooterLoading-module__MetadataFooterLoadingContainer__T44jF",children:(0,M.jsx)(lt.Q,{borderRadius:"pill",height:"lg",width:"400px"})});li.displayName="MetadataFooterLoading";var ls=a(44939),lr=a(19936),lo=a(2979),lu=a(88264),ld=a(26108);let lc="MetadataFooter-module__MetadataFooterSeparator__V9ivs",lm="MetadataFooter-module__animationClass__hhpfW",lg=({fieldWithValue:e,buttonProps:l,className:a,readonly:n})=>{let t=(0,Y.HZ)(e.field.dataType),i=(0,X.nB)(t,e.value),s=lp(e),r=i?`${e.field.name}:`:e.field.name;return(0,M.jsx)(e$._,{anchorText:r,sharedPickerMainValue:i,leadingIcon:(0,Y.mQ)(t),leadingIconElement:s,anchorProps:l,className:a,readonly:n},e.field.id)};lg.displayName="IssueFieldValueSharedEditorAnchor";let lp=e=>{if("SINGLE_SELECT"===e.field.dataType&&e.value){let l=e.value,a=l?.color||"GRAY";return(0,M.jsx)(ly,{color:a})}return null},ly=({color:e})=>{let l=eJ.i4.find(l=>l===e),{fg:a}=(0,eJ.Wk)(l);return(0,M.jsx)("div",{style:{"--bg":`${a}`},className:"MetadataFooter-module__SingleSelectFieldDot__Y1QVg"})};ly.displayName="SingleSelectFieldDot";let lk=(e,l)=>(0,M.jsx)(ld.K,{onClick:l=>{e.onClick?.(l)},ref:l,icon:ei.PlusIcon,variant:"default","aria-label":ek.k.setAdditionalFields,tooltipDirection:"n",size:"small"}),lf="256px",lh=({pendingField:e,onCommit:l,onClose:a})=>lv((0,X.Y0)(e,null),l,a,!0);lh.displayName="IssueFieldValueSharedPendingEditor";let lb=({field:e,onChange:l,className:a,readonly:n})=>{let t=(0,eg.useCallback)((a,n)=>{l(e,n)},[l,e]);return e.field.id&&e.field.name?lv(e,t,void 0,!1,a,n):null};lb.displayName="IssueFieldValueSharedEditor";let lF=(e,l,a,n=!1,t)=>(0,M.jsx)(lo.lT,{fieldId:e.field.id,fieldName:e.field.name,initialValue:e.value,onCommit:l,renderAnchor:a,overrideWidth:lf,isNumber:!0,validate:lr.H,shouldOpen:n,onClose:t});lF.displayName="IssueFieldNumberEditor";let lI=(e,l,a,n=!1,t)=>(0,M.jsx)(lo.lT,{fieldId:e.field.id,fieldName:e.field.name,initialValue:e.value,onCommit:l,renderAnchor:a,overrideWidth:lf,shouldOpen:n,onClose:t});lI.displayName="IssueFieldTextEditor";let lS=(e,l,a,n=!1,t)=>{let[i,s]=(0,eg.useState)(n),r=(0,eg.useMemo)(()=>{let l=e.value;return l?new Date(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()):null},[e.value]),o=(0,eg.useCallback)(a=>{let n=null;a&&(n=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),12,0,0,0))),l(e.field.id,n)},[e.field.id,l]);return(0,M.jsx)(ls.DatePicker,{anchor:e=>a(e),showClearButton:!0,showTodayButton:!0,variant:"single",dateFormat:"long",onChange:o,value:r,placeholder:"Set date",open:i,onOpen:()=>{s(!0)},onClose:()=>{s(!1),t?.()},anchoredOverlayProps:{side:"outside-top"}},e.field.id)};lS.displayName="IssueFieldDateEditor";let l_=(e,l,a,n=!1,t)=>{let i=e.value;return(0,M.jsx)(lu.CZ,{fieldId:e.field.id,fieldName:e.field.name||"",selectedOption:i?.name||null,onSelectionChange:a=>{l(e.field.id,a)},anchorElement:e=>a(e),readonly:!1,isLazy:!0,shouldOpen:n,onClose:t,insidePortal:!0},e.field.id)};l_.displayName="IssueFieldSingleSelectEditor";let lv=(e,l,a,n=!1,t,i)=>{let s=l=>(0,M.jsx)(lg,{fieldWithValue:e,buttonProps:l,className:t,readonly:i},e.field.id);switch(e.field.dataType){case"SINGLE_SELECT":return l_(e,l,s,n,a);case"DATE":return lS(e,l,s,n,a);case"TEXT":return lI(e,l,s,n,a);case"NUMBER":return lF(e,l,s,n,a)}};lv.displayName="IssueFieldEditor";let lx=({repo:e,owner:l,canSetAssignees:a,canSetLabels:n,canSetMilestone:t,canSetProjects:i,canSetIssueFields:s,canSetType:r,issueTypesEnabled:o,orgPinnedFields:u})=>{let{optionConfig:d}=(0,ef.a)(),{repository:c,labels:m,setLabels:g,assignees:p,setAssignees:y,projects:k,setProjects:f,milestone:h,setMilestone:b,issueType:F,setIssueType:I,setIssueFields:S}=(0,eh.u)(),_={insidePortal:d.insidePortal},v=(0,Q.G7)("issue_metadata_add_field_button"),{pendingSelectedField:x,setPendingSelectedField:C,pinnedFields:j,unpinnedFields:T,selectedFieldNames:K,onPendingFieldCommit:L,onIssueFieldPickerSelectionChange:N,onIssueFieldValueChanged:P}=function({pinnedFieldsFromType:e,setIssueFieldsWithValues:l,scopedFields:a}){let[n,t]=(0,eg.useState)([]),[i,s]=(0,eg.useState)(null),r=(0,eg.useMemo)(()=>e||[],[e]),o=(0,eg.useCallback)(e=>{t(e);let a=[];for(let l of e)l.value&&a.push(l);l(a)},[l]),u=(0,eg.useCallback)((e,l)=>{if(!i||i.id!==e)return;s(null);let a=(0,Y.HZ)(i.dataType),t=(0,X.vl)(a,l);if("string"==typeof t?!t.trim():!t)return;let r=[...n];i.name&&!r.some(e=>e.field.name===i.name)&&r.push((0,X.Y0)(i,l)),o(r)},[n,i,o]),d=(0,eg.useCallback)(e=>{let l=e[0];l?.id&&l?.name&&l?.dataType&&s({id:l.id,name:l.name,dataType:(0,Y.HZ)(l.dataType)})},[]),c=(0,eg.useCallback)((e,l)=>{r.find(l=>l.id===e.field.id)&&!n.find(l=>l.field.id===e.field.id)?o([...n,(0,X.Y0)(e.field,l)]):o(n.map(a=>a.field.id===e.field.id?(0,X.Y0)(a.field,l):a).filter(e=>null!==e))},[n,r,o]),m=((e,l,a)=>{let n=[];for(let t of l){let l=e.find(e=>e.field.id===t.id);if(l)n.push(l);else{let e=a.find(e=>e.fieldId===t.id);n.push((0,X.IE)(t,e?e.value:null,!!e))}}return n})(n,r,a),g=((e,l,a)=>{let n=a?.map(e=>e.fieldId)||[],t=[...new Set([...e.map(e=>e.field.id).filter(e=>void 0!==e),...n])],i=[];for(let n of t)if(!l.find(e=>e.id===n)){let l=a?.find(e=>e.fieldId===n),t=e.find(e=>e.field.id===n);i.push(t||(0,X.IE)({id:n,name:l.fieldName,dataType:l.fieldType},l.value,!0))}return i})(n,r,a),p=m.map(e=>e.field.name).concat(g.map(e=>e.field.name)).filter(e=>void 0!==e);return{pendingSelectedField:i,setPendingSelectedField:s,pinnedFields:m,unpinnedFields:g,selectedFieldNames:p,onPendingFieldCommit:u,onIssueFieldPickerSelectionChange:d,onIssueFieldValueChanged:c}}({pinnedFieldsFromType:(0,eg.useMemo)(()=>F?(0,Y.IR)(F.pinnedFields?.filter(e=>e?.__typename!=="%other"))??[]:u??[],[F,u]),setIssueFieldsWithValues:S,scopedFields:d.scopedFields||[]}),w=k[0]?.title||"",{sendAnalyticsEvent:A}=(0,en.s)(),E=c&&(a||p.length>0)&&!d.scopedAssignees?{repo:c.name,owner:c.owner.login,readonly:!a,includeAuthorableBots:!1,includeAssignableBots:!0,assignees:p,assigneeTokens:[],anchorElement:(e,l)=>(0,M.jsx)(eQ,{assignees:p,readonly:!a,anchorProps:{...e,id:"assignees-select-menu"},ref:l,..._}),onSelectionChange:y,..._}:null,V=null;return E&&(V=(0,M.jsx)(eY._,{...E})),(0,M.jsx)(eg.Suspense,{fallback:(0,M.jsx)(li,{}),children:(0,M.jsxs)("div",{className:"MetadataFooter-module__MetadataFooterContainer__oZmYS",children:[V,d.scopedAssignees&&(0,M.jsx)(eq,{assignees:d.scopedAssignees,displayHotkey:!1,anchorProps:void 0,readonly:!0}),(n||m.length>0)&&(0,M.jsx)(e8.t,{repo:e,owner:l,readonly:!n,canCreateLabel:n,labels:m,anchorElement:(e,l)=>(0,M.jsx)(e5,{readonly:!n,labels:m,anchorProps:e,ref:l,..._}),onSelectionChange:g,..._}),o&&(r||null!==F)&&!d.scopedIssueType&&(0,M.jsx)(e0.u,{owner:l,repo:e,onSelectionChange:e=>{let l=e?.[0]||null;A("issue_create.update_issue_type","ISSUE_CREATE_UPDATE_ISSUE_TYPE_DIALOG",{issueTypeId:l?.id??""}),I(l)},anchorElement:e=>(0,M.jsx)(eZ,{readonly:!r,activeIssueType:F,anchorProps:e,..._}),readonly:!r,activeIssueType:F??null,width:"medium",..._}),s&&j.map(e=>(0,M.jsx)(lb,{field:e,onChange:P,className:lm,readonly:e.readonly},e.field.id)),(o&&(r||null!==F)||s&&j.length>0)&&(0,M.jsx)("div",{className:lc,"data-testid":"issue-fields-divider"}),d.scopedIssueType&&(0,M.jsx)(e$._,{anchorText:d.scopedIssueType,leadingIcon:ei.IssueOpenedIcon,readonly:!0}),c&&!d.scopedProjectTitle&&(i||k.length>0)&&(0,M.jsx)(ln.t,{fallback:(0,M.jsx)(e$._,{anchorText:"Projects are unavailable",leadingIcon:ei.AlertIcon,readonly:!0}),children:(0,M.jsx)(la.w,{pickerId:"create-issue-projects-picker",readonly:!i,onSave:f,selectedProjects:k,owner:c.owner.login,repo:c.name,anchorElement:e=>(0,M.jsx)(ll.C,{nested:!1,readonly:!i,anchorProps:e,firstSelectedProjectTitle:w,..._}),..._})}),d.scopedProjectTitle&&(0,M.jsx)(e$._,{anchorText:d.scopedProjectTitle,leadingIcon:ei.TableIcon,readonly:!0}),(t||null!==h)&&!d.scopedMilestone&&(0,M.jsx)(le.D,{repo:e,owner:l,readonly:!t,canCreateMilestone:t,activeMilestone:h,anchorElement:(e,l)=>(0,M.jsx)(e9,{nested:!1,readonly:!t,activeMilestone:h,anchorProps:e,ref:l,..._}),onSelectionChange:e=>b(e?.[0]||null),..._}),d.scopedMilestone&&(0,M.jsx)(e$._,{anchorText:d.scopedMilestone,leadingIcon:ei.MilestoneIcon,readonly:!0}),s&&T.map(e=>(0,M.jsx)(lb,{field:e,onChange:P,className:lm,readonly:e.readonly},e.field.id)),x&&(0,M.jsx)(lh,{pendingField:x,onCommit:L,onClose:()=>{C(null)}}),s&&v&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("div",{className:lc}),(0,M.jsx)(eM.iF,{owner:l,title:ek.k.addIssueField,fieldsSet:K,onSelectionChange:N,anchorElement:lk,..._})]})]})})};lx.displayName="MetadataFooter";var lC=a(14347),lj=a(98185),lT=a(93650),lK=a(58583),lL=a(27313),lN=a(92399),lP=a(18990),lw=a(67323),lA=a(95677),lE=a(6009),lV=a(83529),lD=a(73635),lR=a(4763);let lM="RelationshipsSection-module__groupHeading__WoWBT",lO=[],lB=({sectionHeader:e,relationships:l,className:a})=>{let{parent:n,blockedBy:t,blocking:i}=l,s=t&&t.length>0,r=i&&i.length>0,o=n||s||r?void 0:lA.k.emptySections.relationships;return(0,M.jsx)(lD.w,{id:"sidebar-relationships-section",sectionHeader:e,emptyText:o,className:a,children:(0,M.jsxs)(lP.l,{variant:"full",className:"RelationshipsSection-module__actionListOverrides__t71Ki",children:[n&&(0,M.jsxs)(lP.l.Group,{children:[(0,M.jsx)(lP.l.GroupHeading,{as:"h4",className:lM,children:lA.k.relationNames.parentIssue}),(0,M.jsx)(lE.H,{issue:n})]}),s&&(0,M.jsxs)(M.Fragment,{children:[n&&(0,M.jsx)(lP.l.Divider,{}),(0,M.jsxs)(lP.l.Group,{children:[(0,M.jsx)(lP.l.GroupHeading,{as:"h4",className:lM,children:lA.k.relationNames.blockedByIssues}),t.map(e=>(0,M.jsx)(lE.H,{issue:e},e.id))]})]}),r&&(0,M.jsxs)(M.Fragment,{children:[(n||s)&&(0,M.jsx)(lP.l.Divider,{}),(0,M.jsxs)(lP.l.Group,{children:[(0,M.jsx)(lP.l.GroupHeading,{as:"h4",className:lM,children:lA.k.relationNames.blockingIssues}),i.map(e=>(0,M.jsx)(lE.H,{issue:e},e.id))]})]})]})})};function lU({owner:e,repo:l,readonly:a,parentIssue:n,onParentChange:t,blockedByIssues:i=lO,onBlockedByChange:s,blockingIssues:r=lO,onBlockingChange:o,className:u}){let[d,c]=(0,eg.useState)(!1),[m,g]=(0,eg.useState)(null),[p,y]=(0,eg.useState)(null),k=(0,eg.useRef)(null),f=(0,eg.useCallback)(e=>{g(e)},[]),h=(0,eg.useCallback)(e=>{t(e[0]||null),g(null),y(null)},[t]),b=(0,eg.useCallback)(e=>{s(e),g(null),y(null)},[s]),F=(0,eg.useCallback)(e=>{o(e),g(null),y(null)},[o]),I=(0,eg.useCallback)(e=>{"parent"===p?h(e):"blockedBy"===p?b(e):"blocking"===p&&F(e)},[p,h,b,F]),S=(0,eg.useMemo)(()=>"parent"===p?n?[n.id]:[]:"blockedBy"===p?i.map(e=>e.id):"blocking"===p?r.map(e=>e.id):[],[p,n,i,r]),_=(0,eg.useMemo)(()=>"parent"===p?"Select parent issue":"blockedBy"===p?"Mark current issue as blocked by\u2026":"blocking"===p?"Mark current issue as blocking\u2026":void 0,[p]),v=(0,eg.useMemo)(()=>"blockedBy"===p?r.map(e=>e.id):"blocking"===p?i.map(e=>e.id):[],[p,r,i]),x=(0,eg.useCallback)(()=>{c(!1),y("parent"),g("Issue")},[]),C=(0,eg.useCallback)(()=>{c(!1),y("blockedBy"),g("Issue")},[]),j=(0,eg.useCallback)(()=>{c(!1),y("blocking"),g("Issue")},[]),T=(0,eg.useCallback)(()=>{g(null),y(null),c(e=>!e)},[]),K=(0,eg.useCallback)(e=>{let{ref:l}=e;return l&&(l.current=k.current),(0,M.jsx)(M.Fragment,{})},[k]),L=a?(0,M.jsx)(lV.h,{title:lA.k.sectionTitles.relationships}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(ea.ak,{commands:{"issue-create:edit-parent":x,"issue-create:mark-blocked-by":C,"issue-create:mark-blocking":j}}),(0,M.jsx)(lR.X,{ref:k,buttonProps:{onClick:T},readonly:a,title:lA.k.sectionTitles.relationships}),(0,M.jsx)(lN.D,{onPickerTypeChange:f,selectedIssueIds:S,hiddenIssueIds:v,onIssueSelection:I,organization:e,defaultRepositoryNameWithOwner:`${e}/${l}`,pickerType:m,issuePickerProps:{selectionVariant:"parent"===p?"single":"multiple",subtitle:_},anchorElement:K}),(0,M.jsx)(lw.W,{open:d,onOpenChange:c,anchorRef:k,children:(0,M.jsx)(lw.W.Overlay,{width:"medium",children:(0,M.jsx)(lP.l,{children:(0,M.jsxs)(lP.l.Group,{children:[(0,M.jsx)(ea.Vr,{commandId:"issue-create:edit-parent",onSelect:x,children:n?"Change or remove parent":"Add parent"}),(0,M.jsx)(ea.Vr,{commandId:"issue-create:mark-blocked-by",onSelect:C,children:i.length>0?"Add or change blocked by":"Mark as blocked by"}),(0,M.jsx)(ea.Vr,{commandId:"issue-create:mark-blocking",onSelect:j,children:r.length>0?"Add or change blocking":"Mark as blocking"})]})})})})]});return(0,M.jsx)(lB,{sectionHeader:L,relationships:{parent:n,blockedBy:i,blocking:r},className:u})}lB.displayName="RelationshipsSection",lU.displayName="CreateIssueRelationshipsSection";var l$=a(44339);let lH="MetadataSidebar-module__CreateIssueAssigneesSection__gNzDQ",lq=({canSetAssignees:e,canSetLabels:l,canSetMilestone:a,canSetProjects:n,canSetType:t,canSetIssueFields:i,canSetRelationships:s,issueTypesEnabled:r,orgPinnedFields:o,isPinnedFieldsLoading:u})=>{let{optionConfig:d}=(0,ef.a)(),{repository:c,labels:m,setLabels:g,assignees:p,setAssignees:y,projects:k,setProjects:f,milestone:h,setMilestone:b,issueType:F,setIssueType:I,setIssueFields:S,parentIssue:_,setParentIssue:v,blockedByIssues:x,setBlockedByIssues:C,blockingIssues:j,setBlockingIssues:T}=(0,eh.u)(),K={insidePortal:d.insidePortal};return c?(0,M.jsxs)("div",{className:"MetadataSidebar-module__MetadataSidebarContainer__tk5O7",children:[(0,M.jsx)("h2",{className:"sr-only",children:"Metadata"}),c&&(0,M.jsx)(lC.b2,{repo:c.name,owner:c.owner.login,readonly:!e,assignees:p,onSelectionChange:y,className:lH,repository:c,issueNumber:void 0,onIssueUpdate:void 0,...K}),(0,M.jsx)(lT.qn,{repo:c.name,owner:c.owner.login,readonly:!l,labels:m,onSelectionChange:g,...K}),r&&(0,M.jsx)(l$.pf,{owner:c.owner.login,repo:c.name,...K,viewerCanType:t,type:F,onSelectionChange:I}),i&&(0,M.jsx)(lj.u,{owner:c.owner.login,ownerId:c.owner.databaseId,onSelectionChange:S,issueType:F,orgPinnedFields:o,isPinnedFieldsLoading:u,...K}),(0,M.jsx)(lL.PH,{owner:c.owner.login,repo:c.name,projects:k,readonly:!n,onSelectionChange:f,...K}),(0,M.jsx)(lK.C5,{repo:c.name,owner:c.owner.login,milestone:h,onSelectionChange:b,viewerCanSetMilestone:a??!1,className:lH,...K}),(0,Q.G7)("issue_create_relationships")&&(0,M.jsx)(lU,{owner:c.owner.login,repo:c.name,readonly:!s,parentIssue:_,onParentChange:v,blockedByIssues:x,onBlockedByChange:C,blockingIssues:j,onBlockingChange:T})]}):null};lq.displayName="MetadataSidebar";let lW=({orgPinnedFields:e,isPinnedFieldsLoading:l})=>{let{optionConfig:a}=(0,ef.a)(),n=!a.insidePortal,{repository:t}=(0,eh.u)(),i=t?.viewerIssueCreationPermissions?.assignable??!1,s=t?.viewerIssueCreationPermissions?.labelable??!1,r=t?.viewerIssueCreationPermissions?.milestoneable??!1,o=t?.viewerIssueCreationPermissions?.triageable??!1,u=t?.viewerIssueCreationPermissions?.typeable??!1,d=t?.viewerIssueCreationPermissions?.canSetIssueFields??!1,c=t?.viewerIssueCreationPermissions?.triageable??!1,m=t?.owner?.issueTypesEnabled??!1,g={repo:t?.name||"",owner:t?.owner.login||"",canSetAssignees:i,canSetLabels:s,canSetMilestone:r,canSetProjects:o,canSetType:u,canSetIssueFields:d,canSetRelationships:c,issueTypesEnabled:m,orgPinnedFields:e,isPinnedFieldsLoading:l};return n?(0,M.jsx)(lq,{...g}):(0,M.jsx)(lx,{...g})};lW.displayName="MetadataSelectors";let lz=(f={defaultValue:!1,kind:"LocalArgument",name:"fetchParent"},h={defaultValue:null,kind:"LocalArgument",name:"input"},b=[{kind:"Variable",name:"input",variableName:"input"}],F={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},K={alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"parent",plural:!1,selections:[I={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"SubIssuesSummary",kind:"LinkedField",name:"subIssuesSummary",plural:!1,selections:[j={alias:null,args:null,kind:"ScalarField",name:"total",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"completed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"percentCompleted",storageKey:null}],storageKey:null}],storageKey:null},{fragment:{argumentDefinitions:[f,h],kind:"Fragment",metadata:null,name:"createIssueMutation",selections:[{alias:null,args:b,concreteType:"CreateIssuePayload",kind:"LinkedField",name:"createIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[F,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[F,I,S,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[_],storageKey:null}],storageKey:null},v,x,I,C,{condition:"fetchParent",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"SubIssuesListItem"},K]}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"errors",plural:!0,selections:[L={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[h,f],kind:"Operation",name:"createIssueMutation",selections:[{alias:null,args:b,concreteType:"CreateIssuePayload",kind:"LinkedField",name:"createIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[F,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[F,I,S,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[N={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},_,I],storageKey:null}],storageKey:null},v,x,I,C,{condition:"fetchParent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stateReason",storageKey:null},{alias:null,args:null,concreteType:"IssueDependenciesSummary",kind:"LinkedField",name:"issueDependenciesSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedBy",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:[P={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[I,_,{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"assignees(first:10)"},{alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[I,S,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SubIssuesSummary",kind:"LinkedField",name:"subIssuesSummary",plural:!1,selections:[j,T],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:0},{kind:"Literal",name:"includeClosedPrs",value:!0}],concreteType:"PullRequestConnection",kind:"LinkedField",name:"closedByPullRequestsReferences",plural:!1,selections:[P],storageKey:"closedByPullRequestsReferences(first:0,includeClosedPrs:true)"},K]}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"errors",plural:!0,selections:[N,L],storageKey:null}],storageKey:null}]},params:{id:"f06cbfa3acc3dd5ed6724c55e1fd64a2",metadata:{},name:"createIssueMutation",operationKind:"mutation",text:null}});lz.hash="a0fc1d6cb2e696257826bd50783fb175";var lG=a(71627),lQ=a(78167);function lY(e,l){if(!l)return null;let a=l.getLinkedRecord("subIssues",{first:100});return a||null}var lJ=a(46251),lX=a(4925),lZ=a(83223),l0=a(34256),l1=a(63291),l2=a(35148);let l4="SimilarIssues-module__emptyState__lOtos",l3="SimilarIssues-module__submittedFeedbackButton__XKK6s",l6={fragment:{argumentDefinitions:w=[{defaultValue:null,kind:"LocalArgument",name:"issueId"}],kind:"Fragment",metadata:null,name:"similarIssueSubscription",selections:E=[{alias:null,args:[{kind:"Variable",name:"id",variableName:"issueId"}],concreteType:"IssueUpdatedPayload",kind:"LinkedField",name:"issueUpdated",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issueTitleUpdated",plural:!1,selections:[A={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issueStateUpdated",plural:!1,selections:[A,{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stateReason",storageKey:null}],storageKey:null}],storageKey:null}],type:"EventSubscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:w,kind:"Operation",name:"similarIssueSubscription",selections:E},params:{id:"ce208cd8cf060b3df4cb37683438e939",metadata:{},name:"similarIssueSubscription",operationKind:"subscription",text:null}};l6.hash="d9c4976b73150160ed339373d542ef46";var l5=a(9552);let l7={RAW:"raw",PERCENTAGE:"percentage",LEVEL:"level"},l8=Object.values(l7),l9=l7.RAW,ae={High:"success",Medium:"attention",Low:"secondary"};function al(e){return Math.round(100*(1-Math.exp(-e/6)))}function aa(e){return e>=80?"High":e>=60?"Medium":"Low"}let an={[l7.RAW]:"Raw score",[l7.PERCENTAGE]:"Percentage",[l7.LEVEL]:"Low/Medium/High"},at=({state:e,stateReason:l})=>{let{sourceIcon:a}=(0,l1.e)({state:e,stateReason:l}),n=a("Issue");return(0,M.jsx)(n,{})};function ai({nodeId:e,onIssueUpdate:l}){return((e,{onUpdate:l})=>{let a=(0,eg.useMemo)(()=>({variables:{issueId:e},subscription:l6,updater:(a,n)=>{if(!n?.issueUpdated)return;let{issueTitleUpdated:t,issueStateUpdated:i}=n.issueUpdated;(t||i)&&l({nodeId:e,title:t?.title,state:function(e){if(e&&e in l5.DJ)return e}(i?.state),stateReason:function(e){if(null==e||e in l5.DD)return e}(i?.stateReason)})}}),[e,l]);(0,ep.useSubscription)(a)})(e,{onUpdate:l}),null}function as({nodeId:e,onIssueUpdate:l}){return l?(0,M.jsx)(ai,{nodeId:e,onIssueUpdate:l}):null}function ar({issue:e,repoOwner:l,repoName:a,onIssueClick:n,onIssueUpdate:t,onIssueClickTracking:i,scoreDisplayMode:s}){let r=(0,eH.yY)();return(0,M.jsxs)("li",{className:"SimilarIssues-module__item__PcCtk",children:[(0,M.jsx)(as,{nodeId:e.nodeId,onIssueUpdate:t}),(0,M.jsx)(at,{state:e.state,stateReason:e.stateReason}),(0,M.jsxs)(lZ.A,{href:(0,l2.dRG)({owner:l,repo:a,issueNumber:e.number}),...r("issue",{owner:l,repo:a,issueNumber:e.number}),target:n?void 0:"_blank",className:"SimilarIssues-module__issueLink__n972J",onClick:l=>{i?.(),!n||1===l.button||l.shiftKey||l.ctrlKey||l.metaKey||(l.preventDefault(),n(e))},children:[e.title," ",(0,M.jsxs)("span",{className:"SimilarIssues-module__number__UZZ2X",children:["#",e.number]})]}),s&&null!=e.score&&(0,M.jsx)(lX.A,{size:"small",variant:ae[aa(al(e.score))],className:"SimilarIssues-module__scoreLabel__lx5_H",children:function(e,l){switch(l){case l7.RAW:return e.toFixed(1);case l7.PERCENTAGE:{let l=al(e);return`${l}%`}case l7.LEVEL:return aa(al(e))}}(e.score,s)})]})}at.displayName="IssueIcon",ai.displayName="SimilarIssueSubscriptionInner",as.displayName="SimilarIssueSubscription",ar.displayName="SimilarIssueItem";var ao=a(44640);function au({items:e,repoOwner:l,repoName:a,sessionId:n,lastSubmittedFeedback:t,setLastSubmittedFeedback:i}){let s=(0,eg.useMemo)(()=>new Set(e.map(e=>e.id)),[e]),r=(0,eg.useMemo)(()=>!!t&&!function(e,l){if(e.size!==l.size)return!1;for(let a of e)if(!l.has(a))return!1;return!0}(t.itemIds,s),[t,s]),o=t&&(!r||"positive"===t.rating),u=t&&(!r||"negative"===t.rating),d=(0,eg.useCallback)(t=>{"positive"===t&&o||"negative"===t&&u||(i({rating:t,itemIds:new Set(e.map(e=>e.id))}),(0,eF.lS)(`/${l}/${a}/issues/semantically_similar/feedback`,{method:"POST",body:{rating:t,session_id:n}}).catch(()=>{}))},[l,a,e,o,u,n,i]);return 0===e.length?null:(0,M.jsx)("div",{className:"SimilarIssues-module__feedbackRow__R5Tj6",children:(0,M.jsxs)(lJ.B,{direction:"horizontal",gap:"condensed",children:[(0,M.jsx)(ao.m,{text:t?"positive"===t.rating?"Positive feedback submitted":r?"Switch to positive feedback":"Vote locked until results change":"Positive feedback",direction:"s",children:(0,M.jsx)(ld.K,{"aria-label":"Positive feedback",icon:ei.ThumbsupIcon,variant:"invisible",size:"small",onClick:()=>d("positive"),"aria-disabled":o||void 0,className:t?.rating==="positive"?l3:void 0})}),(0,M.jsx)(ao.m,{text:t?"negative"===t.rating?"Negative feedback submitted":r?"Switch to negative feedback":"Vote locked until results change":"Negative feedback",direction:"s",children:(0,M.jsx)(ld.K,{"aria-label":"Negative feedback",icon:ei.ThumbsdownIcon,variant:"invisible",size:"small",onClick:()=>d("negative"),"aria-disabled":u||void 0,className:t?.rating==="negative"?l3:void 0})})]})})}function ad({items:e,isLoading:l,isError:a,isExpanded:n,onExpandedChange:t,repoOwner:i,repoName:s,onIssueClick:r,onIssueUpdate:o,sessionId:u,onIssueClickTracking:d}){let[c,m]=(0,eg.useState)(l9),[g,p]=(0,eg.useState)(null),y=(0,Q.G7)("semantic_similarity_duplicate_issue_detection_score")&&e.some(e=>null!=e.score),k=(0,eg.useCallback)(()=>{t?.(!n)},[n,t]);return(0,M.jsx)("div",{className:"SimilarIssues-module__wrapper__JGhzE",children:(0,M.jsxs)("section",{className:"SimilarIssues-module__container__bpxN8","aria-labelledby":"similar-issues-heading",children:[(0,M.jsxs)(lJ.B,{direction:"horizontal",align:"center",justify:"space-between",children:[(0,M.jsxs)(lJ.B,{direction:"horizontal",align:"center",gap:"condensed",children:[(0,M.jsx)(ld.K,{"aria-label":n?"Collapse similar issues":"Expand similar issues","aria-expanded":n,"aria-controls":"similar-issues-content",icon:ei.ChevronDownIcon,variant:"invisible",size:"small",onClick:k,className:(0,em.$)("SimilarIssues-module__chevronButton__U0iqn",n&&"SimilarIssues-module__chevronExpanded__NiVvr")}),(0,M.jsxs)("h3",{id:"similar-issues-heading",className:"SimilarIssues-module__heading__Po3BL",children:["Similar issues",(0,M.jsxs)("span",{className:(0,em.$)("SimilarIssues-module__count__t7i13",!n&&"SimilarIssues-module__countHidden__GBkEC"),children:["(",e.length,")"]})]}),n&&l&&(0,M.jsx)(eI.A,{size:"small",srText:"Searching for similar issues"})]}),(0,M.jsxs)(lJ.B,{direction:"horizontal",align:"center",gap:"condensed",children:[(0,M.jsx)(lX.A,{size:"small",variant:"secondary",children:"Experimental"}),(0,M.jsx)("span",{"aria-hidden":"true",children:"\xb7"}),(0,M.jsx)(lZ.A,{"aria-label":"Give feedback (opens new tab)",href:"https://gh.io/duplicate-issue-feedback",target:"_blank",className:"SimilarIssues-module__feedbackLink__FNgXh",children:"Give feedback"}),n&&y&&(0,M.jsxs)(lw.W,{children:[(0,M.jsx)(lw.W.Anchor,{children:(0,M.jsx)(ld.K,{"aria-label":"Score display settings",icon:ei.GearIcon,variant:"invisible",size:"small",className:"SimilarIssues-module__settingsButton__Th6sI"})}),(0,M.jsx)(lw.W.Overlay,{width:"auto",children:(0,M.jsxs)(lP.l,{selectionVariant:"single",children:[(0,M.jsx)(lP.l.GroupHeading,{children:"Score display"}),l8.map(e=>(0,M.jsx)(lP.l.Item,{selected:c===e,onSelect:()=>m(e),children:an[e]},e))]})})]})]})]}),n&&(0,M.jsxs)("div",{id:"similar-issues-content",className:"SimilarIssues-module__content__zRRDM",children:[a&&(0,M.jsx)(l0.v,{className:l4,size:"small",variant:"unavailable",children:"Unable to load similar issues."}),!a&&0===e.length&&(0,M.jsx)("p",{className:l4,children:"No similar issues found."}),e.length>0&&(0,M.jsx)("ul",{className:"SimilarIssues-module__list__wfRCk",children:e.map((e,l)=>(0,M.jsx)(ar,{issue:e,repoOwner:i,repoName:s,onIssueClick:r,onIssueUpdate:o,onIssueClickTracking:d?()=>d(l+1):void 0,scoreDisplayMode:y?c:void 0},e.id))}),(0,M.jsx)(au,{items:e,repoOwner:i,repoName:s,sessionId:u,lastSubmittedFeedback:g,setLastSubmittedFeedback:p})]})]})})}au.displayName="SimilarIssuesFeedback",ad.displayName="SimilarIssues";var ac=a(21373);let am=({reasonHTML:e,issuesUrl:l})=>(0,M.jsxs)("div",{className:"UserRestrictedView-module__userRestrictedContainer__N0flr",children:[e&&(0,M.jsx)(er.l,{"aria-label":"Warning",variant:"warning",hideTitle:!0,title:"Action restricted",children:(0,M.jsx)(er.l.Description,{children:(0,M.jsx)(e1.JR,{html:e})})}),l&&(0,M.jsx)(ac.Q,{as:"a",href:l,className:"UserRestrictedView-module__backToAllIssuesButton__jRXow",children:ek.k.backToAllIssues})]});am.displayName="UserRestrictedView";var ag=a(69915),ap=a(75608),ay=a(46135);let ak={fragment:{argumentDefinitions:V=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"createIssueAddBlockedByMutation",selections:R=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"AddBlockedByPayload",kind:"LinkedField",name:"addBlockedBy",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:D=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"blockingIssue",plural:!1,selections:D,storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:V,kind:"Operation",name:"createIssueAddBlockedByMutation",selections:R},params:{id:"e0daa3cc39578a0c6d16892c620ba652",metadata:{},name:"createIssueAddBlockedByMutation",operationKind:"mutation",text:null}};async function af(e,l,a){let n=(await Promise.allSettled(l.map(({issueId:l,blockingIssueId:a})=>new Promise(n=>{!function({environment:e,input:l,onError:a,onCompleted:n}){(0,ep.commitMutation)(e,{mutation:ak,variables:{input:l},onError:e=>a&&a(e),onCompleted:e=>n&&n(e)})}({environment:e,input:{issueId:l,blockingIssueId:a},onError:e=>{n({success:!1,issueId:a,error:e.message})},onCompleted:e=>{n({success:null!==e.addBlockedBy,issueId:a})}})})))).filter(e=>"fulfilled"===e.status&&!e.value.success).length;n>0&&setTimeout(()=>{throw Error(`Failed to add ${n} of ${l.length} ${a} relationship(s)`)})}async function ah(e,l,a,n){let t=[];a.length>0&&t.push(af(e,a.map(e=>({issueId:l,blockingIssueId:e})),"blocked-by")),n.length>0&&t.push(af(e,n.map(e=>({issueId:e,blockingIssueId:l})),"blocking")),await Promise.all(t)}ak.hash="bddab089b466747a365e4f8c57ef56f1";var ab=a(6563);let aF=[],aI=({repository:e,title:l,setTitle:a,body:n,setBody:t,clearOnCreate:i,onCreateSuccess:s,onCreateError:r,selectedTemplate:o,footer:u,issueFormRef:d,onBeforeCreate:c,defaultValuesById:m,showSimilarIssues:g=!0,showUserRestrictedView:p=!1,onFieldChange:y,onSimilarIssueClick:k})=>{let{optionConfig:f,createMore:h,createMoreCreatedPath:b,setCreateMoreCreatedPath:F,isSubmitting:I,setIsSubmitting:S,onCreateAction:_,setIsFileUploading:v,displayMode:x,isCreatingSubIssueFromProject:C}=(0,ef.a)(),j=!f.insidePortal,T=(0,eg.useRef)(null),K=(0,eg.useRef)(void 0),[L,N]=(0,eg.useState)(),[P,w]=(0,eg.useState)(void 0),[A,E]=(0,eg.useState)(void 0),[V,D]=(0,eg.useState)(null),R=function({repoId:e}){let l=(0,ep.useRelayEnvironment)(),[a,n]=(0,eg.useState)(null);return(0,eg.useEffect)(()=>{(0,eN.SD)({environment:l,query:eL,variables:{id:e}}).subscribe({next:e=>{let l=(0,Y.IR)(e.node?.owner?.pinnedIssueFields?.nodes?.filter(e=>e?.__typename!=="%other"));n({securityPolicyUrl:e.node?.securityPolicyUrl??null,contributingFileUrl:e.node?.contributingFileUrl??null,codeOfConductFileUrl:e.node?.codeOfConductFileUrl??null,supportFileUrl:e.node?.supportFileUrl??null,orgPinnedFields:l})}})},[l,e]),a}({repoId:e.id}),eb=(0,eg.useRef)(null),eI=(0,ep.useRelayEnvironment)(),{sendAnalyticsEvent:eS}=(0,en.s)(),{addToast:e_}=(0,el.Y6)(),{labels:ex,assignees:eC,replaceAssignees:ej,projects:eT,milestone:eM,issueType:eO,issueFields:eB,parentIssueId:eU,blockedByIssueIds:e$,blockingIssueIds:eH,usedStorageKeyPrefix:eq,isCopilotAssignmentDialogOpen:eW,setIsCopilotAssignmentDialogOpen:ez,copilotAssignmentAttributes:eG,setCopilotAssignmentAttributes:eQ}=(0,eh.u)(),eY=(0,ew.E)({additionalConditions:[!o||!(0,ap.GQ)(o.data)],repositoryVisibility:e.visibility,userCanPushToRepo:e.viewerCanPush}),eJ=(e=>{let{sendAnalyticsEvent:l}=(0,en.s)(),a=(0,Q.G7)("issues_create_semantic_similarity_analytics");return(0,eP.d)(async(n,t)=>{a&&(n.trim().length>=10||t.trim().length>=25)&&l("analytics.issue.content_update","SEMANTIC_SIMILAR_ISSUE_ANALYTICS",{repoNWO:`${e.owner.login}/${e.name}`,titleLength:n.length,bodyLength:t.length})},800,{onChangeBehavior:"cancel"})})(e);(0,eg.useEffect)(()=>{eY&&eS("analytics.view","ISSUE_CREATE_NEW_ISSUE_WITH_COPILOT_BUTTON_VIEW",{repoNWO:`${e.owner.login}/${e.name}`})},[e.name,e.owner.login,eS,eY]);let eX=(0,eg.useRef)(!1);(0,eg.useEffect)(()=>{eG&&eX.current&&(eX.current=!1,_.current?.onCreate(!1,!1))},[eG]),(0,eg.useEffect)(()=>{eW||eG||(eX.current=!1)},[eW,eG]);let eZ=(0,M.jsx)(am,{reasonHTML:e.viewerInteractionLimitReasonHTML,issuesUrl:`/${e.owner.login}/${e.name}/issues`}),e0=e.viewerIssueCreationPermissions.typeable,e1=e.viewerIssueCreationPermissions.canSetIssueFields,e2=e=>{let l=e.map(e=>e?.message).filter(Boolean).join(", ");return(l?l.charAt(0).toUpperCase()+l.slice(1):null)??ey.S.createIssueError},e4=m||(0,ab.Zi)();(0,eg.useEffect)(()=>{V&&V.length>0&&eb?.current&&eb.current.focus()},[eb,V]);let[e3,e6]=(0,eg.useState)(""),e5=g&&(0,Q.G7)("semantic_similarity_duplicate_issue_detection"),e7=o&&(0,ap.GQ)(o.data),e8=e7?e3:n,{items:e9,isFetching:le,setIsExpanded:ll,isError:la,isExpanded:ln,updateIssue:lt,resetForNewSession:li,sessionId:ls,sessionResetKey:lr,trackIssueClicked:lo,trackIssueCreated:lu}=function({repoOwner:e,repoName:l,title:a,body:n,isSimilarIssuesEnabled:t,context:i}){let s=(0,eE.jE)(),[r,o]=(0,eg.useState)(!1),u=(0,eg.useRef)(null),[d,c]=(0,eg.useState)(a.trim()),[m,g]=(0,eg.useState)(n.trim()),[p,y]=(0,eg.useState)(void 0),[k,f]=(0,eg.useState)(0);(0,eg.useEffect)(()=>{t&&(p||y(crypto.randomUUID()))},[]);let h=(0,eg.useRef)({...eR}),{sendRequestMade:b,sendSectionShown:F,sendSectionExpanded:I,sendResultsShown:S,sendIssueClicked:_,sendIssueCreated:v}=function(e,l){let{sendAnalyticsEvent:a}=(0,en.s)(),n=(0,eg.useCallback)((n,t,i)=>{t&&a(n,"SIMILAR_ISSUES_ISSUE_CREATION",{issueCreateSessionId:t,issueCreateContext:e,repoNWO:l,...i})},[a,e,l]),t=(0,eg.useCallback)((e,l,a)=>n("issue_create.similar_issues.semantic_search_request_made",e,{titleLength:l.length,bodyLength:a.length}),[n]),i=(0,eg.useCallback)(e=>n("issue_create.similar_issues.section_shown",e),[n]),s=(0,eg.useCallback)(e=>n("issue_create.similar_issues.section_expanded",e),[n]),r=(0,eg.useCallback)(e=>n("issue_create.similar_issues.results_shown",e),[n]);return{sendSectionShown:i,sendSectionExpanded:s,sendResultsShown:r,sendIssueClicked:(0,eg.useCallback)((e,l)=>n("issue_create.similar_issues.issue_clicked",e,{position:l}),[n]),sendIssueCreated:(0,eg.useCallback)((e,l)=>n("issue_create.similar_issues.issue_created",e,{hadNonEmptyResults:l.hadResults,wasSectionExpanded:l.wasSectionExpanded,wasIssueClicked:l.wasIssueClicked,issueClickCount:l.issueClickCount}),[n]),sendRequestMade:t}}(i,`${e}/${l}`),x=(0,eP.d)(e=>c(e.trim()),1500),C=(0,eP.d)(e=>g(e.trim()),1500);(0,eg.useEffect)(()=>{t&&p&&(h.current.hasSentSectionShown||(h.current.hasSentSectionShown=!0,F(p)))},[t,F,p]);let j=(0,eg.useCallback)(e=>{t&&p&&(e&&(h.current.hasSentSectionExpanded||(h.current.hasSentSectionExpanded=!0,I(p)),c(a.trim()),g(n.trim())),o(e))},[t,a,n,I,p]);(0,eg.useEffect)(()=>{t&&r&&x(a.trim())},[t,a,r,x]),(0,eg.useEffect)(()=>{t&&r&&C(n.trim())},[t,n,r,C]);let T=d.length+m.length>=20,K=(0,eg.useMemo)(()=>["similar-issues",e,l,d,m,i],[e,l,d,m,i]),{data:L,isFetching:N,isError:P}=(0,eV.I)({queryKey:K,queryFn:async({signal:a})=>{let n=await (0,eF.lS)(`/${e}/${l}/issues/semantically_similar`,{method:"POST",body:{search:{title:d,body:m,page:1,per_page:5,context:i}},signal:a});if(p&&b(p,d,m),!n.ok)throw Error(`Failed to fetch similar issues: ${n.status}`);return((await n.json()).similar_issues??[]).map(e=>({id:String(e.issue.id),nodeId:e.issue.node_id,number:e.issue.number,title:e.issue.title,state:e.issue.state.toUpperCase(),stateReason:e.issue.state_reason?.toUpperCase(),score:e.score}))},enabled:t&&r&&T,placeholderData:eD.rX,staleTime:6e4}),w=T?L??[]:[],A=(0,eg.useCallback)(e=>{s.setQueryData(K,l=>l?l.map(l=>l.nodeId!==e.nodeId?l:{...l,...void 0!==e.title&&{title:e.title},...void 0!==e.state&&{state:e.state},...void 0!==e.stateReason&&{stateReason:e.stateReason}}):l)},[s,K]);(0,eg.useEffect)(()=>{if(t&&p&&!N&&u.current!==w.length){u.current=w.length,w.length>0&&(h.current.hadResults=!0,h.current.hasSentResultsShown||(h.current.hasSentResultsShown=!0,S(p)));let e=w.length;0===e?(0,eA.i)("No similar issues found"):1===e?(0,eA.i)("1 similar issue found"):(0,eA.i)(`${e} similar issues found`)}},[t,w.length,N,S,p]);let E=(0,eg.useCallback)(e=>{p&&(h.current.wasIssueClicked=!0,h.current.issueClickCount+=1,_(p,e))},[_,p]),V=(0,eg.useCallback)(()=>{if(!p)return;let e=h.current;v(p,{hadResults:e.hadResults,wasSectionExpanded:e.hasSentSectionExpanded,wasIssueClicked:e.wasIssueClicked,issueClickCount:e.issueClickCount})},[v,p]);return{items:w,isFetching:N,isError:P,isExpanded:r,setIsExpanded:j,updateIssue:A,resetForNewSession:(0,eg.useCallback)(()=>{u.current=null,o(!1),c(""),g(""),h.current={...eR},y(crypto.randomUUID()),f(e=>e+1)},[]),sessionId:p,sessionResetKey:k,trackIssueClicked:E,trackIssueCreated:V}}({repoOwner:e.owner.login,repoName:e.name,title:l,body:e8,isSimilarIssuesEnabled:e5,context:(0,ay.ob)(f)}),ld=(0,eg.useCallback)((e,l,a)=>{ln&&d.current&&e6(d.current.markdown()??""),y?.(e,l,a)},[ln,d,y]);(0,eg.useImperativeHandle)(_,()=>({onCreate:async(a,t)=>{let u,m;if(a)return;let g=(0,z.O_)(l);w(g.errorMessage),!g.isValid&&T.current&&(u=T.current);let p=o&&(0,ap.GQ)(o.data),y=n;if(p&&d.current){let e=d.current.getInvalidInputs();e.length>0?u=u||e[0]:y=d.current.markdown()??""}if(u||void 0!==P||0===(l??"").trim().length||void 0===e||void 0!==A)return void u?.focus();if(D(null),S(!0),eC.some(e=>(0,B.v)(e.login))&&!eG){eX.current=!0,ez(!0),S(!1);return}c&&(y=await c(y)),o&&(o.kind===ap.t7.IssueTemplate||o.kind===ap.t7.IssueForm)&&(m=o.name);let k={repositoryId:e.id,title:l?l.trim():"",body:y,labelIds:ex.length>0?ex.map(e=>e.id):void 0,assigneeIds:eC.length>0?eC.map(e=>e.id):void 0,milestoneId:eM?.id,issueTypeId:e0||m?eO?.id:null,issueFields:e1?eB.map(e=>{if(void 0===e.field.dataType||void 0===e.field.id)return null;let l=(0,X.vl)((0,Y.HZ)(e.field.dataType),e.value);return{fieldId:e.field.id,...(0,Y.Ft)((0,Y.HZ)(e.field.dataType),l)}}).filter(e=>!!e):null,issueTemplate:m,isDuplicated:x===ag.q.IssueDuplication,parentIssueId:eU,clientMutationId:K.current??(K.current=crypto.randomUUID()),copilotAssignment:eG??void 0},f=!C&&!!eU&&!t;!function({environment:e,input:l,onError:a,onCompleted:n}){(0,ep.commitMutation)(e,{mutation:lz,variables:{input:l,fetchParent:!!l.parentIssueId},optimisticUpdater:e=>(function(e,l){if(!l.parentIssueId)return;let a=e.get(l.parentIssueId);if(!a)return;let n=lY(e,a);if(!n)return;let t=function(e,l,a){let n=`${lQ.xv}${Date.now()}`,t=e.create(n,"Issue");t.setValue(n,"id"),t.setValue(l.title,"title"),t.setValue(l.title.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),"titleHTML"),t.setValue("OPEN","state"),t.setValue(null,"stateReason");let i=function(e,l,a){let n=`${l}-assignees`,t=e.create(n,"UserConnection"),i=[];if(a&&a.length>0)for(let n of a){let a=e.get(n);if(a){let t=`${l}-assignee-edge-${n}`,s=e.create(t,"UserEdge");s.setLinkedRecord(a,"node"),i.push(s)}}return t.setValue(i.length,"totalCount"),t.setLinkedRecords(i,"edges"),t}(e,n,l.assigneeIds);t.setLinkedRecord(i,"assignees",{first:10});let s=e.get(l.repositoryId);if(s)t.setLinkedRecord(s,"repository");else{let e=a.getLinkedRecord("repository");e&&t.setLinkedRecord(e,"repository")}t.setValue("","url");let r=`${n}-deps`,o=e.create(r,"IssueDependenciesSummary");o.setValue(0,"blockedBy"),t.setLinkedRecord(o,"issueDependenciesSummary");let u=`${n}-subIssuesSummary`,d=e.create(u,"SubIssuesSummary");return d.setValue(0,"total"),t.setLinkedRecord(d,"subIssuesSummary"),t}(e,l,a),i=n.getLinkedRecords("nodes")||[];n.setLinkedRecords([...i,t],"nodes");let s=n.getValue("totalCount");"number"==typeof s?n.setValue(s+1,"totalCount"):n.setValue(1,"totalCount"),function(e,l,a){let n=l.getLinkedRecord("subIssuesSummary");if(!n){let t=`${a}-subIssuesSummary`;n=e.create(t,"SubIssuesSummary");let i={total:0,completed:0,percentCompleted:0};for(let e in i)n.setValue(i[e],e);l.setLinkedRecord(n,"subIssuesSummary")}let t=n.getValue("total");"number"==typeof t?n.setValue(t+1,"total"):n.setValue(1,"total")}(e,a,l.parentIssueId)})(e,l),updater:e=>(function(e,l){if(!l.parentIssueId)return;let a=e.getRootField("createIssue");if(!a)return;let n=a.getLinkedRecord("issue");if(!n)return;let t=e.get(l.parentIssueId);if(!t)return;let i=lY(e,t);if(!i)return;let s=i.getLinkedRecords("nodes")||[],r=n.getValue("id");if(!s.some(e=>e?.getValue("id")===r)){i.setLinkedRecords([...s,n],"nodes");let e=i.getValue("totalCount");"number"==typeof e?i.setValue(e+1,"totalCount"):i.setValue(s.length+1,"totalCount")}})(e,l),onError:e=>a&&a(e),onCompleted:e=>{n?.(e),(0,lG.f)()}})}({environment:eI,input:k,onError:e=>{(0,G.N7)(aS(e.message)),r(e),S(!1);let l=ey.S.createIssueError;e.cause&&Array.isArray(e.cause)&&e.cause.length>0&&(l=e2(e.cause)),f?e_({type:"error",message:l}):D(l)},onCompleted:e=>{if(S(!1),!e.createIssue?.issue){e.createIssue?.errors.map(e=>(0,G.N7)(aS(e.message)));let l=ey.S.createIssueError;e.createIssue?.errors&&e.createIssue?.errors.length>0&&(l=e2(e.createIssue.errors)),f?e_({type:"error",message:l}):D(l);return}let l=e.createIssue.issue;eS("analytics.click","ISSUE_CREATE_NEW_ISSUE_BUTTON",{issueId:l.id,issueNumber:l.number,issueNWO:`${l.repository.owner.login}/${l.repository.name}`}),e5&&lu(),eT.length>0&&function(e,l,a){for(let n of l)(0,Z.Z)({environment:a,issueId:e,projectId:n.id})}(l.id,eT,eI),(e$.length>0||eH.length>0)&&ah(eI,l.id,e$,eH),K.current=crypto.randomUUID(),t?(N("edit"),F({...b,number:l.number}),e5&&li()):i(),f||s({issue:l,createMore:t})}}),f&&(i(),s({issue:{id:K.current??"",number:0,repository:{name:e.name,owner:{login:e.owner.login},databaseId:void 0,id:""},databaseId:void 0,title:"",url:""," $fragmentSpreads":{}},createMore:!1}))}}),[l,o,n,d,P,e,A,S,c,ex,eC,eM?.id,e0,eO?.id,e1,eB,x,eU,e$,eH,eG,ez,eI,r,eS,eT,s,F,b,i,e_,C,e5,li,lu]);let lc=e=>{(0,z.O_)(e).isValid&&w(void 0),a(e),eJ(e,n)},lm=e=>{E((0,z.QK)(e).errorMessage),t(e),eJ(l,e)},lg=(0,eg.useMemo)(()=>{if(e)return{type:"issue",repository:{databaseId:e.databaseId,nwo:`${e.owner.login}/${e.name}`,slashCommandsEnabled:e.slashCommandsEnabled}}},[e]),lp=(0,eg.useId)(),ly=[],lk=(0,et.Z)(),lf=(0,eg.useRef)(null),lh=(0,eg.useRef)(null),lb=(0,eg.useRef)(null),[lF,lI]=(0,eg.useState)(!1),[lS,l_]=(0,eg.useState)(!1),lv=(0,Q.G7)("create_issue_description_with_copilot"),lx=lv&&eY,{isPanelOpen:lC,isGenerating:lj,shouldShowCopilot:lT,togglePanel:lK,handleInputFocus:lL,commands:lN,panelProps:lP,containerStyle:lw}=(0,W.F)({editorRef:lb,body:n,onChange:(e,l)=>{lm(e),void 0!==l&&lc(l)},shouldShowCopilotFunctionality:eY,repoOwner:e.owner.login,repoName:e.name,title:l,generateTitle:!0,commandId:"issue-create:open-copilot-panel",canToggle:"preview"!==L});(0,eg.useEffect)(()=>{let e=document.getElementById("assignees-select-menu");e&&(lh.current=e)},[]);let lA=()=>{eS("analytics.click","ISSUE_CREATE_NEW_ISSUE_WITH_COPILOT_BUTTON",{repoNWO:`${e.owner.login}/${e.name}`});let l=new URLSearchParams({prompt:`Create an issue in ${e.nameWithOwner} to `});lk(`${H.Jz}?${l.toString()}`)};eY&&!lT&&ly.push((0,M.jsx)(ee.n.FooterButton,{ref:lf,variant:"invisible",leadingVisual:lx?ei.CopilotIcon:ei.ArrowUpRightIcon,size:"small",className:"CreateIssueForm-module__footerButton__e3BHj",onClick:()=>{lT?lK():lv?l_(!0):n.length||l.length?lI(!0):lA()},children:ek.k.copilotCTAButton},"create-issue-with-copilot"));let lE=()=>{ez(!1)},lV=p?eZ:(0,M.jsxs)(M.Fragment,{children:[lF&&(0,M.jsx)(es.l,{title:ek.k.copilotCTADialogTitle,onClose:()=>lI(!1),footerButtons:[{buttonType:"default",content:ek.k.copilotCTADialogCancelButton,onClick:()=>lI(!1)},{buttonType:"primary",content:ek.k.copilotCTADialogContinueButton,onClick:lA}],returnFocusRef:lf,children:ek.k.copilotCTADialogDescription}),!lT&&lv&&(0,M.jsx)(ev,{isOpen:lS,onClose:()=>l_(!1),onGenerate:(e,l)=>{a(e),t(l),l_(!1)},repoOwner:e.owner.login,repoName:e.name,title:l,body:n,returnFocusRef:lf}),V&&(0,M.jsx)(er.l,{ref:eb,title:"Error",description:(0,M.jsx)(ed.o,{children:V}),variant:"critical",className:"CreateIssueForm-module__errorBanner__mz4wM",role:"alert"}),(0,M.jsx)(O.B,{isOpen:eW,onClose:lE,onSubmit:(e,l,a,n,t)=>{if(eQ({targetRepositoryId:e,baseRef:l,customInstructions:a,customAgent:n?.subAgentSlug,model:t}),n?.displayName&&n?.login&&n?.botGlobalRelayId&&!(0,B.v)(n.login)){let e={id:n.botGlobalRelayId??"",login:n.login,name:n.displayName,avatarUrl:n.avatarUrl??"",__typename:"Bot",isCopilot:!1,isAgent:!0,displayName:n.displayName};ej(eC.map(l=>(0,B.v)(l.login)?e:l))}lE()},repository:{name:e.name,owner:{login:e.owner.login}},returnFocusRef:lh}),(0,M.jsx)(eK,{title:l,titleInputRef:T,handleTitleChange:e=>{lc(e.currentTarget.value)},titleValidationResult:P}),lg&&!e7&&(0,M.jsx)(ea.tL,{commands:lN,children:(0,M.jsxs)("div",{className:"CreateIssueForm-module__commentBox__aBlQ1",style:lw,children:[(0,M.jsx)(U.hF,{ref:lb,subject:lg,label:ek.k.issueCreateBodyLabel,showLabel:!0,placeholder:ek.k.issueBodyPlaceholder,viewMode:L,onChangeViewMode:N,value:n,onSave:()=>_?.current?.onCreate(I,h),onChange:e=>{lm(e)},saveButtonTrailingIcon:!1,minHeightLines:f.insidePortal?14:20,"aria-describedby":A?lp:void 0,setIsFileUploading:v,toolbarButtons:lT?(0,M.jsx)(ee.n.ToolbarButton,{variant:"invisible",icon:ei.PencilAiIcon,size:"small",className:"CreateIssueForm-module__copilotWriteButton__QoIos",onClick:lK,"aria-pressed":lC,"aria-label":ek.k.copilotCTAButton}):null,footerButtons:ly,disabled:lj,generatingText:lj,onInputFocus:lL}),lT&&lC&&"preview"!==L&&(0,M.jsx)(q.O,{...lP}),A&&(0,M.jsxs)(eo.A,{variant:"danger",id:lp,children:[(0,M.jsx)(eu.A,{icon:ei.AlertIcon}),A]})]})}),lg&&e7&&(0,ap.GQ)(o.data)&&(0,M.jsx)(J.Z,{outputRef:d,issueFormRef:o.data,subject:lg,sessionStorageKey:eq,defaultValuesById:e4,onSave:()=>_?.current?.onCreate(I,h),setIsFileUploading:v,onFieldChange:e5?ld:y}),e5&&(0,M.jsx)(ad,{repoOwner:e.owner.login,repoName:e.name,items:e9,isLoading:le,isError:la,isExpanded:ln,onExpandedChange:ll,onIssueClick:k,onIssueUpdate:lt,sessionId:ls,onIssueClickTracking:lo},lr)]}),lD=(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(lW,{orgPinnedFields:R?.orgPinnedFields??aF,isPinnedFieldsLoading:null===R}),R&&(0,M.jsx)($.t,{supportFileUrl:R.supportFileUrl??void 0,codeOfConductFileUrl:R.codeOfConductFileUrl??void 0,securityPolicyUrl:R.securityPolicyUrl??void 0,contributingFileUrl:R.contributingFileUrl??void 0})]}),lR=p?null:(0,M.jsx)(M.Fragment,{children:u&&(0,M.jsx)(ec.az,{sx:{gridArea:"footer",mt:[4,4,2*!!e7]},children:u})});return j?(0,M.jsx)("div",{className:"CreateIssueForm-module__CreateIssueFormWrapper__XP4hZ",children:(0,M.jsxs)(ec.az,{className:(0,em.$)("width-fit","CreateIssueForm-module__formGridContainer__ljc4B"),sx:{gridTemplateAreas:`
              "body metadata"
              "footer nil"
            `},children:[(0,M.jsx)("div",{className:"CreateIssueForm-module__mainContentSection___zm0W",children:lV}),(0,M.jsx)("div",{className:"CreateIssueForm-module__metadataSection__e1hS4",children:lD}),lR]})}):(0,M.jsxs)(M.Fragment,{children:[lV,lD,lR]})};function aS(e){return Error(`Issue create mutation failed with error: ${e}`)}aI.displayName="CreateIssueForm"},19591(e,l,a){a.d(l,{N:()=>R,e:()=>M});var n,t,i,s,r,o,u,d,c=a(74848);let m={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"TemplateListPaneQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"TemplateListPane"}],type:"Repository",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"TemplateListPaneQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:"IssueForm",kind:"LinkedField",name:"issueForms",plural:!0,selections:[i,s={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplates",plural:!0,selections:[i,s,r,o={alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSecurityPolicyEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},{alias:null,args:null,concreteType:"RepositoryContactLink",kind:"LinkedField",name:"contactLinks",plural:!0,selections:[r,o,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null}],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"616cce00c4f4fa38692beac78606b059",metadata:{},name:"TemplateListPaneQuery",operationKind:"query",text:null}};m.hash="48fd58d3a414612124beb28d391e3930";let g={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TemplateListPane",selections:[{alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},{args:null,kind:"FragmentSpread",name:"TemplateList"}],type:"Repository",abstractKey:null};g.hash="881cdbdb34820ab9cdf5b5c8e6409bb0";var p=a(38621),y=a(18312),k=a(31382),f=a(26806);let h={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TemplateList",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:"IssueForm",kind:"LinkedField",name:"issueForms",plural:!0,selections:[u={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},{args:null,kind:"FragmentSpread",name:"IssueFormRow"}],storageKey:null},{alias:null,args:null,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplates",plural:!0,selections:[u,d,{args:null,kind:"FragmentSpread",name:"IssueTemplateRow"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSecurityPolicyEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},{alias:null,args:null,concreteType:"RepositoryContactLink",kind:"LinkedField",name:"contactLinks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{args:null,kind:"FragmentSpread",name:"ExternalLinkTemplateRow"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null}],type:"Repository",abstractKey:null};h.hash="9273ddd168cea9d6445f53cc752642e5";var b=a(70730),F=a(18990);a(69487);var I=a(32222);let S=({filename:e,onTemplateSelected:l,name:a,about:n,link:t,externalLink:i,trailingIcon:s})=>(0,c.jsxs)(F.l.LinkItem,{as:I.N,to:t??"#",target:i?"_blank":void 0,onClick:a=>{a.altKey||a.ctrlKey||a.metaKey||a.shiftKey||(i||t||(a.preventDefault(),a.stopPropagation()),l(e))},className:"IssueTemplateItem-module__templateItemContainer__LpFyz",children:[(0,c.jsx)("span",{className:"IssueTemplateItem-module__actionListTitle__eNRhM",children:a}),(0,c.jsx)(F.l.Description,{variant:"block",children:n}),(0,c.jsx)(F.l.TrailingVisual,{children:s??(0,c.jsx)(p.ArrowRightIcon,{})})]},e);S.displayName="IssueTemplateItem";var _=a(75608),v=a(6563);let x=({nameWithOwner:e,onTemplateSelected:l})=>(0,c.jsx)(S,{filename:_.$K,onTemplateSelected:()=>l?.(_.$K,_.t7.BlankIssue),name:k.k.blankIssueName,about:k.k.blankIssueDescription,link:l?void 0:(0,v.Qy)(e,_.$K)});x.displayName="BlankIssueItem";var C=a(56190);let j={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExternalLinkTemplateRow",selections:[{alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"RepositoryContactLink",abstractKey:null};j.hash="89d8106fd30fe009b4d13c1f4908f32e";var T=a(71313);let K=({repositoryContactLink:e})=>{let l=(0,y.useFragment)(j,e);return(0,c.jsx)(S,{filename:l.name,onTemplateSelected:T.l,name:l.name,link:l.url,about:l.about,externalLink:!0,trailingIcon:(0,c.jsx)(p.LinkExternalIcon,{})})};K.displayName="ExternalLinkTemplateRow";let L={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IssueFormRow",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null}],type:"IssueForm",abstractKey:null};L.hash="4707734c7aff8e836f17a948f0fc6e8d";let N=({nameWithOwner:e,form:l,onTemplateSelected:a})=>{let n=(0,y.useFragment)(L,l);return(0,c.jsx)(S,{filename:n.filename,onTemplateSelected:e=>a?.(e,_.t7.IssueForm),name:n.name,about:n.description,link:a?void 0:(0,v.Qy)(e,n.filename)})};N.displayName="IssueFormRow";let P={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IssueTemplateRow",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null}],type:"IssueTemplate",abstractKey:null};P.hash="2047157ce521e245c1030871b4d976b7";let w=({nameWithOwner:e,template:l,onTemplateSelected:a})=>{let n=(0,y.useFragment)(P,l);return(0,c.jsx)(S,{filename:n.filename,onTemplateSelected:e=>a?.(e,_.t7.IssueTemplate),name:n.name,about:n.about,link:a?void 0:(0,v.Qy)(e,n.filename)})};w.displayName="IssueTemplateRow";let A=({link:e})=>(0,c.jsx)(S,{filename:"default-security-policy",link:e,externalLink:!0,onTemplateSelected:T.l,name:k.k.securityPolicyName,about:k.k.securityPolicyDescription,trailingIcon:(0,c.jsx)(p.ShieldIcon,{})});A.displayName="SecurityPolicyRow";var E=a(44877),V=a(69915);function D({repository:e,onTemplateSelected:l,className:a,setIsNavigatingToNew:n}){let{optionConfig:t,displayMode:i}=(0,f.a)(),s=(0,y.useFragment)(h,e);if(!s.hasAnyTemplates&&!s.isBlankIssuesEnabled&&!s.isSecurityPolicyEnabled)return(0,c.jsx)("span",{children:k.k.noTemplates});if(t.canBypassTemplateSelection){let e=function(e){if(e.contactLinks&&e.contactLinks.length>0||e.isSecurityPolicyEnabled&&e.securityPolicyUrl||e.isBlankIssuesEnabled)return null;let l=null;if(e.issueForms){if(1===e.issueForms.length)l=e.issueForms[0].filename;else if(e.issueForms.length>1)return null}if(e.issueTemplates)if(l){if(e.issueTemplates.length>0)return null}else 1===e.issueTemplates.length&&(l=e.issueTemplates[0].filename);if(!l)return null;let a=b.fV?.origin??"",n=`${a}/${e.nameWithOwner}`;return(0,v.RG)({repositoryAbsolutePath:n,fileName:l})}(s);if(e)return n?.(!0),t.navigate?.(e),null;n?.(!1)}let r=[...s.issueForms||[],...s.issueTemplates||[]].sort((e,l)=>e.filename.localeCompare(l.filename)).map(e=>"IssueForm"===e.__typename?(0,c.jsx)(N,{onTemplateSelected:l,form:e,nameWithOwner:s.nameWithOwner},e.filename):(0,c.jsx)(w,{onTemplateSelected:l,template:e,nameWithOwner:s.nameWithOwner},e.filename)),o=(0,c.jsxs)(c.Fragment,{children:[r,s.isBlankIssuesEnabled&&(0,c.jsx)(x,{onTemplateSelected:l,nameWithOwner:s.nameWithOwner},_.$K),s.isSecurityPolicyEnabled&&(0,c.jsx)(A,{link:s.securityPolicyUrl},"security_policy"),s.contactLinks&&s.contactLinks.map(e=>(0,c.jsx)(K,{repositoryContactLink:e},`contact_links.${e.name}`))]});return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(F.l,{className:a,"data-testid":C.Y.templateList,showDividers:!0,variant:"inset",children:t.showRepositoryPicker&&i===V.q.TemplatePicker?(0,c.jsxs)(F.l.Group,{children:[(0,c.jsx)(F.l.GroupHeading,{as:"h2",variant:"filled",className:`position-sticky top-0 x ${!t.insidePortal&&"border-top-0"} ${E.A.templateHeader}`,children:k.k.templatesFormsTitle}),o]}):o})})}D.displayName="TemplateList";function R({repositoryId:e,...l}){let a=(0,y.useLazyLoadQuery)(m,{id:e});return a.node?(0,c.jsx)(M,{repository:a.node,...l}):null}function M({repository:e,descriptionId:l,...a}){let{optionConfig:n}=(0,f.a)(),{insidePortal:t}=n,i=(0,y.useFragment)(g,e);return(0,c.jsx)("div",{children:i.hasIssuesEnabled?(0,c.jsx)(D,{repository:i,...a,className:`${!t?`border borderColor-muted rounded-2 overflow-hidden
                ${n.showRepositoryPicker?"pt-0 mt-0":"py-2 mt-2"}`:""}`}):(0,c.jsxs)("div",{className:"TemplateListPane-module__disabledStateGap__zYXjf d-flex flex-row flex-items-center pr-m-3",children:[(0,c.jsx)(p.InfoIcon,{}),(0,c.jsx)("span",{id:l,children:k.k.issuesDisabledForRepo})]})})}R.displayName="TemplateListPaneFromRepo",M.displayName="TemplateListInternal"},58708(e,l,a){a.d(l,{l:()=>n});let n={createMore:"Create more",createMoreSubIssues:"Create more sub-issues",createFullscreen:"Open issue creation in fullscreen",copyUrl:"Copy link",create:"Create",cancel:"Cancel"}},24622(e,l,a){a.d(l,{S:()=>n});let n={createIssueError:"Unable to create issue.",unableToLoadSelectedTemplate:"Unable to selected template"}},31382(e,l,a){a.d(l,{k:()=>n});let n={issueCreateDialogTitleTemplatePane:(e="issue")=>`Create new ${e}`,issueCreateChooseDiffTemplate:"Choose a different template",issueCreateDialogTitleCreationPane:(e,l,a="issue")=>`Create new ${a} in ${e}${l?`: ${l}`:""}`,issueCreateDialogTitleDuplicationPane:(e,l="issue")=>`Duplicate current ${l} in ${e}`,issueCreateTitleLabel:"Add a title",issueCreateTitlePlaceholder:"Title",issueCreateBodyLabel:"Add a description",issueCreatedPrefix:"Issue created ",lastIssueCreated:e=>`Issue #${e} created`,issuesDisabledForRepo:"Issues are disabled for the selected repository. Please select a different repository.",issueBodyPlaceholder:"Type your description here\u2026",issueNumber:e=>`#${e}`,blankIssueName:"Blank issue",blankIssueDescription:"Create a new issue from scratch",securityPolicyName:"Report a security vulnerability",securityPolicyDescription:"Please review our security policy for more details",editTemplates:"Edit templates",viewTemplates:"View templates",templatesFormsTitle:"Templates and forms",noTemplates:"No templates available for the current repository",discardConfirmation:{title:"Discard changes?",content:"You have unsaved changes. Are you sure you want to discard them?",confirm:"Close and discard",cancel:"Keep editing"},loadingTooltip:"Loading...",templateId:e=>`template-item-${e}`,templateLabelId:e=>`template-item-${e}-label`,templateDescriptionId:e=>`template-item-${e}-description`,typePickerLabel:"Type",selectIssueTypeLabel:"create-issue-issue-type-label",fileUploadWarning:"Issue will be created once your upload has completed",issueTypeReadOnly:"You do not have permission to change the type",issueTypeReadOnlyReason:"You need the triage role or higher in this repository to change the issue type.",viewProfile:e=>`View ${e}'s profile`,copilotCTAButton:"Write with Copilot",copilotCTADialogTitle:"Navigate to Copilot Chat",copilotCTADialogDescription:"You have unsaved changes. Are you sure you want to discard them?",copilotCTADialogCancelButton:"Keep editing",copilotCTADialogContinueButton:"Go to Copilot",copilotGenerateDialogTitle:"Generate issue content with Copilot",copilotGenerateDialogTextareaLabel:"Additional context (optional)",copilotGenerateDialogTextareaPlaceholder:"Add any additional context to help Copilot generate a better issue...",copilotGenerateDialogGenerateButton:"Generate content",copilotGenerateError:"Failed to generate content with Copilot. Please try again.",copilotGenerateValidationWarning:"Please provide a title, existing description, or additional context to generate content.",copilotPanelInitialMessage:"How can I help you write your issue?",copilotPanelInputPlaceholder:"Type your message here...",copilotPanelSendButton:"Send",copilotPanelUpdatedMessage:"I've updated the issue title and description above.",copilotPanelLoadingMessage:"Writing\u2026",copilotPanelAcceptButton:"Accept",copilotPanelDiscardButton:"Discard",copilotPanelTryAgainButton:"Try again",copilotDiscardConfirmDialog:{title:"Discard changes?",content:"You have made edits to the generated content. Discarding will lose your changes.",confirm:"Discard",cancel:"Cancel"},copilotTryAgainConfirmDialog:{title:"Try again?",content:"You have made edits to the generated content. Trying again will replace your changes with new generated content.",confirm:"Try again",cancel:"Cancel"},backToAllIssues:"Back to all issues",crossRepoIssueDuplicationWarning:e=>`This issue is being duplicated across repositories. The following metadata might not be copied: ${e.join(", ")}.`,crossRepoIssueDuplicationDefaultWarning:"Changing the repository may remove Milestone, Labels, Type, and Assignees from the duplicate issue.",setAdditionalFields:"Set additional issue fields",addIssueField:"Add issue field"}},56190(e,l,a){a.d(l,{Y:()=>n});let n={createIssueButton:"create-issue-button",createMoreIssuesCheckbox:"create-more-check",templateList:"template-list",issueCreatedLink:"issue-created-link",issueCreatedAnnouncement:"issue-created-announcement",repositoryAndTemplateDialog:"repository-and-template-picker-dialog",templatePickerButton:"template-picker-button"}},87543(e,l,a){a.d(l,{d:()=>t,t:()=>n});let n={queryParams:{org:"org",repo:"repo",template:"template",title:"title",body:"body",assignees:"assignees",labels:"labels",milestone:"milestone",projects:"projects",type:"type",discussion:"discussion",permalink:"permalink"},maxQueryLengthLimits:{title:256,body:65536,assignees:10,labels:20,projects:20}},t=Object.values(n.queryParams)},78167(e,l,a){a.d(l,{Zf:()=>i,bV:()=>s,m5:()=>o,tT:()=>n,wK:()=>t,xv:()=>u});let n={repositoriesPreloadCount:5,localStorageMetadataKeys:{issueLabels:e=>`${e}.create-issue-labels`,issueAssignees:e=>`${e}.create-issue-assignees`,issueMilestone:e=>`${e}.create-issue-milestone`,issueProjects:e=>`${e}.create-issue-projects`,issueIssueType:e=>`${e}.create-issue-type`,issueIssueFields:e=>`${e}.create-issue-fields`},localStorageKeys:{issueCreateMore:e=>`${e}.create-issue-create-more`,issueRepoId:e=>`${e}.create-issue-repo-id`,issueTemplateId:e=>`${e}.create-issue-template-id`},localTitleAndBodyStorageKeys:{issueTitle:e=>`${e}.create-issue-title`,issueBody:e=>`${e}.create-issue-body`},storageKeyPrefixes:{defaultFallback:"hyperlist",globalAdd:"issue-global-add"}};function t(e){return Object.values({...n.localStorageKeys,...n.localStorageMetadataKeys,...n.localTitleAndBodyStorageKeys}).map(l=>l(e))}function i(e){return Object.values(n.localStorageMetadataKeys).map(l=>l(e))}function s(e){return Object.values(n.localTitleAndBodyStorageKeys).map(l=>l(e))}let r={title:n.localTitleAndBodyStorageKeys.issueTitle,body:n.localTitleAndBodyStorageKeys.issueBody};function o(e){return Object.values(r).map(l=>l(e))}let u="temp-sub-issue-"},26806(e,l,a){a.d(l,{a:()=>u,o:()=>o});var n=a(74848),t=a(29681),i=a(96540),s=a(78167);let r=(0,i.createContext)(null);function o({optionConfig:e,overrideFallbackDisplaymode:l,children:a}){let{issueCreateMore:o}=s.tT.localStorageKeys,[u,d]=(0,i.useState)(!1),[c,m]=(0,i.useState)(!1),[g,p]=(0,t.Fo)(`config.${o(e.storageKeyPrefix)}`,!1),[y,k]=(0,i.useState)({owner:"",repo:"",number:void 0}),f=e.getDefaultDisplayMode(l),[h,b]=(0,i.useState)(f),F=(0,i.useRef)(null),I=(0,i.useMemo)(()=>({optionConfig:e,createMore:g,setCreateMore:p,createMoreCreatedPath:y,setCreateMoreCreatedPath:k,displayMode:h,setDisplayMode:b,initialDefaultDisplayMode:f,isSubmitting:u,isFileUploading:c,setIsFileUploading:m,setIsSubmitting:d,onCreateAction:F,isSubIssue:!!e.issueCreateArguments?.parentIssue?.id,isCreatingSubIssueFromProject:e.issueCreateArguments?.isCreatingSubIssueFromProject??!1}),[e,g,p,y,k,h,f,u,c]);return(0,n.jsx)(r,{value:I,children:a})}r.displayName="IssueCreateContext",o.displayName="IssueCreateConfigContextProvider";let u=()=>{let e=(0,i.use)(r);if(!e)throw Error("useIssueCreateConfigContext must be used within a IssueCreateConfigContextProvider.");return e}},19248(e,l,a){a.d(l,{S:()=>s});var n=a(74848),t=a(26806),i=a(56920);function s({children:e,...l}){return(0,n.jsx)(t.o,{...l,children:(0,n.jsx)(i.s,{...l,children:e})})}s.displayName="IssueCreateContextProvider"},56920(e,l,a){a.d(l,{s:()=>m,u:()=>g});var n=a(74848),t=a(24619),i=a(70730),s=a(29681),r=a(96540),o=a(78167);function u(e,l,a,n){if(!e)return{projectsToSet:[],milestoneToSet:null};let t=n?.repository?.owner.login===n?.selectedRepository?.owner.login,i=t&&n?.repository?.name===n?.selectedRepository?.name;return{projectsToSet:t&&l.length>0?l:[],milestoneToSet:i&&a?a:null}}var d=a(75608);let c=(0,r.createContext)(null);function m({optionConfig:e,preselectedData:l,children:a}){let{storageKeyPrefix:m,issueCreateArguments:g}=e,{issueTitle:p,issueBody:y}=o.tT.localTitleAndBodyStorageKeys,{issueLabels:k,issueAssignees:f,issueProjects:h,issueMilestone:b,issueIssueType:F,issueIssueFields:I}=o.tT.localStorageMetadataKeys,[S,_]=(0,r.useState)(l?.repository),[v,x]=(0,r.useState)(l?.template),[C,j]=(0,r.useState)(`${m}.${v?.fileName||d.$K}`),T="";if(g?.initialValues?.discussion)T=g?.initialValues?.discussion.title;else if(g?.initialValues?.title)T=g?.initialValues?.title;else if(v){let e,l=(e="",v?.data&&(e=v?.data.title||""),e),a="";g?.initialValues?.appendTitleToTemplate&&(a=` ${g?.initialValues?.appendTitleToTemplate}`),T=[l,a].join("").trimStart()}else g?.initialValues?.appendTitleToTemplate&&(T=g?.initialValues?.appendTitleToTemplate);let[K,L,N]=(0,s.Fo)(p(C),T),P="";if(g?.initialValues?.discussion)P=g?.initialValues?.discussion.formattedBody;else if(g?.initialValues?.body)P=g?.initialValues?.body;else{let e;v&&(e="",v?.data&&(0,d.Al)(v?.data)&&(e=v?.data.body||""),P=e)}let[w,A,E]=(0,s.Fo)(y(C),P),V=[];if(g?.initialValues?.discussion)V=g?.initialValues?.discussion?.labels||[];else if(g?.initialValues?.labels)V=g?.initialValues?.labels;else{let e;v&&(e=[],v?.data&&(e=v?.data.labels?.edges?.flatMap(e=>e?.node?[e?.node]:[])||[]),V=e)}let[D,R,M]=(0,s.Fo)(k(C),V),O=[];if(g?.initialValues?.assignees)O=g?.initialValues?.assignees;else{let e;v&&(e=[],v?.data&&(e=v?.data.assignees?.edges?.flatMap(e=>e?.node?[e?.node]:[])||[]),O=e)}let[B,U,$]=(0,s.Fo)(f(C),O),H=(0,r.useMemo)(()=>g?.initialValues?.projects??[],[g?.initialValues?.projects]),q=function(e){let l,{template:a,projects:n=[],isParentInheritance:t=!1}=e;if(!t&&n.length>0)return n;let i=a?(l=[],a?.data&&(0,d.GQ)(a?.data)&&(l=a.data.projects?.edges?.flatMap(e=>e?.node?[e.node]:[])||[]),l):[];return i.length>0?i:n}({template:v,projects:g?.initialValues?.projects??[],isParentInheritance:!!g?.parentIssue}),[W,z,G]=(0,s.Fo)(h(C),q),Q=(0,r.useMemo)(()=>g?.initialValues?.milestone??null,[g?.initialValues?.milestone]),Y=(0,r.useMemo)(()=>Q&&l?.parentIssue?u(!0,[],Q,{repository:l?.repository,selectedRepository:S}).milestoneToSet:Q,[Q,l?.parentIssue,l?.repository,S]),[J,X,Z]=(0,s.Fo)(b(C),Y),ee=null;if(g?.initialValues?.type)ee=g?.initialValues?.type;else{let e;v&&(e=null,v?.data&&((0,d.GQ)(v?.data)||(0,d.Al)(v?.data))&&(e=v?.data.type||null),ee=e)}let[el,ea,en]=(0,s.Fo)(F(C),ee),[et,ei]=(0,s.Fo)(I(C),[]),[es,er]=(0,r.useState)(!1),[eo,eu]=(0,r.useState)(null),[ed,ec]=(0,r.useState)(K),[em,eg]=(0,r.useState)(w),ep=(0,r.useRef)(B);(0,r.useEffect)(()=>{ep.current=B},[B]);let ey=(0,r.useCallback)(e=>{L(e),ec(e)},[L,ec]),ek=(0,r.useCallback)(e=>{A(e),eg(e)},[A,eg]),ef=(0,r.useCallback)(l=>{let a=ep.current.some(e=>(0,t.v)(e.login)),n=l.some(e=>(0,t.v)(e.login));U(l),e.disableCopilotAssignmentModal||a||!n||er(!0)},[U,e.disableCopilotAssignmentModal]),eh=(0,r.useCallback)(e=>{ef([]),R([]),ei([]);let a=u(!!l?.parentIssue,H,Q,e);z(a.projectsToSet),X(a.milestoneToSet)},[ef,R,ei,l?.parentIssue,Q,H,z,X]),eb=(0,r.useCallback)(()=>{(0,s.D6)((0,o.wK)(C))},[C]),eF=(0,r.useCallback)(()=>{(0,s.D6)((0,o.Zf)(C))},[C]),eI=(0,r.useCallback)(()=>{(0,s.D6)((0,o.bV)(C))},[C]),eS=(0,r.useCallback)(()=>{(0,s.D6)([`config.${o.tT.localStorageKeys.issueCreateMore(m)}`])},[m]),e_=(0,r.useCallback)(()=>{L(""),A(""),ec(""),eg("")},[L,A,ec,eg]),ev=i.fV?.origin??"",ex=S?.nameWithOwner??"",eC=(0,r.useMemo)(()=>`${ev}/${ex}`,[ev,ex]),ej=l?.parentIssue,[eT,eK]=(0,r.useState)(ej&&"title"in ej?ej:null),eL=eT??l?.parentIssue??null,eN=eL?.id??null,[eP,ew]=(0,r.useState)([]),eA=(0,r.useMemo)(()=>eP.map(e=>e.id),[eP]),[eE,eV]=(0,r.useState)([]),eD=(0,r.useMemo)(()=>eE.map(e=>e.id),[eE]),eR=(0,r.useCallback)(e=>{x(e),j(`${m}.${e?.fileName||d.$K}`)},[m]),eM=(0,r.useMemo)(()=>({reinitTitle:N,reinitBody:E,reinitAssignees:$,reinitLabels:M,reinitProjects:G,reinitMilestone:Z,reinitIssueType:en,usedStorageKeyPrefix:C,clearSessionData:eb,clearSessionMetadata:eF,clearSessionTitleAndBody:eI,clearSessionCreateMore:eS,resetMetadata:eh,clearTitleAndBody:e_,setNewTitle:ey,setNewBody:ek,originalTitle:ed,setOriginalTitle:ec,originalBody:em,setOriginalBody:eg,title:K,setTitle:L,body:w,setBody:A,repository:S,setRepository:_,repositoryAbsolutePath:eC,template:v,setTemplate:eR,preselectedRepository:l?.repository,preselectedTemplate:l?.template,labels:D,setLabels:R,assignees:B,setAssignees:ef,replaceAssignees:U,projects:W,setProjects:z,milestone:J,setMilestone:X,issueType:el,setIssueType:ea,issueFields:et,setIssueFields:ei,parentIssue:eT,setParentIssue:eK,parentIssueId:eN,blockedByIssues:eP,setBlockedByIssues:ew,blockedByIssueIds:eA,blockingIssues:eE,setBlockingIssues:eV,blockingIssueIds:eD,isCopilotAssignmentDialogOpen:es,setIsCopilotAssignmentDialogOpen:er,copilotAssignmentAttributes:eo,setCopilotAssignmentAttributes:eu}),[N,E,$,M,G,Z,en,C,eb,eF,eI,eS,eh,e_,ey,ek,ed,em,K,L,w,A,S,eC,v,eR,l?.repository,l?.template,D,R,B,ef,U,W,z,J,X,el,ea,et,ei,eT,eN,eP,eA,eE,eD,es,eo]);return(0,n.jsx)(c,{value:eM,children:a})}c.displayName="IssueCreateDataContext",m.displayName="IssueCreateDataContextProvider";let g=()=>{let e=(0,r.use)(c);if(!e)throw Error("useIssueCreateDataContext must be used within a IssueCreateDataContextProvider.");return e}},71571(e,l,a){a.d(l,{o:()=>eu});var n,t,i,s,r,o,u,d,c,m,g,p,y,k,f,h,b,F,I,S,_,v,x,C,j,T,K,L=a(74848);let N={fragment:{argumentDefinitions:[n={defaultValue:!1,kind:"LocalArgument",name:"includeTemplates"},t={defaultValue:null,kind:"LocalArgument",name:"name"},i={defaultValue:null,kind:"LocalArgument",name:"owner"}],kind:"Fragment",metadata:null,name:"CreateIssueDialogEntryQuery",selections:[{alias:null,args:s=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},{kind:"InlineDataFragmentSpread",name:"RepositoryPickerRepository",selections:[d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[c,p={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},y={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},k={alias:null,args:null,kind:"ScalarField",name:"issueTypesEnabled",storageKey:null}],storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"isLocked",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"isInOrganization",storageKey:null},u,r,S={alias:null,args:null,kind:"ScalarField",name:"slashCommandsEnabled",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"viewerCanPush",storageKey:null},o,v={alias:null,args:[{kind:"Literal",name:"action",value:"create an issue"}],kind:"ScalarField",name:"viewerInteractionLimitReasonHTML",storageKey:'viewerInteractionLimitReasonHTML(action:"create an issue")'},x={alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"milestoneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assignable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triageable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canSetIssueFields",storageKey:null}],storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"shortDescriptionHTML",storageKey:null}],args:null,argumentDefinitions:[]},{args:[{kind:"Variable",name:"includeTemplates",variableName:"includeTemplates"}],kind:"FragmentSpread",name:"CreateIssueDialog"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,t,n],kind:"Operation",name:"CreateIssueDialogEntryQuery",selections:[{alias:null,args:s,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[r,o,u,d,c,m,g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[j={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,p,y,k,d],storageKey:null},f,h,b,F,I,S,_,v,x,C,{condition:"includeTemplates",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"IssueForm",kind:"LinkedField",name:"issueForms",plural:!0,selections:[j,T={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplates",plural:!0,selections:[j,T,m,K={alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSecurityPolicyEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},{alias:null,args:null,concreteType:"RepositoryContactLink",kind:"LinkedField",name:"contactLinks",plural:!0,selections:[m,K,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}]}],storageKey:null}]},params:{id:"a7094ff8a9becdaf2147e98f9e148ca7",metadata:{},name:"CreateIssueDialogEntryQuery",operationKind:"query",text:null}};N.hash="3637b8207b4416b73b8db4727054b1cd";var P=a(35931),w=a(71313),A=a(35148),E=a(96540),V=a(18312),D=a(78167),R=a(19248),M=a(69915),O=a(46135),B=a(18457);let U={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"includeTemplates"}],kind:"Fragment",metadata:null,name:"CreateIssueDialog",selections:[{args:[{kind:"Variable",name:"includeTemplates",variableName:"includeTemplates"}],kind:"FragmentSpread",name:"CreateIssue"}],type:"Repository",abstractKey:null};U.hash="2462dd98bf9bee7cbb97c2e845715e7c";var $=a(56149),H=a(15533);a(69487);var q=a(26806),W=a(56920),z=a(60119),G=a(84698),Q=a(33580),Y=a(36758),J=a(24043),X=a(70966),Z=a(38621),ee=a(26108),el=a(39081),ea=a(58708),en=a(31382),et=a(75608),ei=a(6563);let es="CreateIssueDialogHeader-module__CopyToClipboardButton__hEaIj",er=({navigate:e,dialogLabelId:l,onClose:a})=>{let{displayMode:n,setDisplayMode:t,optionConfig:i,isSubIssue:s}=(0,q.a)(),{repository:r,repositoryAbsolutePath:o,template:u,resetMetadata:d,setTemplate:c}=(0,W.u)(),m=(0,J.G7)("memex_default_issue_create_repository"),g=(0,E.useCallback)(()=>{a("close-button")},[a]),p=(0,E.useMemo)(()=>(0,ei.jk)(o),[o]),y=n===M.q.TemplatePicker&&void 0!==r,k=n===M.q.IssueCreation&&i.showFullScreenButton&&e!==w.l&&void 0!==r,f=(0,E.useCallback)(()=>{d({repository:r,selectedRepository:r}),c(void 0),t(M.q.TemplatePicker)},[d,c,t,r]),h=(0,E.useMemo)(()=>{let e=s?"sub-issue":"issue";if(n===M.q.TemplatePicker||!r?.nameWithOwner){let l=i.issueCreateArguments?.initialValues?.title;return en.k.issueCreateDialogTitleTemplatePane(e)+(l?` - "${l}"`:"")}let l=u&&u.kind!==et.t7.BlankIssue?u.name:void 0;return n===M.q.IssueDuplication?en.k.issueCreateDialogTitleDuplicationPane(r.nameWithOwner,e):en.k.issueCreateDialogTitleCreationPane(r.nameWithOwner,l,e)},[n,s,r?.nameWithOwner,u,i]);return(0,L.jsxs)(el.l.Header,{children:[(0,L.jsx)(X.ak,{commands:{"issue-create:open-fullscreen":()=>{if(!k)return;let l=`/${r.nameWithOwner}/issues/new`,a=u&&u.kind!==et.t7.BlankIssue?u.fileName:void 0;e(a?`${l}?template=${encodeURIComponent(a)}`:l)}}}),(0,L.jsxs)("div",{className:"CreateIssueDialogHeader-module__CreateIssueDialogHeaderContainer__JKBlO",children:[m&&n===M.q.IssueCreation&&(0,L.jsx)(ee.K,{icon:Z.ArrowLeftIcon,"aria-label":"Back to templates",variant:"invisible",onClick:f,className:es}),(0,L.jsx)("div",{className:"CreateIssueDialogHeader-module__dialogTitleSection__Sh0FB",children:(0,L.jsx)(el.l.Title,{id:l,children:h})}),y&&(0,L.jsx)(Y.T,{textToCopy:p,ariaLabel:ea.l.copyUrl,icon:Z.CopyIcon,tooltipProps:{direction:"n"},className:es}),k&&(0,L.jsx)(X.N5,{variant:"invisible",commandId:"issue-create:open-fullscreen",icon:Z.ScreenFullIcon,className:es}),(0,L.jsx)(el.l.CloseButton,{onClose:g})]})]})};er.displayName="CreateIssueDialogHeader";let eo=({onCreateSuccess:e,onCancel:l,navigate:a,currentRepository:n,isNavigatingToNew:t,returnFocusRef:i,...s})=>{let{optionConfig:r,initialDefaultDisplayMode:o,setDisplayMode:u,displayMode:d,setCreateMore:c}=(0,q.a)(),{usedStorageKeyPrefix:m}=(0,W.u)(),g=(0,V.useFragment)(U,"unset"!==n?n:null),p=(0,E.useCallback)(()=>{c(!1),u(o),l()},[o,l,c,u]),{onSafeClose:y}=(0,Q.Z)({storageKeyPrefix:m,issueFormRef:s.issueFormRef,onCancel:p}),k=(0,E.useCallback)(({issue:l,createMore:a})=>{e({issue:l,createMore:a}),a||u(o)},[o,e,u]),f={...s,onCancel:y},h=(0,E.useMemo)(()=>!t||!r.canBypassTemplateSelection,[t,r.canBypassTemplateSelection]);return(0,L.jsx)($.ZL,{children:(0,L.jsx)(H.lG,{returnFocusRef:i,renderHeader:e=>(0,L.jsx)(er,{navigate:a,...e}),renderFooter:()=>d===M.q.IssueCreation||d===M.q.IssueDuplication?(0,L.jsx)(H.lG.Footer,{children:(0,L.jsx)(G.l,{onClose:()=>y(),...s})}):null,renderBody:()=>(0,L.jsx)("div",{className:`${d===M.q.IssueCreation||d===M.q.IssueDuplication?"p-3":"p-0"}`,children:(0,L.jsx)(z.E,{onCreateSuccess:k,navigate:a,currentRepository:"unset"===n?"unset":g||null,...f})}),onClose:y,width:"xlarge",height:"auto",sx:{visibility:h?"visible":"hidden"},className:"CreateIssueDialog-module__CreateIssueDialogContainer__EDBUx"})})};eo.displayName="CreateIssueDialog";let eu=({navigate:e,isCreateDialogOpen:l,setIsCreateDialogOpen:a,onCancel:n,onCreateSuccess:t,onCreateError:i,optionConfig:s,isNavigatingToNew:r,setIsNavigatingToNew:o,returnFocusRef:u,fallbackElement:d})=>{let c=(0,V.useRelayEnvironment)(),[m,g]=(0,E.useState)(null),[p,y]=(0,E.useState)(null),k=(0,O.Su)(s),f=k.showRepositoryPicker,h=!!k.issueCreateArguments?.repository;(0,E.useEffect)(()=>{let e=async()=>{g(await (0,P.St)(c,{first:D.tT.repositoriesPreloadCount,hasIssuesEnabled:!0}))},l=async()=>{y(await (0,V.fetchQuery)(c,N,{owner:k.issueCreateArguments.repository.owner,name:k.issueCreateArguments.repository.name,includeTemplates:!0},{fetchPolicy:"store-or-network"}).toPromise()??null)};h&&l(),f&&e()},[]);let b=()=>{n?.(),a(!1)};return l?(0,L.jsx)(ed,{createIssueProps:{topRepositories:f?m:"unset",onCreateSuccess:({issue:l,createMore:a})=>{t?t({issue:l,createMore:a}):a||(b(),e((0,A.dRG)({owner:l.repository.owner.login,repo:l.repository.name,issueNumber:l.number})))},onCreateError:e=>i?.(e),onCancel:b,navigate:e,isNavigatingToNew:r,setIsNavigatingToNew:o},config:k,currentRepository:h?p:"unset",returnFocusRef:u,fallbackElement:d}):null};eu.displayName="CreateIssueDialogEntry";let ed=({createIssueProps:e,config:l,currentRepository:a,returnFocusRef:n,fallbackElement:t})=>{let i=e.navigate??w.l,s="unset"!==a&&a&&a.repository?(0,P.Jo)(a.repository):null,r=(0,E.useRef)(null),o={repository:s??void 0,template:void 0,parentIssue:l.issueCreateArguments?.parentIssue},u={...e,issueFormRef:r,hideCreateMore:l.hideCreateMore},d=!1;if(s?.hasIssuesEnabled&&l.defaultDisplayMode!==M.q.IssueDuplication&&(d=i!==w.l&&!s.hasAnyTemplates&&s.isBlankIssuesEnabled),(0,E.useEffect)(()=>{if(d&&s){let e=(0,B.H_)({includeRepository:!1,repository:s,templateFileName:void 0,...l.issueCreateArguments?.initialValues});i(`/${s.nameWithOwner}/issues/new${e?`?${e}`:""}`)}},[i,d,s,l.issueCreateArguments?.initialValues]),d)return null;let c="unset"!==a&&null===a,m="unset"!==e.topRepositories&&null===e.topRepositories;return t&&(c||m)?t:(0,L.jsx)(R.S,{optionConfig:l,overrideFallbackDisplaymode:M.q.TemplatePicker,preselectedData:o,children:(0,L.jsx)(eo,{currentRepository:"unset"===a?"unset":a?.repository||null,...u,returnFocusRef:n})})};ed.displayName="CreateIssueEntryWrapper"},57880(e,l,a){a.d(l,{K:()=>r});var n=a(35148),t=a(96540),i=a(56920),s=a(75608);let r=({issueFormRef:e,callback:l,handleTemplateChange:a,navigate:r,template:o})=>{let{clearTitleAndBody:u,clearSessionData:d,clearSessionMetadata:c,clearSessionTitleAndBody:m,clearSessionCreateMore:g}=(0,i.u)(),p=(0,t.useCallback)(({issue:t,createMore:i})=>{l?.({issue:t,createMore:i}),i?(o&&o.kind!==s.t7.BlankIssue?o:void 0)?(m(),e.current?.resetInputs({textOnly:!0}),a(o)):u():(e.current?.clearSessionStorage(),d(),r?.((0,n.dRG)({owner:t.repository.owner.login,repo:t.repository.name,issueNumber:t.number})))},[l,e,o,m,a,u,d,r]);return(0,t.useEffect)(()=>()=>{c(),g()},[g,c]),p}},33580(e,l,a){a.d(l,{Z:()=>u});var n=a(69991),t=a(29681),i=a(44472),s=a(96540),r=a(31382),o=a(78167);let u=({storageKeyPrefix:e,issueFormRef:l,onCancel:a})=>{let u=(0,i.S)(),d=(0,n.A)("sessionStorage"),c=(0,s.useMemo)(()=>JSON.stringify(""),[]),m=(0,s.useCallback)(async()=>await u({title:r.k.discardConfirmation.title,content:r.k.discardConfirmation.content,confirmButtonContent:r.k.discardConfirmation.confirm,confirmButtonType:"danger",cancelButtonContent:r.k.discardConfirmation.cancel}),[u]);return{onSafeClose:(0,s.useCallback)(async()=>{(!((0,o.m5)(e).some(e=>null!==d.getItem(e)&&d.getItem(e)!==c)||l?.current?.hasChanges())||await m())&&((0,t.D6)((0,o.wK)(e)),l?.current?.clearSessionStorage(),a())},[e,m,d,c,l,a])}}},34581(e,l,a){a.d(l,{E:()=>i});var n=a(80831),t=a(3654);function i({additionalConditions:e=[],repositoryVisibility:l,userCanPushToRepo:a}){let i=(0,n.mo)(),s=(0,t.X)();return i?.mode!=="immersive"&&!!s?.current_user_settings?.copilot_show_functionality&&("PUBLIC"!==l||!!a)&&e.every(e=>e)}},51013(e,l,a){a.d(l,{wT:()=>g,EV:()=>m});let n={kind:"InlineDataFragment",name:"useHandleTemplateChangeIssueTemplate"};n.hash="f40f14b9fc5e68c991814566f1700581";let t={kind:"InlineDataFragment",name:"useHandleTemplateChangeIssueForm"};t.hash="2b91a8d5f416e7948a2fa0b96775011d";let i={kind:"InlineDataFragment",name:"useHandleTemplateChange"};i.hash="a08364bb21fe7bb90b32c5dd4a84a3c6";var s=a(96540),r=a(69487),o=a(56920),u=a(69915),d=a(75608),c=a(6563);let m=e=>{let l,a=(0,r.readInlineData)(i,e);if(a.issueTemplate){let e=(0,r.readInlineData)(n,a.issueTemplate);l={name:e.name,fileName:e.filename,kind:d.t7.IssueTemplate,data:e}}else if(a.issueForm){let e=(0,r.readInlineData)(t,a.issueForm);l={name:e.name,fileName:e.filename,kind:d.t7.IssueForm,data:e}}return l},g=({optionConfig:e,repository:l,navigate:a,setDisplayMode:n})=>{let{setTemplate:t,reinitTitle:i,reinitBody:r,reinitAssignees:m,reinitLabels:g,reinitProjects:p,reinitMilestone:y,reinitIssueType:k}=(0,o.u)();return(0,s.useCallback)((s,o,f=!1)=>{t(s);let h="";if(o?.discussion)h=o.discussion.title;else if(o?.title)h=o.title||"";else{let e=s?.data.title||"",l="";o?.appendTitleToTemplate&&(l=` ${o.appendTitleToTemplate}`),h=[e,l].join("").trimStart()}i(h);let b="";o?.discussion?b=o.discussion.formattedBody||"":o?.body?b=o.body||"":s&&((0,d.Al)(s.data)||(0,d.yJ)(s.data))&&(b=s.data.body||""),r(b);g(o?.discussion?o.discussion?.labels||[]:o?.labels?o.labels:s?.data.labels?.edges?.flatMap(e=>e?.node?[e?.node]:[])||[]),m(o?.assignees??((s?.data.assignees?.edges||[]).flatMap(e=>e?.node?[e?.node]:[])||[])),o?.projects?p(o.projects):s&&(0,d.GQ)(s?.data)&&p(s.data.projects?.edges?.flatMap(e=>e?.node?[e.node]:[])||[]),o?.milestone&&y(o?.milestone);let F=o?.type??null;s&&!F&&((0,d.GQ)(s.data)||(0,d.Al)(s.data))&&void 0!==s.data.type&&(F=s.data.type||null),k(F??null),(!o||f)&&(e.navigateToFullScreenOnTemplateChoice&&l&&s?a((0,c.Qy)(l.nameWithOwner,s.fileName)):n(u.q.IssueCreation))},[t,i,r,g,m,k,p,y,e.navigateToFullScreenOnTemplateChoice,l,a,n])}},69915(e,l,a){a.d(l,{q:()=>n});let n={TemplatePicker:"TemplatePicker",IssueCreation:"IssueCreation",IssueDuplication:"IssueDuplication"}},75608(e,l,a){a.d(l,{$K:()=>t,AI:()=>d,Al:()=>s,GQ:()=>i,rp:()=>n,t7:()=>o,yJ:()=>r});let n="Blank issue",t="BLANK_ISSUE";function i(e){return"IssueForm"===e.__typename}function s(e){return"IssueTemplate"===e.__typename}function r(e){return"BlankIssue"===e.__typename}let o={IssueForm:"IssueForm",IssueTemplate:"IssueTemplate",ContactLink:"ContactLink",BlankIssue:"BlankIssue"},u={name:n,fileName:t,kind:o.BlankIssue,data:{__typename:"BlankIssue",__id:t,title:"",body:"",assignees:{edges:[]},labels:{edges:[]}}};function d(){return u}},46135(e,l,a){a.d(l,{Su:()=>r,ob:()=>i});var n=a(78167),t=a(69915);function i(e){return e.isCopilotImmersive?"copilot_immersive":e.insidePortal?"modal":"full_page"}let s={showFullScreenButton:!1,navigateToFullScreenOnTemplateChoice:!1,insidePortal:!0,showRepositoryPicker:!0,storageKeyPrefix:"",canBypassTemplateSelection:!1,emojiSkinTonePreference:0,copilotShowFunctionality:!1,disableCopilotAssignmentModal:!1,isCopilotImmersive:!1,hideCreateMore:!1},r=e=>{let l={...s,...e},a={storageKeyPrefix:(l.issueCreateArguments?.repository?`${l.issueCreateArguments?.repository.owner}-${l.issueCreateArguments?.repository.name}`:void 0)??l.storageKeyPrefix??n.tT.storageKeyPrefixes.defaultFallback};return{...l,...a,getDefaultDisplayMode:e=>l.defaultDisplayMode??e??t.q.TemplatePicker}}},18457(e,l,a){a.d(l,{H_:()=>r,mZ:()=>o});var n=a(70730),t=a(87543),i=a(75608),s=a(6563);function r({includeRepository:e,repository:l,templateFileName:a,title:i,body:r,assignees:o,labels:u,projects:d,milestone:c,type:m}){let g=new URLSearchParams(n.cg?.location?.search||"");return e&&l&&(g.set(t.t.queryParams.org,l.owner.login),g.set(t.t.queryParams.repo,l.name)),a&&g.set(t.t.queryParams.template,a),(0,s.E2)(g,t.t.queryParams.title,i,t.t.maxQueryLengthLimits.title),(0,s.E2)(g,t.t.queryParams.body,r,t.t.maxQueryLengthLimits.body),o&&(0,s.Hx)(g,t.t.queryParams.assignees,o?o.map(e=>e.login):void 0,t.t.maxQueryLengthLimits.assignees),u&&(0,s.Hx)(g,t.t.queryParams.labels,u.map(e=>e.name),t.t.maxQueryLengthLimits.assignees),d&&l?.owner&&(0,s.Hx)(g,t.t.queryParams.projects,d.map(e=>`${l.owner.login}/${e.number}`),t.t.maxQueryLengthLimits.assignees),c&&g.set(t.t.queryParams.milestone,c.title),m&&g.set(t.t.queryParams.type,m.name),g.toString()}function o(e,l,a){let n=e.get(t.t.queryParams.org)||a?.owner||null,r=e.get(t.t.queryParams.repo)||a?.repository||null,o=e.get(t.t.queryParams.template)||a?.template||null,u={...null!==n&&null!==r&&{repository:{owner:n,name:r}},...null!==o&&{templateFileName:o}},d=(0,s.Qg)(e,t.t.queryParams.title,t.t.maxQueryLengthLimits.title)||a?.title,c=(0,s.Qg)(e,t.t.queryParams.permalink,t.t.maxQueryLengthLimits.body);c=void 0===c?(0,s.Qg)(e,t.t.queryParams.body,t.t.maxQueryLengthLimits.body)||a?.body:decodeURIComponent(c);let m={...void 0!==d&&{title:d},...void 0!==c&&{body:c},...l};if(0===Object.keys(u).length)if(!(Object.keys(m).length>0))return;else u={templateFileName:i.rp};return{...u,...Object.keys(m).length>0&&{initialValues:m}}}},6563(e,l,a){a.d(l,{E2:()=>g,Hx:()=>p,Qg:()=>m,Qy:()=>r,RG:()=>d,TV:()=>k,Zi:()=>c,jk:()=>o,pM:()=>y});var n=a(70730),t=a(87543);let i="/issues/new",s=`${i}/choose`,r=(e,l)=>{let a=new URLSearchParams(n.fV.search||"");return a.set("template",l),`/${e}/issues/new?${a.toString()}`},o=e=>u(e,s),u=(e,l)=>e.endsWith("/")?e.substring(0,e.length-1)+l:e+l,d=({repositoryAbsolutePath:e,fileName:l})=>{let a=new URL(u(e,i),n.cg?.location?.origin),s=new URLSearchParams(a.search);return s.set(t.t.queryParams.template,l),a.search=s.toString(),a.toString()},c=e=>{let l=e??new URLSearchParams(n.cg?.location?.search||""),a={};for(let[e,n]of l)if(t.d.includes(e))continue;else null===n?a[e]="":a[e]=n.substring(0,t.t.maxQueryLengthLimits.body);return a},m=(e,l,a)=>{let n=e.get(l);if(null!==n)return n.substring(0,a)},g=(e,l,a,n)=>{void 0!==a&&e.set(l,a.substring(0,n))},p=(e,l,a,n)=>{a&&e.set(l,a.slice(0,n).join(","))};function y(){return`/login?return_to=${n.fV?.href}`}function k(e){return`/${e}/issues/new/choose`}},99307(e,l,a){a.d(l,{k:()=>r});var n=a(16522),t=a(96540),i=a(24043),s=a(94583);function r(){let e,l,a,r,o=(0,n.c)(4);o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.G7)("issue_fields_report_usage"),o[0]=e):e=o[0];let u=e,d=(0,t.useRef)(null);o[1]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{d.current=Date.now()},o[1]=l):l=o[1];let c=l;o[2]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{if(!u)return;let l=d.current?Date.now()-d.current:void 0;d.current=null;var a={...e,interactionDuration:l};let n={};for(let[e,l]of Object.entries(a))if(void 0!==l){let a=e.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();Array.isArray(l)?n[a]=l.join(","):n[a]=l}(0,s.BI)("issue_fields_usage",{...n,version:"1.0.1"})},o[2]=a):a=o[2];let m=a;return o[3]===Symbol.for("react.memo_cache_sentinel")?(r={markInteractionStart:c,reportUsage:m},o[3]=r):r=o[3],r}},42304(e,l,a){a.d(l,{Z:()=>G});var n,t=a(74848);let i={kind:"InlineDataFragment",name:"IssueFormElements_templateElements"};i.hash="8c027995abd00c22fac1d025a14e2a8d";var s=a(29681),r=a(96540),o=a(18312);let u={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CheckboxesElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:"checkboxOptions",args:null,concreteType:"IssueFormElementCheckboxOption",kind:"LinkedField",name:"options",plural:!0,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"labelHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementCheckboxes",abstractKey:null};u.hash="66c71c2357977009e7b34571e8a11e21";var d=a(32539),c=a(29207),m=a(64451),g=a(7624),p=a(85965),y=a(49242);let k="_No response_";function f(e,l){return(0===l.length&&(l=k),e)?`### ${e}

${l}`:l}let h=(e,l,a,n)=>{if("markdown"===l)return"";let t=""===l?a:`${l}-${a}`;return`${e}-${t}-${n}`};function b({itemId:e,indexOfFormElement:l,defaultValuesById:a,checkboxCount:n}){if(!e)return Array(n).fill(!1);let t=(0,y.k)({id:e,value:"",indexOfFormElement:l,defaultValuesById:a}).split(",").map(e=>"true"===e.trim());return t.length===n?t:Array(n).fill(!1)}let F=({ref:e,elementRef:l,index:a,sessionStorageKey:n,defaultValuesById:i,onFieldChange:s})=>{let r=(0,o.useFragment)(u,l);if(!r.checkboxOptions)return null;let d=h(n,"",r.label,r.__id);return(0,t.jsx)(I,{...r,type:"checkboxes",index:a,ref:e,sessionStorageKey:d,defaultValuesById:i,onFieldChange:s})};F.displayName="CheckboxesElement";let I=({ref:e,itemId:l,index:a,sessionStorageKey:n,label:i,descriptionHTML:o,checkboxOptions:u,defaultValuesById:y,onFieldChange:k})=>{let h=(0,r.useRef)(null),F=(0,r.useMemo)(()=>b({itemId:l,indexOfFormElement:a,defaultValuesById:y,checkboxCount:u.length}),[u.length,y,a,l]),[I,S]=(0,s.Fo)(n,F),_=(0,r.useRef)(I);(0,r.useEffect)(()=>{_.current=I},[I]),(0,r.useEffect)(()=>{let e=y&&Object.keys(y).length>0;if(k&&e){let e=b({itemId:l,indexOfFormElement:a,defaultValuesById:y,checkboxCount:u.length});S(e),_.current=e}},[y,a,l,u.length,S,k]),(0,r.useEffect)(()=>{if(k){let e=_.current,n=b({itemId:l,indexOfFormElement:a,defaultValuesById:y,checkboxCount:u.length});e.length===n.length&&e.every((e,l)=>e===n[l])||k(l,a,e.map(e=>e.toString()).join(","))}},[I,l,a,k,y,u.length]);let[v,x]=(0,r.useState)(void 0);return(0,r.useImperativeHandle)(e,()=>({focus:()=>h.current?.focus(),markdown:()=>f(i,u.map((e,l)=>{var a,n;return a=e.label,n=I[l],`- [${n?"x":" "}] ${a}`}).join("\n")),validate:()=>{for(let[e,l]of u.entries())if(l.required&&!I[e])return x(d.wY.checkboxInAGroupMustBeSelected),!1;return!0},reset:()=>{S(F),x(void 0)},hasChanges:()=>!F.every((e,l)=>e===I[l]),getSessionStorageKey:()=>n,type:"checkboxes"}),[u,F,i,I,n,S]),(0,r.useEffect)(()=>{v&&u.every((e,l)=>!e.required||I[l])&&x(void 0)},[u,I,v]),(0,t.jsxs)(m.A,{className:"CheckboxesElement-module__CheckboxesElementGroup__X_jux",children:[(0,t.jsx)(m.A.Label,{className:"CheckboxesElement-module__CheckboxesElementGroupLabel__jAG2M",children:i}),o&&(0,t.jsx)(m.A.Caption,{className:"CheckboxesElement-module__CheckboxesElementGroupDescription__ob7y5",children:(0,t.jsx)(c.vb,{html:o,className:"markdown-body note text-small mb-2"})}),u.map((e,l)=>(0,t.jsxs)(g.A,{required:e.required??!1,children:[(0,t.jsx)(p.A,{ref:0===l?h:void 0,checked:I[l],onChange:()=>{S(I.map((e,a)=>a===l?!e:e))}}),(0,t.jsx)(g.A.Label,{className:"CheckboxesElement-module__checkboxOptionLabel__kwZCb",children:(0,t.jsx)(c.JR,{html:e.labelHTML})})]},l)),v&&(0,t.jsx)(m.A.Validation,{variant:"error",children:v})]})};I.displayName="CheckboxesElementInternal",F.displayName="CheckboxesElement",I.displayName="CheckboxesElementInternal";let S={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DropdownElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"options",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"multiple",storageKey:null},{alias:"defaultOptionIndex",args:null,kind:"ScalarField",name:"default",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementDropdown",abstractKey:null};S.hash="c5f5c78821adbd1825aa041b7a1063bf";var _=a(67323),v=a(44640),x=a(18990);let C="DropdownElement-module__dropdownElementButtonText__sKkgU";var j=a(34164);function T({children:e,label:l,required:a,description:n,validationResult:i,className:s}){let o=(0,r.useId)(),u=(0,r.useId)(),d=(0,r.useId)();return(0,t.jsxs)("div",{className:(0,j.$)("ElementWrapper-module__elementWrapperContainer__o5Uth",s),children:[(0,t.jsxs)(g.A,{required:a??!1,children:[(0,t.jsx)(g.A.Label,{id:o,className:(0,j.$)("ElementWrapper-module__elementLabel__ZrTgs",n&&"ElementWrapper-module__elementLabelWithDescription__YOLS5"),children:l}),n&&(0,t.jsx)(g.A.Caption,{id:u,className:"ElementWrapper-module__elementDescription__oWqaP",children:(0,t.jsx)(c.vb,{html:n,className:"markdown-body note text-small mb-2"})})]}),e({labelId:o,descriptionIds:`${u} ${d}`}),i&&(0,t.jsx)(g.A.Validation,{id:d,variant:"error",className:"ElementWrapper-module__validationMessage__aztqr",children:i})]})}function K({itemId:e,indexOfFormElement:l,defaultValuesById:a,optionChoices:n}){if(!e)return[];let t=new Set(function(e){if(!e.trim())return[];try{let l=`[${e}]`;return JSON.parse(l)}catch{return[]}}((0,y.k)({id:e,indexOfFormElement:l,value:"",defaultValuesById:a})));return n.filter(e=>t.has(e))}T.displayName="ElementWrapper";let L=({ref:e,elementRef:l,index:a,sessionStorageKey:n,defaultValuesById:i,onFieldChange:s})=>{let r=(0,o.useFragment)(S,l);if(!r.options)return null;let u=h(n,"",r.label,r.__id);return(0,t.jsx)(N,{...r,index:a,ref:e,type:"dropdown",sessionStorageKey:u,defaultValuesById:i,onFieldChange:s})};L.displayName="DropdownElement";let N=({ref:e,itemId:l,index:a,sessionStorageKey:n,label:i,options:o,descriptionHTML:u,required:c,multiple:m,defaultOptionIndex:g,defaultValuesById:p,onFieldChange:y})=>{let k=(0,r.useRef)(null),h=(0,r.useRef)(null),b=null!=g,F=(0,r.useMemo)(()=>m||c||b?o:["None",...o],[b,m,o,c]),I=(0,r.useMemo)(()=>{let e=K({itemId:l,indexOfFormElement:a,defaultValuesById:p,optionChoices:F});return 0===e.length&&b&&g>=0&&g<F.length?[F[g]]:(0===e.length&&F.length>0&&!m&&(e=[F[0]]),e)},[g,p,b,a,l,m,F]),[S,j]=(0,s.Fo)(n,I),L=(0,r.useRef)(S);(0,r.useEffect)(()=>{L.current=S},[S]),(0,r.useEffect)(()=>{let e=p&&Object.keys(p).length>0;if(y&&e){let e=K({itemId:l,indexOfFormElement:a,defaultValuesById:p,optionChoices:F});j(e),L.current=e}},[p,a,l,F,j,y]),(0,r.useEffect)(()=>{if(y){let e=L.current,n=K({itemId:l,indexOfFormElement:a,defaultValuesById:p,optionChoices:F}),t=new Set(e),i=new Set(n);t.size===i.size&&[...t].every(e=>i.has(e))||y(l,a,e.map(e=>`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`).join(", "))}},[S,l,a,y,p,F]);let[N,P]=(0,r.useState)(void 0),w=(0,r.useCallback)(e=>()=>{S.includes(e)?m&&j(S.filter(l=>l!==e)):m?j([...S,e]):j([e])},[m,S,j]);(0,r.useImperativeHandle)(e,()=>({focus:()=>k.current?.focus(),markdown:()=>f(i,S.join(", ")),validate:()=>!c||0!==S.length||(P(d.wY.missingDropdownSelection),!1),reset:()=>{j(I),P(void 0)},hasChanges:()=>{if(S.length!==I.length)return!0;for(let e of S)if(!I.includes(e))return!0;return!1},getSessionStorageKey:()=>n,type:"dropdown"}),[I,i,c,S,n,j]),(0,r.useEffect)(()=>{S.length>0&&P(void 0)},[S]);let[A,E]=(0,r.useState)(!1),V=0===S.length?"None":S.join(", ");return(0,r.useEffect)(()=>{h.current&&E(h.current.scrollWidth>h.current.clientWidth)},[h,E]),(0,t.jsx)(T,{label:i,description:u,required:c,validationResult:N,className:"DropdownElement-module__dropdownElementContainer__LSYlA",children:({labelId:e,descriptionIds:l})=>(0,t.jsxs)(_.W,{anchorRef:k,children:[A?(0,t.jsx)(v.m,{text:V,children:(0,t.jsx)(_.W.Button,{"aria-labelledby":e,"aria-describedby":l,children:(0,t.jsx)("span",{ref:h,className:C,children:V})})}):(0,t.jsxs)(_.W.Button,{"aria-labelledby":e,"aria-describedby":l,children:[" ",(0,t.jsx)("span",{ref:h,className:C,children:V})]}),(0,t.jsx)(_.W.Overlay,{width:"medium",side:"outside-top",maxHeight:"medium",className:"DropdownElement-module__dropdownMenuOverlay__WgE2t",children:(0,t.jsx)(x.l,{selectionVariant:m?"multiple":"single",children:F.map((e,l)=>(0,t.jsx)(x.l.Item,{selected:S.includes(e),onSelect:w(e),children:e},l))})})]})})};N.displayName="DropdownElementInternal",L.displayName="DropdownElement",N.displayName="DropdownElementInternal";let P={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarkdownElement_input",selections:[{alias:null,args:null,kind:"ScalarField",name:"contentHTML",storageKey:null}],type:"IssueFormElementMarkdown",abstractKey:null};P.hash="bcf5223d492443ecf5db4594632948d9";var w=a(15924),A=a(53351);let E=()=>(0,t.jsx)("div",{className:"FormElementLoading-module__loadingSkeletonContainer__eVPn_",children:(0,t.jsx)(A.Q,{borderRadius:"pill",height:"lg",width:"400px"})});E.displayName="FormElementLoading";let V=({elementRef:e})=>{let l=(0,o.useFragment)(P,e);return(0,t.jsx)(D,{verifiedHTML:l.contentHTML,type:"markdown"})};V.displayName="MarkdownElement";let D=({verifiedHTML:e})=>(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)(E,{}),children:(0,t.jsx)(w.G,{verifiedHTML:e})});D.displayName="MarkdownElementInternal";let R={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextAreaElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementTextarea",abstractKey:null};R.hash="77263c4a3e8e6f76c8ddc25b88931e27";var M=a(83145),O=a(65820);let B=({ref:e,elementRef:l,index:a,sessionStorageKey:n,...i})=>{let s=(0,o.useFragment)(R,l),r=h(n,"",s.label,s.__id);return(0,t.jsx)(U,{...s,...i,index:a,ref:e,type:"textarea",sessionStorageKey:r})};B.displayName="TextAreaElement";let U=({ref:e,itemId:l,sessionStorageKey:a,index:n,label:i,descriptionHTML:o,placeholder:u,required:c,value:m,render:g,subject:p,defaultValuesById:h,onSave:b,setIsFileUploading:F,onFieldChange:I})=>{let S=(0,r.useMemo)(()=>(0,y.k)({id:l,indexOfFormElement:n,value:m,defaultValuesById:h}),[l,n,m,h]),[_,v]=(0,s.Fo)(a,S),[x,C]=(0,r.useState)(!1),j=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=h&&Object.keys(h).length>0;if(I&&e&&!x){let e=(0,y.k)({id:l,indexOfFormElement:n,value:m,defaultValuesById:h});e!==_&&e!==m&&v(e)}},[h,n,l,v,m,x,_,I]);let K=e=>{C(!0),v(e),I&&I(l,n,e),j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{C(!1),j.current=null},500)},L=(0,r.useRef)(null),[N,P]=(0,r.useState)(void 0);return(0,r.useImperativeHandle)(e,()=>({focus:()=>L.current?.focus(),markdown:()=>f(i,g&&_!==k?`\`\`\`${g}
${_.replace(/(```)(\w+)/g,"").replace(/(```)/g,"").trim()}
\`\`\``:_),validate:()=>{let e=(0,d.sT)(_,c??!1);return P(e.errorMessage),e.isValid},reset:()=>{v(S),P(void 0)},hasChanges:()=>_!==S,getSessionStorageKey:()=>a,type:"textarea"}),[S,i,g,c,a,v,_]),(0,r.useEffect)(()=>{N&&(0,d.sT)(_,c??!1).isValid&&P(void 0)},[c,_,N]),(0,t.jsx)(T,{label:i,required:c,description:o,validationResult:N,className:"TextAreaElement-module__TextAreaElementContainer__mCQc_",children:({labelId:e,descriptionIds:l})=>g?(0,t.jsx)(O.Ay,{"aria-labelledby":e,"aria-describedby":l,ref:L,placeholder:u??void 0,value:_,className:"TextAreaElement-module__codeViewTextArea__HWL4h",onChange:e=>{K(e.target.value)}}):(0,t.jsx)(M.hF,{labelledBy:e,"aria-describedby":l,ref:L,placeholder:u??void 0,value:_,onChange:e=>{K(e)},onSave:b,saveButtonTrailingIcon:!1,subject:p,setIsFileUploading:F})})};U.displayName="TextAreaElementInternal",B.displayName="TextAreaElement",U.displayName="TextAreaElementInternal";let $={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextInputElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementInput",abstractKey:null};$.hash="20ef068a2834313afaaf43e8b01d0d49";var H=a(38750);let q=({ref:e,elementRef:l,sessionStorageKey:a,...n})=>{let i=(0,o.useFragment)($,l),s=h(a,"",i.label,i.__id);return(0,t.jsx)(W,{...i,...n,type:"input",sessionStorageKey:s,ref:e})};q.displayName="TextInputElement";let W=({ref:e,sessionStorageKey:l,itemId:a,index:n,label:i,descriptionHTML:o,placeholder:u,required:c,value:m,defaultValuesById:g,onFieldChange:p})=>{let k=(0,r.useMemo)(()=>(0,y.k)({id:a,indexOfFormElement:n,value:m,defaultValuesById:g}),[a,n,m,g]),[h,b]=(0,s.Fo)(l,k),[F,I]=(0,r.useState)(!1),S=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=g&&Object.keys(g).length>0;if(p&&e&&!F){let e=(0,y.k)({id:a,indexOfFormElement:n,value:m,defaultValuesById:g});e!==h&&e!==m&&b(e)}},[g,n,F,a,p,b,m,h]);let _=(0,r.useRef)(null),[v,x]=(0,r.useState)(void 0);return(0,r.useImperativeHandle)(e,()=>({focus:()=>_.current?.focus(),markdown:()=>f(i,h),validate:()=>{let e=(0,d.sT)(h,c??!1);return x(e.errorMessage),e.isValid},reset:()=>{b(k),x(void 0)},hasChanges:()=>h!==k,getSessionStorageKey:()=>l,type:"input"}),[k,i,c,l,b,h]),(0,r.useEffect)(()=>{v&&(0,d.sT)(h,c??!1).isValid&&x(void 0)},[c,h,v]),(0,t.jsx)(T,{label:i,description:o,required:c,validationResult:v,children:({labelId:e,descriptionIds:l})=>(0,t.jsx)(H.A,{ref:_,"aria-labelledby":e,"aria-describedby":l,placeholder:u??void 0,value:h,className:"TextInputElement-module__issueFormTextField__tilLQ",onChange:e=>{var l;l=e.target.value,I(!0),b(l),p&&p(a,n,l),S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{I(!1),S.current=null},500)}})})};W.displayName="TextInputElementInternal",q.displayName="TextInputElement",W.displayName="TextInputElementInternal";let z="IssueFormElements-module__formElementsContainer__uT6s9",G=e=>"elements"in e?(0,t.jsx)(Q,{...e}):(0,t.jsx)(Y,{...e});G.displayName="IssueFormElements";let Q=({elements:e,outputRef:l,sessionStorageKey:a,...n})=>{let i=J(e.length,l);return(0,t.jsx)("div",{className:z,children:e.map((e,l)=>{let s="markdown"===e.type?"":h(a,e.type,e.label,l);switch(e.type){case"markdown":return(0,t.jsx)(D,{...e},l);case"textarea":return(0,t.jsx)(U,{index:l,...e,ref:i[l],sessionStorageKey:s,...n},l);case"input":return(0,t.jsx)(W,{index:l,...e,ref:i[l],sessionStorageKey:s,...n},l);case"dropdown":return(0,t.jsx)(N,{index:l,...e,ref:i[l],sessionStorageKey:s},l);case"checkboxes":return(0,t.jsx)(I,{index:l,...e,ref:i[l],sessionStorageKey:s},l)}})})};Q.displayName="IssueFormElementsViaPayload";let Y=({issueFormRef:e,outputRef:l,...a})=>{let n=(0,o.readInlineData)(i,e),s=J(n.elements.length,l);return(0,t.jsx)("div",{className:z,children:n.elements.map((e,l)=>{switch(e.__typename){case"IssueFormElementMarkdown":return(0,t.jsx)("div",{className:"IssueFormElements-module__markdownElementWrapper__c00FO",children:(0,t.jsx)(V,{elementRef:e})},l);case"IssueFormElementInput":return(0,t.jsx)(q,{index:l,elementRef:e,ref:s[l],...a},l);case"IssueFormElementDropdown":return(0,t.jsx)(L,{index:l,elementRef:e,ref:s[l],...a},l);case"IssueFormElementTextarea":return(0,t.jsx)(B,{index:l,elementRef:e,ref:s[l],...a},l);case"IssueFormElementCheckboxes":return(0,t.jsx)(F,{index:l,elementRef:e,ref:s[l],...a},l);default:return null}})})};Y.displayName="IssueFormElementsViaQuery";let J=(e,l)=>{let a=(0,r.useMemo)(()=>Array.from({length:e},()=>(0,r.createRef)()),[e]);return(0,r.useImperativeHandle)(l,()=>({markdown:()=>a.map(e=>e.current?.markdown()??"").filter(e=>e.length>0).join("\n\n"),getInvalidInputs:()=>a.map(e=>e.current).filter(e=>null!==e&&!e.validate()),validateInputs:()=>!a.map(e=>e.current?.validate()??!0).some(e=>!e),resetInputs:(e={})=>{let{textOnly:n=!1}=e;for(let e of a){if(!n){e.current?.reset();continue}(e.current?.type==="input"||e.current?.type==="textarea"||e.current?.type==="markdown")&&e.current?.reset()}l.current?.clearSessionStorage()},hasChanges:()=>a.some(e=>e.current?.hasChanges()??!1),clearSessionStorage:()=>{let e=a.map(e=>e.current?.getSessionStorageKey()).filter(e=>null!==e);(0,s.D6)(e)}}),[a,l]),a}},49242(e,l,a){a.d(l,{k:()=>t,y:()=>n});let n="template-field",t=({id:e,indexOfFormElement:l,value:a,defaultValuesById:t})=>{let i=t&&e?t[e]:void 0;return void 0===i&&t&&void 0!==l&&(i=t[`${n}-${l}`]),i??a??""}},6009(e,l,a){a.d(l,{H:()=>r});var n=a(74848),t=a(63291),i=a(18990),s=a(96540);function r({issue:e,onLinkClick:l}){let a=(0,s.useCallback)(()=>{l?.(e.url)},[e.url,l]),{sourceIcon:r}=(0,t.e)({state:e.state,stateReason:e.stateReason}),o=r("Issue");return(0,n.jsxs)(i.l.LinkItem,{href:e.url,target:"_blank",onClick:a,children:[(0,n.jsx)(i.l.LeadingVisual,{children:(0,n.jsx)(o,{})}),(0,n.jsx)("span",{className:"markdown-title",children:e.title}),(0,n.jsxs)(i.l.Description,{variant:"block",children:[e.repository.nameWithOwner,"#",e.number]})]})}r.displayName="IssueItem"},83529(e,l,a){a.d(l,{h:()=>i});var n=a(74848),t=a(4763);function i({title:e,headingProps:{...l}={},...a}){return(0,n.jsx)(t.X,{title:e,headingProps:l,...a,readonly:!0})}i.displayName="ReadonlySectionHeader"},73635(e,l,a){a.d(l,{w:()=>s});var n=a(74848),t=a(94709),i=a(34164);function s({children:e,emptyText:l,sectionHeader:a,sectionFooter:s,hideDivider:r,id:o,sx:u,className:d}){return(0,n.jsxs)(t.az,{"data-testid":o??"sidebar-section",sx:{marginBottom:2*!r,":after":r?void 0:{content:'""',position:"absolute",height:"1px",bottom:"-8px",left:"8px",right:"8px",bg:"border.muted"},...u},className:(0,i.$)("Section-module__SectionContainer__DFzgf",d),children:[(0,n.jsxs)("div",{className:"Section-module__headerContentWrapper__gjSPk",children:[a,l&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"Section-module__emptyText__P72MM",children:l}),(0,n.jsx)("div",{className:"Section-module__hiddenChildrenContainer__MgzXj",children:e})]})]}),!l&&(0,n.jsx)("div",{className:"Section-module__childrenContainer__tpT2L",children:e}),s]})}s.displayName="Section"},4763(e,l,a){a.d(l,{X:()=>d});var n=a(74848),t=a(38621),i=a(21373),s=a(44640),r=a(94709),o=a(34164),u=a(79044);let d=({ref:e,id:l,title:a,buttonProps:d,headingProps:{as:c="h3",...m}={},readonly:g,errorPresent:p,...y})=>{let k=g?{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",pb:"8px",...y.sx}:{width:"100%",position:"relative",display:"flex",alignItems:"center",...y.sx},f=(0,n.jsxs)(r.az,{sx:k,children:[(0,n.jsx)(r.DZ,{id:l,as:c,sx:{position:g?"relative":"absolute",...m},className:"SectionHeader-module__SectionHeaderTitle__qcG5P",children:a}),!g&&(0,n.jsxs)(i.Q,{ref:e,...d,variant:"invisible",size:"small",trailingAction:()=>p?(0,n.jsx)(t.AlertIcon,{className:"fgColor-danger"}):(0,n.jsx)(t.GearIcon,{}),block:!0,className:"SectionHeader-module__editButton__yZJS4","aria-describedby":p?`error-message-${l}`:void 0,children:[(0,n.jsx)("span",{className:(0,o.$)("sr-only","SectionHeader-module__screenReaderText__fqUQ1"),children:u.k.editFieldValueLabel(a)}),p&&(0,n.jsx)("span",{id:`error-message-${l}`,className:"sr-only",children:u.k.errorUpdatingIssueField})]})]});return p&&!g?(0,n.jsx)(s.m,{text:u.k.errorUpdatingIssueField,children:f}):f};d.displayName="SectionHeader",d.displayName="SectionHeader"},14347(e,l,a){a.d(l,{Qq:()=>Z,rC:()=>ee,sC:()=>X,b2:()=>J});var n,t,i,s,r,o,u,d=a(74848);let c={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionLazyFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"AssigneeConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAgent",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],type:"Bot",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}],storageKey:null}],storageKey:"suggestedActors(first:10)"}],type:"Issue",abstractKey:null};c.hash="627359ef0b6d54885728c97ff256ba6d";let m=(n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},s={alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"isAgent",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},u=[t={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionAssignees",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:20}],concreteType:"AssigneeConnection",kind:"LinkedField",name:"assignedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n,t,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},i,{kind:"InlineFragment",selections:[s,r,o],type:"Bot",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}],storageKey:null}],storageKey:"assignedActors(first:20)"},{alias:null,args:null,concreteType:"AgentAssignment",kind:"LinkedField",name:"agentAssignments",plural:!0,selections:[{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"assignee",plural:!1,selections:[n,t,i,s,r,o],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"assigner",plural:!1,selections:[{kind:"InlineFragment",selections:u,type:"User",abstractKey:null},{kind:"InlineFragment",selections:u,type:"Bot",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Issue",abstractKey:null});m.hash="7b29509714897238afac081c0ee03934";let g={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionCopilotRepositoryFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCopilotAgentEnabled",storageKey:null}],type:"Repository",abstractKey:null};g.hash="d0d5039c0af037561a9f4ee503f04833";let p={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{args:null,kind:"FragmentSpread",name:"AssigneesSectionCopilotRepositoryFragment"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"AssigneesSectionAssignees"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanAssign",storageKey:null}],type:"Issue",abstractKey:null};p.hash="d3c6b2757554e31ea145489e96bddf6e";let y={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionViewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAgent",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],type:"Bot",abstractKey:null}],type:"Actor",abstractKey:"__isActor"};y.hash="46cd158d7367cb350d33a4333817d807";var k=a(16522),f=a(38621),h=a(21373),b=a(16135);let F=e=>{let l,a,n=(0,k.c)(6),{ref:t,onClick:i}=e,{sendClickAnalyticsEvent:s}=(0,b.S)();n[0]!==i||n[1]!==s?(l=()=>{s({category:"copilot_assignment",action:"click_assign_to_copilot_button",label:"ref_cta:assign_to_copilot"}),i()},n[0]=i,n[1]=s,n[2]=l):l=n[2];let r=l;return n[3]!==r||n[4]!==t?(a=(0,d.jsx)(h.Q,{ref:t,leadingVisual:f.AgentIcon,size:"small",block:!0,onClick:r,children:"Assign to Copilot"}),n[3]=r,n[4]=t,n[5]=a):a=n[5],a};F.displayName="CopilotAssignmentButton",F.displayName="CopilotAssignmentButton";var I=a(36795),S=a(96540),_=a(18990),v=a(67994),x=a(35592);function C(e){let l=(0,k.c)(5),{login:a,id:n,avatarUrl:t,isCopilot:i}=e;if(i){let e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,d.jsx)(v.C,{}),l[0]=e):e=l[0],e}{let e,i=`@${a}`;return l[1]!==t||l[2]!==n||l[3]!==i?(e=(0,d.jsx)(x.r,{src:t,size:20,alt:i},n),l[1]=t,l[2]=n,l[3]=i,l[4]=e):e=l[4],e}}C.displayName="AssigneeVisual";var j=a(31231),T=a(33774),K=a(24043);let L="Assignees-module__assigneeNameLabel__RULR6";function N(e){let l,a,n,t,i,s=(0,k.c)(16),{assignees:r,testId:o}=e,{sendAnalyticsEvent:u}=(0,b.s)();s[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,K.G7)("issue_cca_visualization"),s[0]=l):l=s[0];let c=l;s[1]!==u?(a=()=>{u("analytics.click","ISSUE_SIDEBAR_ASSIGNEE_CLICK")},s[1]=u,s[2]=a):a=s[2];let m=a;s[3]!==u?(n=()=>{u("analytics.click","ISSUE_SIDEBAR_ASSIGNEE_RIGHT_CLICK")},s[3]=u,s[4]=n):n=s[4];let g=n;if(s[5]!==r||s[6]!==m||s[7]!==g||s[8]!==o){let e;s[10]!==m||s[11]!==g||s[12]!==o?(e=e=>{let{login:l,name:a,avatarUrl:n,profileResourcePath:t,id:i,isCopilot:s,displayName:r,isAgent:u,assignedAgents:p}=e,y=c&&p&&p.length>0;return(0,d.jsxs)(S.Fragment,{children:[(0,d.jsxs)(_.l.LinkItem,{href:t??void 0,target:"_blank",onClick:m,onContextMenu:g,...(0,j.Sr)(l,{isCopilot:s,isAgent:u}),children:[(0,d.jsx)(_.l.LeadingVisual,{children:(0,d.jsx)(C,{login:l,id:i,avatarUrl:n,isCopilot:s})}),(0,d.jsx)("div",{"data-testid":o,className:L,children:(0,d.jsx)(T.v,{login:r,profileName:a,isAgent:u})})]}),y&&(0,d.jsx)("li",{children:(0,d.jsx)(_.l,{"aria-label":`Agents assigned by ${r}`,children:p.map((e,l)=>{let a=l===p.length-1;return(0,d.jsxs)(_.l.LinkItem,{href:e.profileResourcePath??void 0,target:"_blank",onClick:m,onContextMenu:g,className:"Assignees-module__nestedAgentItem__kZlYO","data-testid":"nested-agent-item",...(0,j.Sr)(e.login,{isCopilot:e.isCopilot,isAgent:e.isAgent}),children:[(0,d.jsx)(_.l.LeadingVisual,{children:(0,d.jsxs)("span",{className:"Assignees-module__nestedAgentVisual__OZiCP",children:[(0,d.jsx)("span",{className:`Assignees-module__connector__gS5Ti ${a?"Assignees-module__connectorLast__tBVn9":"Assignees-module__connectorMiddle__hj5dO"}`,"aria-hidden":"true"}),(0,d.jsx)(C,{login:e.login,id:e.id,avatarUrl:e.avatarUrl,isCopilot:e.isCopilot})]})}),(0,d.jsx)("div",{className:L,children:(0,d.jsx)(T.v,{login:e.displayName,profileName:e.name,isAgent:e.isAgent})})]},e.id)})})})]},i)},s[10]=m,s[11]=g,s[12]=o,s[13]=e):e=s[13],t=[...r].sort(P).map(e),s[5]=r,s[6]=m,s[7]=g,s[8]=o,s[9]=t}else t=s[9];return s[14]!==t?(i=(0,d.jsx)(_.l,{variant:"full",className:"Assignees-module__assigneesList__ZKD6F",children:t}),s[14]=t,s[15]=i):i=s[15],i}function P(e,l){return e.login===l.login?0:e.login>l.login?1:-1}N.displayName="Assignees";var w=a(24619),A=a(50325),E=a(59096),V=a(49344),D=a(67680),R=a(7210),M=a(71313),O=a(56144),B=a(18312),U=a(34784),$=a(95677),H=a(6549),q=a(83529),W=a(73635),z=a(4763);let G=(e,l)=>{let a=e.create(l.id,l.__typename);for(let[e,n]of Object.entries({id:l.id,login:l.login,name:l.name,avatarUrl:l.avatarUrl,isCopilot:l.isCopilot,profileResourcePath:l.profileResourcePath,__typename:l.__typename,displayName:l.displayName}))a.setValue(n,e);return a},Q=()=>(0,d.jsx)(q.h,{title:$.k.sectionTitles.assignees});Q.displayName="ReadonlyAssigneesSectionHeader";let Y=({sectionHeader:e,onSelfAssignClick:l,assignees:a,agentAssignments:n,readonly:t,copilotAssignmentButton:i})=>{let s=t?$.k.emptySections.assignees(!1):(0,d.jsxs)(d.Fragment,{children:[$.k.emptySections.assignees(!0),(0,d.jsx)(h.Q,{variant:"link",onClick:l,className:"AssigneesSection-module__selfAssignButton__D3sTs",children:$.k.emptySections.selfAssign})]}),r=i?(0,d.jsx)("div",{className:"width-full d-flex flex-column flex-items-stretch pt-2 px-2",children:(0,d.jsx)("div",{children:i})}):void 0,o=(0,S.useMemo)(()=>{let e=a.map(e=>({...e,displayName:e.displayName||e.login,isCopilot:e.isCopilot??!1,isAgent:e.isAgent??!1}));if(!(0,K.G7)("issue_cca_visualization")||!n?.length)return e;let l=new Set(a.map(e=>e.login)),t=n.filter(e=>e?.assignee?.login&&e?.assigner?.login&&l.has(e.assignee.login)&&l.has(e.assigner.login));if(!t.length)return e;let i=new Set(t.map(e=>e?.assignee?.id));return e.filter(e=>!i.has(e.id)).map(e=>({...e,assignedAgents:t.filter(l=>l?.assigner?.login===e.login).map(e=>({id:e?.assignee?.id??"",login:e?.assignee?.login??"",avatarUrl:e?.assignee?.avatarUrl??"",name:e?.assignee?.displayName??e?.assignee?.login??null,displayName:e?.assignee?.displayName??e?.assignee?.login??"",profileResourcePath:`/apps/${e?.assignee?.login}`,isCopilot:e?.assignee?.isCopilot??!1,isAgent:e?.assignee?.isAgent??!0}))}))},[a,n]);return(0,d.jsx)(W.w,{id:"sidebar-assignees-section",sectionHeader:e,sectionFooter:r,emptyText:a.length>0?void 0:s,children:(0,d.jsx)(N,{assignees:o,testId:H.Y.assignees})})};function J({repo:e,owner:l,readonly:a,assignees:n,onSelectionChange:t,className:i,sx:s,repository:r,issueNumber:o,onIssueUpdate:u,...c}){let m=(0,D.u)(),g={repo:e,owner:l,readonly:a,includeAuthorableBots:!1,includeAssignableBots:!0,assigneeTokens:[],assignees:n,onSelectionChange:t,anchorElement:(e,l)=>(0,d.jsx)(z.X,{title:$.k.sectionTitles.assignees,buttonProps:{...e,id:"assignees-select-menu"},ref:l}),...c},p=a?(0,d.jsx)(Q,{}):(0,d.jsx)(V._,{...g});return(0,d.jsx)(Y,{sectionHeader:p,onSelfAssignClick:()=>t(m?[m]:[]),assignees:n,readonly:a,sx:s,className:i})}Y.displayName="AssigneesSection",J.displayName="CreateIssueAssigneesSection";let X=m,Z=p;function ee({issue:e,viewer:l,lazyKey:a,onIssueUpdate:n,insideSidePanel:t,readonly:i}){let{sendAnalyticsEvent:s}=(0,b.s)(),r=(0,U.useFragment)(Z,e),{repository:o,repository:{owner:{login:u},name:m,isArchived:p},number:k}=r,f=(0,U.useFragment)(g,r.repository),h=(0,U.useFragment)(X,r),_=(0,U.useFragment)(y,l),{id:v,viewerCanAssign:x}=r,C=(0,U.useFragment)(c,a),j=(0,S.useMemo)(()=>(C?.suggestedActors?.nodes||[]).flatMap(e=>e?[e]:[]),[C?.suggestedActors?.nodes]),T=(0,S.useMemo)(()=>(h.assignedActors?.nodes||[]).flatMap(e=>e?[e]:[]),[h.assignedActors?.nodes]),{addToast:L}=(0,O.Y6)(),N=(0,B.useRelayEnvironment)(),P=(0,S.useRef)(null),D=(0,K.G7)("issues_cca_assign_actor_with_agent"),H=i||!x||p,q=(0,S.useMemo)(()=>{let e=T.some(e=>(0,w.v)(e.login));return!H&&f.isCopilotAgentEnabled&&!e},[T,H,f.isCopilotAgentEnabled]),[W,J]=(0,S.useState)(!1),[ee,el]=(0,S.useState)(0),ea=(0,S.useCallback)(()=>{J(!0),el(e=>e+1)},[J]),en=(0,S.useCallback)(()=>{J(!1)},[J]),et=(0,S.useCallback)(e=>{(0,A.j)({environment:N,input:{issueId:v,assignedActors:e,participants:j},onError:()=>L({type:"error",message:R.S.couldNotUpdateAssignees}),onCompleted:n})},[L,N,v,n,j]),ei=(0,S.useCallback)(e=>{let l=T.some(e=>(0,w.v)(e.login)),a=e.some(e=>e.isCopilot),n=e.filter(e=>!e.isCopilot),t=q?n:e;if(D&&_){let l=new Set(T.filter(e=>e.isAgent&&!(0,w.v)(e.login)).map(e=>e.login));if(e.some(e=>e.isAgent&&!(0,w.v)(e.login)&&!l.has(e.login))){let l=T.some(e=>e.login===_.login),a=e.some(e=>e.login===_.login);l||a||!(e.length<E.Y)||(t=[...t,_])}}q&&((e,l)=>{if(e.length!==l.length)return!1;let a=new Set(e.map(e=>e.id));return l.every(e=>a.has(e.id))})(t,T.filter(e=>!(0,w.v)(e.login)))||et(t),a&&q&&!l&&ea()},[T,q,et,ea,D,_]),es=(0,S.useCallback)(e=>{e&&(0,U.commitLocalUpdate)(N,l=>{let a=[{...e,isCopilot:!0,__typename:"Bot"}],n=T.some(e=>e.login===_?.login),t=D&&!n&&T.length+1<E.Y;_&&t&&a.push(_),((e,l,a)=>{let n=e.get(l);if(n){let l=n.getLinkedRecord("assignedActors(first:20)");if(l){let n=l.getLinkedRecords("nodes")||[];for(let l of a)if(!n.some(e=>e&&e.getValue("id")===l.id)){let a=e.get(l.id);a||(a=G(e,l)),n=[...n,a]}let t=n.sort((e,l)=>{let a=e?.getValue("login")||"",n=l?.getValue("login")||"";return a.toLowerCase().localeCompare(n.toLowerCase())});l.setLinkedRecords(t,"nodes")}}})(l,v,a)}),n?.()},[D,T,N,v,n,_]),er=q?(0,d.jsx)(F,{onClick:ea,ref:P}):void 0,eo=q?(0,d.jsx)(I.B,{isOpen:W,onClose:en,repository:{name:o.name,owner:{login:o.owner.login}},issueNumbers:[k],onAssignmentComplete:es,returnFocusRef:P}):void 0,eu=(0,S.useMemo)(()=>H?(0,d.jsx)(Q,{}):(0,d.jsx)(V.I,{repo:m,owner:u,number:k,anchorElement:(e,l)=>(0,d.jsx)(z.X,{title:$.k.sectionTitles.assignees,buttonProps:{...e,onClick:l=>{s("analytics.click","ISSUE_SIDEBAR_ASSIGNEE_SECTION_EDIT_CLICK"),e.onClick?.(l)}},ref:l}),readonly:H,assignees:T,onSelectionChange:e=>ei(e),insidePortal:t,suggestions:j},`assignee-picker-${ee}`),[H,m,u,k,T,t,j,ee,s,ei]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Y,{sectionHeader:eu,assignees:T,agentAssignments:h.agentAssignments,onSelfAssignClick:()=>_?et([_]):M.l,readonly:H,copilotAssignmentButton:er}),eo]})}ee.displayName="EditIssueAssigneesSection"},98185(e,l,a){a.d(l,{E:()=>eO,u:()=>eM});var n,t,i,s,r,o,u,d,c,m,g,p,y,k,f,h,b,F,I,S,_,v,x,C,j,T,K,L,N,P,w=a(74848);let A=(s=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:i=[n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],type:"IssueFieldText",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldSingleSelect",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldDate",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldNumber",abstractKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FieldsSectionFragment",selections:[n,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},{kind:"InlineFragment",selections:[{alias:"issueFieldsEnabled",args:[{kind:"Literal",name:"name",value:"issue_fields"}],kind:"ScalarField",name:"isFeatureEnabled",storageKey:'isFeatureEnabled(name:"issue_fields")'},{alias:null,args:[{kind:"Literal",name:"first",value:100}],concreteType:"IssueFieldsConnection",kind:"LinkedField",name:"pinnedIssueFields",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:s,storageKey:null}],storageKey:"pinnedIssueFields(first:100)"}],type:"Organization",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanSetFields",storageKey:null},{args:null,kind:"FragmentSpread",name:"FieldsSectionFieldValues"},{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[n,t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:s,storageKey:null}],storageKey:null}],type:"Issue",abstractKey:null});A.hash="7eff93ed6fefa678f233d8ef70650b04";let E=(u=[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FieldsSectionFieldValues",selections:[r,{alias:null,args:[{kind:"Literal",name:"first",value:25}],concreteType:"IssueFieldValueConnection",kind:"LinkedField",name:"issueFieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:u,type:"IssueFieldText",abstractKey:null}],storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:u,type:"IssueFieldSingleSelect",abstractKey:null}],storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"IssueFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:u,type:"IssueFieldDate",abstractKey:null}],storageKey:null},d],type:"IssueFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:u,type:"IssueFieldNumber",abstractKey:null}],storageKey:null},{alias:"numberValue",args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldNumberValue",abstractKey:null}],storageKey:null}],storageKey:"issueFieldValues(first:25)"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanSetFields",storageKey:null},{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[r,o],storageKey:null}],type:"Issue",abstractKey:null});E.hash="461a0c55032c3a4bf8d10a5a74a2fd22";var V=a(24043),D=a(29610),R=a(99307),M=a(53351),O=a(71313),B=a(86280),U=a(46249),$=a(44640),H=a(96540),q=a(18312);a(69487);var W=a(30888),z=a(73635),G=a(38621),Q=a(21373);let Y=({ref:e,...l})=>{let{anchorProps:a,inactive:n=!1,disabled:t=!1,onClick:i}=l;return(0,w.jsx)("div",{className:"AddIssueFieldButton-module__container__piQcn",children:(0,w.jsx)(Q.Q,{leadingVisual:n?G.AlertIcon:void 0,trailingVisual:n?void 0:G.PlusIcon,size:"small",ref:e,...a,className:"AddIssueFieldButton-module__button__ogQlK",inactive:n||t,onClick:e=>{t||(i(),a?.onClick?.(e))},children:"Add field"})})};Y.displayName="AddIssueFieldButton",Y.displayName="AddIssueFieldButton";var J=a(79044),X=a(26587);function Z({owner:e,fieldsSet:l,onIssueFieldSelected:a,markInteractionStart:n,inactive:t=!1,disabled:i=!1,onButtonElementReceived:s,hideAddFieldButton:r=!1}){let o=(0,H.useMemo)(()=>(e,l)=>(l?.current&&s?.(l.current),(0,w.jsx)(Y,{anchorProps:e,ref:l,onClick:n,inactive:t,disabled:i})),[n,t,i,s]),u=(0,H.useCallback)(e=>{let l=e[0];l&&a((0,D.YQ)(l))},[a]);return r?null:(0,w.jsx)(X.iF,{owner:e,fieldsSet:l,onSelectionChange:u,anchorElement:o,insidePortal:!1})}Z.displayName="FieldsSelector";let ee="FieldsSection-module__pinnedField__K52F0",el="FieldsSection-module__compactSectionHeader__lMYFw",ea="FieldsSection-module__compactSectionEmptyText__qLZOx";function en(e){let l=(0,H.useRef)(null),a=(0,H.useRef)(e),n=(0,H.useCallback)(e=>{l.current=e},[]);return(0,H.useEffect)(()=>{null!==a.current&&null===e&&l.current?.focus(),a.current=e},[e]),{setAddFieldButtonElement:n}}function et(e){let[l,a]=(0,H.useState)(!1),n=(0,H.useRef)(null),t=(0,H.useRef)(!1),i=(0,H.useRef)(null);return(0,H.useEffect)(()=>{if(t.current&&e!==i.current&&null!==e){a(!1),i.current=e;let l=setTimeout(()=>{a(!0)},0),n=setTimeout(()=>{a(!1)},2e3);return()=>{clearTimeout(l),clearTimeout(n)}}t.current||(i.current=e),n.current=e,t.current=!0},[e]),{animatePinned:l}}let ei={only:"FieldsSection-module__animationOnly__dqmEb",first:"FieldsSection-module__animationFirst__rbi7x",middle:"FieldsSection-module__animationMiddle__teBuP",last:"FieldsSection-module__animationLast__V6_U1"};function es(e,l,a=null){if(e&&l){let e=a?ei[a]:"";return`${ee} FieldsSection-module__animationClass__HUZHa ${e}`.trim()}if(e)return ee}function er(e,l,a){if(!l.has(e))return null;let n=a.filter(e=>l.has(e)),t=n.indexOf(e);return 1===n.length?"only":0===t?"first":t===n.length-1?"last":"middle"}function eo({mutationFn:e,input:l,environment:a,action:n,fieldId:t,fieldType:i,inProjectsPage:s,ownerId:r,reportUsage:o,onError:u,onCompleted:d}){let c=Date.now();e({environment:a,input:l,onCompleted:()=>{o({page:s?"memex#show":"issue#show",action:n,fieldId:t,fieldType:i,status:"success",duration:Date.now()-c,orgId:r?.toString()}),d?.()},onError:e=>{let l=Date.now()-c;o({page:s?"memex#show":"issue#show",action:n,fieldId:t,fieldType:i,status:"error",errorDetails:e instanceof Error?e.message:String(e),duration:l,orgId:r?.toString()}),u?.(e)}})}var eu=a(44472),ed=a(80380),ec=a(44939),em=a(34164),eg=a(4763);let ep="FieldEditors-module__dateAnchorContainer__fsay5";var ey=a(74939);let ek=({formattedDate:e})=>e?(0,w.jsx)("span",{className:"FieldEditors-module__dateText__axzF6",children:e}):(0,w.jsx)("span",{className:"FieldEditors-module__noValueContainer__c5aH0",children:J.k.setValue});ek.displayName="DateDisplay";let ef=({fieldId:e,fieldName:l,value:a,onCommit:n,shouldOpen:t=!1,isDraft:i=!1,readonly:s,className:r})=>{let[o,u]=(0,H.useState)(t),d=(0,H.useMemo)(()=>a?(0,ed.b)(a):"",[a]),c=(0,H.useMemo)(()=>a?new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()):null,[a]),m=(0,H.useCallback)(()=>{i&&n(e,null),u(!1)},[i,e,n]),g=(0,H.useCallback)(l=>{let a=null;l&&(a=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),12,0,0,0))),n(e,a),u(!1)},[e,n]),p=d||J.k.setValue;return s?(0,w.jsxs)("div",{className:(0,em.$)(ey.A.issueFieldFormWrapper,r),children:[(0,w.jsx)("p",{className:ey.A.issueFieldLabel,children:l}),(0,w.jsx)("div",{className:(0,em.$)(ey.A.issueFieldValueText,d&&ey.A.hasValue),children:p})]}):(0,w.jsx)(ec.DatePicker,{variant:"single",showClearButton:!0,value:c,onChange:g,open:o,onOpen:()=>u(!0),onClose:m,anchor:e=>(0,w.jsxs)("button",{...e,className:(0,em.$)(ey.A.issueFieldFormWrapper,ey.A.issueFieldFormWrapperClickable,o&&ey.A.isEditing,r),"aria-label":a?`Edit ${l}`:`Set ${l}`,children:[(0,w.jsx)("span",{className:ey.A.issueFieldLabel,children:l}),(0,w.jsx)("span",{className:(0,em.$)(ey.A.issueFieldValueText,d&&ey.A.hasValue),children:p})]})})};ef.displayName="IssueFieldCompactDateEditorInternal";let eh=({fieldId:e,fieldName:l,value:a,readonly:n,onCommit:t,shouldOpen:i=!1,isDraft:s=!1,errorPresent:r=!1,className:o})=>{let u=(0,V.G7)("issue_fields_compact_view"),d=(0,H.useMemo)(()=>a?(0,ed.b)(a):"",[a]),c=(0,H.useMemo)(()=>a?new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()):null,[a]),[m,g]=(0,H.useState)(i),p=(0,H.useCallback)(()=>{s&&t(e,null),g(!1)},[s,t,e]);return u?(0,w.jsx)(ef,{fieldId:e,fieldName:l,value:a,onCommit:t,shouldOpen:i,isDraft:s,readonly:n,className:o}):(0,w.jsx)(z.w,{sectionHeader:(0,w.jsx)(eg.X,{title:l,readonly:n,buttonProps:n?void 0:{onClick:()=>g(!0)},errorPresent:r}),className:o,children:n?(0,w.jsx)("div",{className:ep,children:(0,w.jsx)(ek,{formattedDate:d})}):(0,w.jsx)(ec.DatePicker,{anchor:e=>(0,w.jsx)("div",{...e,className:`${ep} FieldEditors-module__dateAnchorContainerInteractive__bM06g`,children:(0,w.jsx)(ek,{formattedDate:d})}),showClearButton:!0,showTodayButton:!0,variant:"single",dateFormat:"long",onChange:l=>{let a=null;l&&(a=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),12,0,0,0))),t(e,a),g(!1)},value:c,placeholder:"Set date",open:m,onOpen:()=>g(!0),onClose:p},l)})};eh.displayName="IssueFieldDateEditor";var eb=a(19936),eF=a(88264),eI=a(69174),eS=a(76478);let e_=({fieldId:e,fieldName:l,initialValue:a,onCommit:n,shouldOpen:t=!1,isDraft:i=!1,readonly:s,className:r})=>{let o=(0,H.useCallback)(l=>{n(e,l)},[e,n]),u=(0,H.useCallback)(()=>{i&&n(e,null)},[e,i,n]),d=!a||""===a.name&&""===a.color,c=d?J.k.setValue:(0,w.jsx)(eI.g,{name:a.name,color:a.color,getTooltipText:()=>void 0,size:"small",containerClassName:eS.A.compactContainer}),m=d?`Set ${l}`:`Edit ${l}`;return s?(0,w.jsxs)("div",{className:(0,em.$)(ey.A.issueFieldFormWrapper,r),children:[(0,w.jsx)("p",{className:ey.A.issueFieldLabel,children:l}),(0,w.jsx)("div",{className:(0,em.$)(ey.A.issueFieldValueText,!d&&ey.A.hasValue,eS.A.compactValueContainer),children:c})]}):(0,w.jsx)(eF.CZ,{fieldId:e,fieldName:l,selectedOption:a?a.name:null,onSelectionChange:o,anchorElement:(e,a)=>(0,w.jsxs)("button",{ref:a,className:(0,em.$)(ey.A.issueFieldFormWrapper,ey.A.issueFieldFormWrapperClickable,r),"aria-label":m,...e,children:[(0,w.jsx)("span",{className:ey.A.issueFieldLabel,children:l}),(0,w.jsx)("span",{className:(0,em.$)(ey.A.issueFieldValueText,!d&&ey.A.hasValue,eS.A.compactValueContainer),children:c})]}),readonly:!1,isLazy:!0,onClose:u,shouldOpen:t})};e_.displayName="IssueFieldCompactSingleSelectEditorInternal";let ev=({fieldId:e,fieldName:l,readonly:a,initialValue:n,onCommit:t,shouldOpen:i=!1,isDraft:s=!1,className:r})=>{let o=(0,V.G7)("issue_fields_compact_view"),u=(0,H.useCallback)(l=>{t(e,l)},[e,t]),d=(0,H.useCallback)(()=>{s&&t(e,null)},[e,s,t]),c=(0,H.useMemo)(()=>(0,w.jsx)(eF.CZ,{fieldId:e,fieldName:l,selectedOption:n?n.name:null,onSelectionChange:u,anchorElement:(e,n)=>(0,w.jsx)(eg.X,{title:l||"",buttonProps:e,ref:n,readonly:a}),readonly:!1,isLazy:!0,onClose:d,shouldOpen:i}),[e,l,n,d,u,a,i]);if(o)return(0,w.jsx)(e_,{fieldId:e,fieldName:l,initialValue:n,onCommit:t,shouldOpen:i,isDraft:s,readonly:a,className:r});let m=n?.name===""&&n?.color===""&&n?.description==="";return(0,w.jsx)(z.w,{sectionHeader:c,className:r,children:(0,w.jsx)("div",{className:eS.A.fieldEditorContainer,children:m?(0,w.jsx)("div",{className:eS.A.noValueContainer,children:J.k.setValue}):(0,w.jsx)(eI.g,{name:n?.name||"",color:n?.color||"",getTooltipText:e=>e?n?.description??"":void 0})})})};ev.displayName="IssueFieldSingleSelectEditor";var ex=a(2979);function eC({fieldValue:e,readonly:l,onCommit:a,className:n},t){let i=""===e.value;switch(e.field.dataType){case"TEXT":return(0,w.jsx)(ex.eH,{fieldId:e.field.id,fieldName:e.field.name||"",initialValue:e.value||"",readonly:l,onCommit:(e,l)=>a(e,l),errorPresent:t,className:n},e.field.name);case"SINGLE_SELECT":return(0,w.jsx)(ev,{fieldId:e.field.id,fieldName:e.field.name||"",initialValue:{name:i||!e?.name?"":e.name,color:i||!e?.color?"":e.color,description:i||!e?.description?"":e.description},readonly:l,onCommit:(e,l)=>a(e,l),className:n},e.field.name);case"DATE":{let i=null,s=e.value;return s&&(s instanceof Date?i=s:"string"==typeof s&&(i=(0,ed.o)(s))),(0,w.jsx)(eh,{fieldId:e.field.id,fieldName:e.field.name||"",value:i,readonly:l,onCommit:(e,l)=>a(e,l),errorPresent:t,className:n},e.field.name)}case"NUMBER":{let i=void 0!==e.numberValue&&null!==e.numberValue,s=void 0!==e.value&&null!==e.value&&""!==e.value,r=i?e.numberValue.toString():s?String(e.value):"";return(0,w.jsx)(eb.k,{fieldId:e.field.id,fieldName:e.field.name||"",initialValue:r,readonly:l,onCommit:(e,l)=>{""===l?a(e,l):a(e,Number(l))},errorPresent:t,className:n},e.field.name)}default:throw Error(`Unsupported field type: ${e.field.dataType}`)}}function ej({fieldSelection:e,onCommit:l,className:a}){switch(e.dataType){case"text":return(0,w.jsx)(ex.eH,{fieldId:e.id||"",fieldName:e.name||"",initialValue:"",readonly:!1,onCommit:(e,a)=>l(e,a),shouldOpen:!0,isDraft:!0,className:a},e.id);case"single_select":return(0,w.jsx)(ev,{fieldId:e.id,fieldName:e.name||"",initialValue:{name:"",color:"",description:""},readonly:!1,onCommit:(e,a)=>l(e,a),shouldOpen:!0,isDraft:!0,className:a},e.name);case"date":return(0,w.jsx)(eh,{fieldId:e.id,fieldName:e.name||"",value:null,readonly:!1,onCommit:(e,a)=>l(e,a),shouldOpen:!0,isDraft:!0,className:a},e.name);case"number":return(0,w.jsx)(eb.k,{fieldId:e.id||"",fieldName:e.name||"",initialValue:"",readonly:!1,onCommit:(e,a)=>l(e,a),shouldOpen:!0,isDraft:!0,className:a},e.id);default:throw Error(`Unsupported field type: ${e.dataType}`)}}function eT({onClose:e,message:l}){return(0,w.jsx)(eu.K,{title:"Error",confirmButtonContent:"OK",confirmButtonType:"primary",onClose:e,children:l})}eT.displayName="ErrorDialog";let eK={fragment:{argumentDefinitions:c=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"createIssueFieldValueMutation",selections:[{alias:null,args:m=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CreateIssueFieldValuePayload",kind:"LinkedField",name:"createIssueFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"issueFieldValue",plural:!1,selections:[y={kind:"InlineFragment",selections:p=[g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldTextValue",abstractKey:null},k={kind:"InlineFragment",selections:[g,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"IssueFieldSingleSelectValue",abstractKey:null},f={kind:"InlineFragment",selections:p,type:"IssueFieldDateValue",abstractKey:null},h={kind:"InlineFragment",selections:[g,{alias:"numberValue",args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldNumberValue",abstractKey:null}],storageKey:null},F={alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:b=[g],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:c,kind:"Operation",name:"createIssueFieldValueMutation",selections:[{alias:null,args:m,concreteType:"CreateIssueFieldValuePayload",kind:"LinkedField",name:"createIssueFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"issueFieldValue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},y,k,f,h,{kind:"InlineFragment",selections:b,type:"Node",abstractKey:"__isNode"}],storageKey:null},F],storageKey:null}]},params:{id:"7d34c7a47ddc5e24a7fe4d1980651c76",metadata:{},name:"createIssueFieldValueMutation",operationKind:"mutation",text:null}};eK.hash="efaa5ef3592a90da63e7e17d2645f75c";let eL=e=>void 0!==e.singleSelectOptionId?D.KO:void 0!==e.dateValue?D.fk:void 0!==e.numberValue?D.qg:D.qH,eN=(e,l,a)=>{if(l){if(void 0!==a.textValue&&l.setValue(a.textValue,"value"),void 0!==a.singleSelectOptionId&&null!==a.singleSelectOptionId){let n=(e.get(a.fieldId)?.getLinkedRecords("options")||[]).find(e=>e.getDataID()===a.singleSelectOptionId);l.setValue(n?.getValue("name")??null,"name"),l.setValue(n?.getValue("color")??null,"color"),l.setValue(n?.getValue("description")??null,"description")}void 0!==a.dateValue&&l.setValue(a.dateValue,"value"),void 0!==a.numberValue&&l.setValue(a.numberValue,"value")}},eP=(e,l,a)=>{if(!e||!a)return;let n=(e.getLinkedRecords("nodes")||[]).filter(e=>e?.getLinkedRecord("field")?.getDataID()!==l);n.push(a),e.setLinkedRecords(n,"nodes")};function ew({environment:e,input:l,onCompleted:a,onError:n}){return(0,q.commitMutation)(e,{mutation:eK,variables:{input:l},onCompleted:()=>{a?.()},onError:e=>n?.(e),optimisticUpdater:e=>{let a=e.get(l.issueId);if(!a)return;let n=l.issueField,t=a.getLinkedRecord("issueFieldValues",{first:25}),i=t?.getLinkedRecords("nodes")||[],s=eL(n),r=e.create(`client:newFieldValue:${n.fieldId}`,s);r.setValue(`client:newFieldValue:${n.fieldId}`,"id");let o=e.get(n.fieldId);o&&r.setLinkedRecord(o,"field"),eN(e,r,n),i.push(r),t&&t.setLinkedRecords(i,"nodes")},updater:e=>{let a=e.get(l.issueId),n=a?.getLinkedRecord("issueFieldValues",{first:25}),t=e.getRootField("createIssueFieldValue"),i=t?.getLinkedRecord("issueFieldValue");if(!a||!i||!n)return;let s=l.issueField;if(!i.getLinkedRecord("field")){let l=e.get(s.fieldId);l&&i.setLinkedRecord(l,"field")}eP(n,s.fieldId,i)}})}let eA={fragment:{argumentDefinitions:I=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"deleteIssueFieldValueMutation",selections:S=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"DeleteIssueFieldValuePayload",kind:"LinkedField",name:"deleteIssueFieldValue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null},{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:I,kind:"Operation",name:"deleteIssueFieldValueMutation",selections:S},params:{id:"07154732cd6de9c83b93caf7e4fdb17b",metadata:{},name:"deleteIssueFieldValueMutation",operationKind:"mutation",text:null}};function eE({environment:e,input:l,onCompleted:a,onError:n}){return(0,q.commitMutation)(e,{mutation:eA,variables:{input:l},onCompleted:()=>{a?.()},onError:e=>n?.(e),optimisticUpdater:e=>{let a=e.get(l.issueId);a&&eV(a,l.fieldId)},updater:e=>{let a=e.get(l.issueId);a&&eV(a,l.fieldId)}})}eA.hash="ade9c121a42280fa29046520cd641e3c";let eV=(e,l)=>{if(!e)return;let a=e.getLinkedRecord("issueFieldValues",{first:25});if(!a)return;let n=(a.getLinkedRecords("nodes")||[]).find(e=>e?.getLinkedRecord("field")?.getDataID()===l);if(!n)return;let t=n.getType();(0,D.fy)(n,t)},eD={fragment:{argumentDefinitions:_=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"updateIssueFieldValueMutation",selections:[{alias:null,args:v=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssueFieldValuePayload",kind:"LinkedField",name:"updateIssueFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"issueFieldValue",plural:!1,selections:[j={kind:"InlineFragment",selections:C=[x={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldTextValue",abstractKey:null},T={kind:"InlineFragment",selections:[x,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"IssueFieldSingleSelectValue",abstractKey:null},K={kind:"InlineFragment",selections:C,type:"IssueFieldDateValue",abstractKey:null},L={kind:"InlineFragment",selections:[x,{alias:"numberValue",args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"IssueFieldNumberValue",abstractKey:null}],storageKey:null},P={alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:N=[x],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:_,kind:"Operation",name:"updateIssueFieldValueMutation",selections:[{alias:null,args:v,concreteType:"UpdateIssueFieldValuePayload",kind:"LinkedField",name:"updateIssueFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"issueFieldValue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},j,T,K,L,{kind:"InlineFragment",selections:N,type:"Node",abstractKey:"__isNode"}],storageKey:null},P],storageKey:null}]},params:{id:"c9b8f156814615ff82eb2393351e0719",metadata:{},name:"updateIssueFieldValueMutation",operationKind:"mutation",text:null}};function eR({environment:e,input:l,onCompleted:a,onError:n}){return(0,q.commitMutation)(e,{mutation:eD,variables:{input:l},onCompleted:()=>{a?.()},onError:e=>n?.(e),optimisticUpdater:e=>{let a=e.get(l.issueId),n=a?.getLinkedRecord("issueFieldValues",{first:25}),t=n?.getLinkedRecords("nodes")||[],i=l.issueField,s=eL(i),r=t.find(e=>e.getLinkedRecord("field")?.getDataID()===i.fieldId);if(!r){r=e.create(`client:updateFieldValue:${i.fieldId}`,s);let l=e.get(i.fieldId);l&&r.setLinkedRecord(l,"field")}eN(e,r,i),eP(n,i.fieldId,r)},updater:e=>{let a=e.get(l.issueId),n=a?.getLinkedRecord("issueFieldValues",{first:25}),t=e.getRootField("updateIssueFieldValue"),i=t?.getLinkedRecord("issueFieldValue"),s=l.issueField;if(i){if(!i.getLinkedRecord("field")){let l=e.get(s.fieldId);l&&i.setLinkedRecord(l,"field")}eP(n,s.fieldId,i)}}})}function eM({owner:e,ownerId:l,onSelectionChange:a,issueType:n,orgPinnedFields:t,isPinnedFieldsLoading:i}){let s,r,o,[u,d]=(0,H.useState)([]),[c,m]=(0,H.useState)([]),[g,p]=(0,H.useState)(null),{animatePinned:y}=et(n?.name||null),{markInteractionStart:k,reportUsage:f}=(0,R.k)(),{setAddFieldButtonElement:h}=en(g),b=(0,H.useMemo)(()=>n?(0,D.IR)(n.pinnedFields?.filter(e=>e?.__typename!=="%other"))??[]:t??[],[n,t]),{pinnedFieldIds:F}=function({pinnedFields:e,setFields:l,setFieldsSet:a}){let n=(0,H.useMemo)(()=>(e||[]).map(e=>(0,W.Y0)((0,D.YQ)(e),null)),[e]),t=(0,H.useMemo)(()=>new Set(n.map(e=>e.field.id)),[n]);return(0,H.useEffect)(()=>{n.length>0?(l(e=>[...n.map(l=>{let a=e.find(e=>e.field.id===l.field.id);return a&&a.value?a:l}),...e.filter(e=>!t.has(e.field.id)&&e.value)]),a(n.map(e=>e.field.name))):(l(e=>e.filter(e=>!t.has(e.field.id)&&e.value)),a(e=>e.filter(e=>!n.map(e=>e.field.name).includes(e))))},[e,t,n,l,a]),{pinnedFieldIds:t}}({pinnedFields:b,setFields:d,setFieldsSet:m}),I=!(0,V.G7)("issue_metadata_add_field_button");(0,H.useEffect)(()=>{a(u.filter(e=>e.value))},[u,a]),(0,H.useEffect)(()=>{let e=[...new Set([...u.map(e=>e.field.name).filter(e=>!!e),...c])];e.length===c.length&&e.every(e=>c.includes(e))||m(e)},[u,c]);let S=(0,H.useCallback)(e=>{k(),e.id&&(p(e),e.name&&m(l=>[...l,e.name]))},[k]),_=(0,H.useCallback)((e,a)=>{d(n=>{let t,i=n.map(l=>l.field.id===e?t=(0,W.IE)(l.field,a):l).filter(e=>void 0!==e.value||e.field.id&&F.has(e.field.id));return t&&!t.value&&(t.field.id&&F.has(t.field.id)||m(e=>e.filter(e=>e!==t?.field.name))),t&&t.field.dataType&&f({page:"issue#new",action:"create",fieldId:e,fieldType:(0,D.HZ)(t.field.dataType),status:"success",orgId:l?.toString()}),i})},[l,F,f]),v=(0,H.useCallback)((e,l)=>{if(!g||g.id!==e)return;p(null);let a=(0,D.HZ)(g.dataType),n=(0,W.vl)(a,l),t="string"==typeof n?!n.trim():!n;g.name&&t?m(e=>e.filter(e=>e!==g.name)):!t&&(d(e=>{let a=[...e];return g.name&&!a.some(e=>e.field.name===g.name)&&a.push((0,W.Y0)(g,l)),a}),g.name&&m(e=>e.includes(g.name)?e:[...e,g.name]))},[g]),x=(0,V.G7)("issue_fields_compact_view"),C=u.map(e=>e.field.id).filter(e=>!!e),j=u.map(e=>e.field.id?eC({fieldValue:"object"==typeof e.value&&null!==e.value?{...e,...e.value}:e,readonly:!1,onCommit:_,className:es(F.has(e.field.id),y,er(e.field.id,F,C))}):null),T=g?(s=F.has(g.id),r=g.id?[...C,g.id]:C,o=g.id?er(g.id,F,r):null,ej({fieldSelection:g,readonly:!1,onCommit:v,className:es(s,y,o)})):null,K=(0,w.jsx)(Z,{owner:e,fieldsSet:c,onIssueFieldSelected:S,markInteractionStart:k,disabled:null!==g,onButtonElementReceived:h,hideAddFieldButton:I}),L=j.filter(Boolean),N=b.length>0&&0===L.length;return x?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(z.w,{sectionHeader:(0,w.jsx)(U.A,{as:"h3",className:el,children:"Fields"}),children:L.length>0?(0,w.jsx)(w.Fragment,{children:L}):i||N?(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("span",{className:"FieldsSection-module__loadingRow__JfC1W",children:[(0,w.jsx)(M.Q,{height:"md",width:"40%"}),(0,w.jsx)(M.Q,{height:"md",width:"60%"})]})}):(0,w.jsx)("span",{className:ea,children:J.k.noPinnedFieldsMessage(n?.name)})}),T,K]}):(0,w.jsxs)(w.Fragment,{children:[j,T,K]})}function eO({issue:e,onUpdate:l,inProjectsPage:a,readonly:n}){let t,[i,s]=(0,H.useState)([]),[r,o]=(0,H.useState)(!1),[u,d]=(0,H.useState)(!1),[c,m]=(0,H.useState)(null),g=(0,q.useRelayEnvironment)(),{markInteractionStart:p,reportUsage:y}=(0,R.k)(),{setAddFieldButtonElement:k}=en(c),f=!(0,V.G7)("issue_metadata_add_field_button"),h=(0,q.useFragment)(A,e),{repository:{isPrivate:b,owner:{login:F}},viewerCanSetFields:I,issueType:S}=h,_=h.repository.owner.issueFieldsEnabled??!1,v=(0,H.useMemo)(()=>(0,D.IR)(h.repository.owner.pinnedIssueFields?.nodes?.filter(e=>e?.__typename!=="%other")??[]),[h.repository.owner.pinnedIssueFields]),x=(0,H.useMemo)(()=>S?(0,D.IR)(S.pinnedFields?.filter(e=>e?.__typename!=="%other"))??[]:v??[],[S,v]),C=(0,H.useMemo)(()=>x.map(e=>(0,W.Y0)((0,D.YQ)(e),null)),[x]),j=(0,H.useCallback)(()=>{o(!0)},[]),T=(0,H.useCallback)((e,l)=>{if(!c||c.id!==e)return;m(null);let n=(0,W.vl)(c.dataType,l||""),t="string"==typeof n?!n.trim():!n;c.name&&t?s(e=>e.filter(e=>e!==c.name)):t||eo({mutationFn:ew,input:{issueId:h.id,issueField:{fieldId:e,...(0,D.Ft)(c.dataType,n)}},environment:g,action:"create",fieldId:e,fieldType:(0,D.HZ)(c.dataType),inProjectsPage:a,ownerId:h.repository?.owner?.databaseId,reportUsage:y,onError:j})},[c,h.id,h.repository.owner.databaseId,g,a,y,j]);return b&&_?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(B.t,{fallback:(0,w.jsxs)("div",{children:[(0,w.jsx)($.m,{text:J.k.loadingFieldsTooltipMessage,children:(0,w.jsx)("span",{children:(0,w.jsx)(Y,{inactive:!0,anchorProps:{onClick:()=>d(!0)},onClick:O.l})})}),u&&(0,w.jsx)(eT,{onClose:()=>d(!1),message:J.k.loadingFieldsErrorMessage})]}),children:[(0,w.jsx)(eB,{issue:h,fieldsSet:i,setFieldsSet:s,inProjectsPage:a,pinnedFields:C,readonly:n,onUpdate:l}),c&&(t=C.some(e=>e.field.id===c.id),ej({fieldSelection:c,readonly:!1,onCommit:T,className:t?ee:void 0})),!n&&I&&(0,w.jsx)(Z,{owner:F,fieldsSet:i,onIssueFieldSelected:e=>{e.id&&(m(e),e.name&&s(l=>[...l,e.name]))},markInteractionStart:p,disabled:null!==c,onButtonElementReceived:k,hideAddFieldButton:f})]}),r&&(0,w.jsx)(eT,{onClose:()=>o(!1),message:J.k.mutationErrorMessage})]}):null}function eB({issue:e,fieldsSet:l,setFieldsSet:a,inProjectsPage:n,onUpdate:t,pinnedFields:i,readonly:s}){let r=(0,q.useRelayEnvironment)(),[o,u]=(0,H.useState)({}),{reportUsage:d}=(0,R.k)();(0,H.useEffect)(()=>{let e=Object.values(o).some(e=>e),l=l=>{if(e)return l.preventDefault(),l.returnValue=J.k.reloadWarningMessage,l.returnValue};return window.addEventListener("beforeunload",l),()=>{window.removeEventListener("beforeunload",l)}},[o]);let c=(0,q.useFragment)(E,e),{animatePinned:m}=et(c.issueType?.id||null),g=(c.issueFieldValues?.nodes||[]).map(e=>e),[p,y]=(0,H.useState)(g.filter(e=>e?.field!=null));(0,H.useEffect)(()=>{y((c.issueFieldValues?.nodes||[]).map(e=>e).filter(e=>e?.field!=null))},[c.id]);let k=(0,H.useCallback)(e=>{u(l=>({...l,[e]:!0}))},[]),f=(0,H.useCallback)((e,l,a)=>{let i=(0,D.HZ)(l),s=(0,W.vl)(i,a);""===a||null===a?eo({mutationFn:eE,input:{issueId:c.id,fieldId:e},environment:r,action:"delete",fieldId:e,fieldType:i,inProjectsPage:n,reportUsage:d,onCompleted:()=>{u(l=>({...l,[e]:!1})),t()},onError:()=>k(e)}):eo({mutationFn:eR,input:{issueId:c.id,issueField:{fieldId:e,...(0,D.Ft)(i,s)}},environment:r,action:"update",fieldId:e,fieldType:i,inProjectsPage:n,reportUsage:d,onCompleted:()=>{u(l=>({...l,[e]:!1})),t()},onError:()=>k(e)})},[c.id,r,k,n,d,t]);(0,H.useMemo)(()=>{let{addedFields:e,updatedFields:l,removedFields:a}=(0,W.kO)(p,g);if(0===e.length&&0===l.length&&0===a.length)return;let n=e.length>0,t=p.map(e=>{let t=l.find(l=>l?.field?.id===e?.field?.id);if(t)return(0,W.zo)(t,e)||(n=!0),t;if(a.some(l=>l?.field?.id===e?.field?.id)){let l=(0,W.uV)(e);return(0,W.zo)(l,e)||(n=!0),l}return e}).filter(e=>null!=e);n&&y([...t,...e])},[g,p]);let h=(0,H.useMemo)(()=>{if(!i||0===i.length)return p;let e=i.map(e=>p.find(l=>l.field.id===e.field.id)||e),l=e.map(e=>e.field.id);return[...e,...p.filter(e=>!l.includes(e.field.id))]},[i,p]);(0,H.useEffect)(()=>{let e=h.map(e=>e?.field?.name||"").filter(e=>e);l.length===e.length&&l.every((l,a)=>l===e[a])||a(e)},[l,h,a]);let b=h.map(e=>e?.field?.id).filter(e=>!!e),F=new Set(i?.map(e=>e.field.id).filter(e=>!!e)??[]),I=h.map(e=>{if(!e||!e.field||!e.field.id||void 0===e.field||void 0===e.field.dataType)return null;let l=i?.some(l=>l.field.id===e.field.id)||!1,a=s||!c.viewerCanSetFields,n=er(e.field.id,F,b);return function({errorPresent:e,setErrorPresent:l,fieldValue:a,...n}){if(!a.field)return null;let t=a.field.id,i="SINGLE_SELECT"===a.field.dataType,s=eC({fieldValue:a,...n},e[t]);return(0,w.jsxs)(H.Fragment,{children:[s,i&&e[t]&&(0,w.jsx)(eT,{onClose:()=>l(t,!1),message:J.k.mutationErrorMessage})]},a.field.name)}({errorPresent:o,setErrorPresent:(e,l)=>u(a=>({...a,[e]:l})),fieldValue:e,readonly:a,onCommit:(l,a)=>f(l,e.field.dataType,a),className:es(l,m,n)})}).filter(Boolean);return(0,V.G7)("issue_fields_compact_view")?(0,w.jsx)(z.w,{sectionHeader:(0,w.jsx)(U.A,{as:"h3",className:el,children:"Fields"}),children:I.length>0?(0,w.jsx)(w.Fragment,{children:I}):(0,w.jsx)("span",{className:ea,children:J.k.noPinnedFieldsMessage(c.issueType?.name)})}):(0,w.jsx)(w.Fragment,{children:I})}eD.hash="42fa492eab38e97eb091a4309e4f4202",eM.displayName="CreateIssueFieldsSection",eO.displayName="EditIssueFieldsSection",eB.displayName="IssueFields"},19936(e,l,a){a.d(l,{H:()=>r,k:()=>o});var n=a(74848),t=a(79044),i=a(2979);let s=/^-?\d+(\.\d+)?$/,r=e=>{if(""===e)return null;if(!s.test(e))return t.k.numberValidation.errorMessage;let l=parseFloat(e);return l>0x7fffffff?t.k.numberValidation.max(0x7fffffff):l<-0x80000000?t.k.numberValidation.min(-0x80000000):null},o=e=>(0,n.jsx)(i.eH,{...e,inputProps:{placeholder:t.k.numberEditorPlaceholder,inputMode:"numeric"},validate:r,isNumber:!0,className:e.className});o.displayName="IssueFieldNumberEditor"},69174(e,l,a){a.d(l,{g:()=>u});var n=a(74848),t=a(44640),i=a(94709),s=a(34164),r=a(96540),o=a(76478);let u=({name:e,color:l,getTooltipText:a,size:u,sx:c,containerClassName:m})=>{let g=(0,r.useRef)(null),[p,y]=(0,r.useState)(!1);(0,r.useEffect)(()=>y(d(g.current)),[y,g]);let k=a(p),f=(0,n.jsx)(i.ou,{className:o.A.token,"data-color":l,ref:g,sx:c,text:(0,n.jsx)("span",{className:o.A.tokenText,children:e}),as:k?"button":"span",...k&&{type:"button","aria-label":`${e} token`}});return(0,n.jsx)("div",{className:(0,s.$)(o.A.container,m),"data-size":u,children:k?(0,n.jsx)(t.m,{text:k,children:f}):f})};u.displayName="IssueFieldSingleSelectValueToken";let d=e=>!!e&&!!e.firstElementChild&&e.firstElementChild.scrollWidth>e.firstElementChild.clientWidth},2979(e,l,a){a.d(l,{eH:()=>x,lT:()=>j});var n=a(74848),t=a(24043),i=a(70966),s=a(38621),r=a(7624),o=a(38750),u=a(65820),d=a(26108),c=a(66818),m=a(21373),g=a(34164),p=a(96540),y=a(73635),k=a(4763),f=a(79044),h=a(74939),b=a(72238),F=a(83223),I=a(53708);let S=/^([(['"]{0,3})(.{1,1000}?)([.,:;!?\])"']{0,10})$/;function _(e){if(!e)return null;let l=e.split(/(\s+)/);return(0,n.jsx)(n.Fragment,{children:l.map((e,l)=>{let a=`${e}-${l}`;if(!e.trim())return(0,n.jsx)(p.Fragment,{children:e},a);let{cleanText:t,prefix:i,suffix:s}=function(e){let l=e.match(S);if(!l)return{cleanText:e,prefix:"",suffix:""};let[a,n="",t="",i=""]=l;return{cleanText:t,prefix:n,suffix:i}}(e);if(!t)return(0,n.jsx)(p.Fragment,{children:e},a);let r=(0,I.o2)(t),o=(0,I.ml)(r);return(0,I.Y9)(o)&&(0,I.cE)(o)?(0,n.jsxs)(p.Fragment,{children:[i,(0,n.jsx)(F.A,{href:o,rel:"noopener noreferrer",children:r}),s]},a):(0,n.jsx)(p.Fragment,{children:e},a)})})}let v=e=>(e=>{let{length:l}=e;return l>255?f.k.textValidationMaxLength(l,255):null})(e),x=({initialValue:e,validate:l=v,className:a,errorPresent:i=!1,readonly:s,...r})=>{let o=(0,t.G7)("issue_fields_compact_view"),u=(0,n.jsx)(j,{initialValue:e,validate:l,renderAnchor:(e,l,a)=>(0,n.jsx)(k.X,{ref:l,title:a,readonly:s,buttonProps:e,errorPresent:i}),...r});return o?(0,n.jsx)(C,{initialValue:e,validate:l,readonly:s,className:a,...r}):(0,n.jsx)(y.w,{sectionHeader:u,className:a,children:e?(0,n.jsx)("span",{className:b.A.issuesFieldText,children:_(e)}):(0,n.jsx)("span",{className:b.A.noValueContainer,children:f.k.setValue})})};x.displayName="IssueFieldTextEditor";let C=({fieldId:e,fieldName:l,initialValue:a,onCommit:t,shouldOpen:i=!1,validate:c=v,inputProps:m,readonly:y,className:k,isNumber:F=!1})=>{let[I,S]=(0,p.useState)(!0),[x,C]=(0,p.useState)(!1),j=(0,p.useRef)(null),T=(0,p.useRef)(!1);(0,p.useEffect)(()=>{let e=e=>{x&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[x]);let[K,L]=(0,p.useState)(a),N=e=>{let{value:l}=e.target;L(l),l===a?S(!0):S(!1)},P=(0,p.useMemo)(()=>I?null:c(K),[I,K,c]),w=(0,p.useMemo)(()=>!!P,[P]),[A,E]=(0,p.useState)(i),V=(0,p.useCallback)(()=>{I&&L(a),E(!0)},[a,I]),D=(0,p.useCallback)(()=>{L(a),T.current=!0,E(!1),S(!0),C(!1)},[a]),R=(0,p.useCallback)(()=>{E(!1),S(!0),C(!1),t(e,K),T.current=!0},[e,t,K]);(0,p.useLayoutEffect)(()=>{!A&&T.current&&(T.current=!1,j.current?.focus())},[A]);let M=(0,p.useCallback)(e=>{e.stopPropagation(),"Enter"===e.key?(e.preventDefault(),R()):"Escape"===e.key&&D()},[R,D]),O=(0,p.useCallback)(e=>{!e.currentTarget.contains(e.relatedTarget)&&I&&E(!1)},[I]);return(0,n.jsx)(n.Fragment,{children:A&&!y?(0,n.jsx)("div",{onBlur:O,children:(0,n.jsxs)(r.A,{className:(0,g.$)(h.A.issueFieldFormWrapper,h.A.issueFieldFormWrapperClickable,h.A.isEditing,k),children:[(0,n.jsx)(r.A.Label,{className:h.A.issueFieldLabel,children:l}),F?(0,n.jsx)(o.A,{value:K,placeholder:f.k.textEditorPlaceholder,onChange:N,size:"small",onKeyDown:M,className:b.A.issueFieldTextInput,autoFocus:!0,onFocus:e=>e.target.setSelectionRange(e.target.value.length,e.target.value.length),...m}):(0,n.jsx)(u.Ay,{value:K,resize:"none",placeholder:f.k.textEditorPlaceholder,onChange:N,onKeyDown:M,className:(0,g.$)(b.A.issueFieldTextInput,b.A.issueFieldTextTextarea),autoFocus:!0,onFocus:e=>e.target.setSelectionRange(e.target.value.length,e.target.value.length)}),(0,n.jsx)(d.K,{icon:s.CheckIcon,onClick:w?void 0:R,size:"small","aria-disabled":w,inactive:w,"aria-label":f.k.textEditorUpdateButton,className:h.A.issueFieldActionButton}),P&&(0,n.jsx)(r.A.Validation,{variant:"error",className:b.A.issuesFieldTextError,children:P})]})}):y?(0,n.jsxs)("div",{className:(0,g.$)(h.A.issueFieldFormWrapper,k),children:[(0,n.jsx)("p",{className:h.A.issueFieldLabel,children:l}),(0,n.jsx)("div",{className:(0,g.$)(h.A.issueFieldValueText,a&&h.A.hasValue),children:a?_(a):f.k.setValue})]}):(0,n.jsxs)("button",{ref:j,type:"button",className:(0,g.$)(h.A.issueFieldFormWrapper,h.A.issueFieldFormWrapperClickable,k),onClick:V,"aria-label":a?`Edit ${l}`:`Set ${l}`,children:[(0,n.jsx)("span",{className:h.A.issueFieldLabel,children:l}),(0,n.jsx)("span",{className:(0,g.$)(h.A.issueFieldValueText,a&&h.A.hasValue),children:a?_(a):f.k.setValue})]})})};C.displayName="IssueFieldCompactTextEditor";let j=({fieldId:e,fieldName:l,initialValue:a,onCommit:t,shouldOpen:s=!1,validate:u=v,inputProps:d,isDraft:g=!1,isNumber:y=!1,renderAnchor:k,overrideWidth:h,onClose:F})=>{let[I,S]=(0,p.useState)(!0),[_,x]=(0,p.useState)(!1);(0,p.useEffect)(()=>{let e=e=>{_&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[_]);let[C,j]=(0,p.useState)(a),T=(0,p.useMemo)(()=>I?null:u(C),[I,C,u]),K=(0,p.useMemo)(()=>I||!!T,[I,T]),[L,N]=(0,p.useState)(s),P=(0,p.useCallback)(()=>{t(e,y?null:""),x(!1)},[e,y,t]),w=(0,p.useCallback)(()=>{g?P():(j(a),N(!1),S(!0),x(!1))},[a,g,P]),A=(0,p.useCallback)(()=>{t(e,C),N(!1),S(!0),x(!1)},[e,t,C]),E=(0,p.useCallback)(()=>{I&&j(a),N(!0)},[a,I]),V=(0,p.useCallback)(()=>{(F?.(),g)?P():(I||x(!0),N(!1))},[I,g,F,P]),D=(0,p.useMemo)(()=>({commands:{"github:cancel":w,"github:submit-form":K?void 0:A},keys:{"github:cancel":["Escape"],"github:submit-form":["Enter"]}}),[K,w,A]),R=(0,p.useRef)(null),[M,O]=(0,p.useState)("256px");(0,p.useEffect)(()=>{if(L&&R.current){let e=R.current.getBoundingClientRect().width;e>0&&O(`${e}px`)}},[L]);let B=(0,p.useMemo)(()=>_?`${l} (edited)`:l,[l,_]);return(0,n.jsx)(c.T,{open:L,anchorRef:R,renderAnchor:e=>k(e,R,B),onClose:V,onOpen:E,overlayProps:{style:{width:h??M}},children:(0,n.jsxs)(i.tL,{...D,children:[(0,n.jsx)("div",{className:b.A.issuesFieldTextInputContainer,children:(0,n.jsxs)(r.A,{children:[(0,n.jsx)(r.A.Label,{visuallyHidden:!0,children:f.k.textEditorLabel(l)}),(0,n.jsx)(o.A,{block:!0,value:C,placeholder:f.k.textEditorPlaceholder,onChange:e=>{let{value:l}=e.target;j(l),l===a?S(!0):S(!1)},...d}),T&&(0,n.jsx)(r.A.Validation,{variant:"error",className:b.A.issuesFieldTextError,children:T})]})}),(0,n.jsx)("div",{className:b.A.issuesFieldToolbar,role:"toolbar","aria-label":f.k.textEditorToolbarLabel(l),children:(0,n.jsxs)("div",{className:b.A.issuesFieldToolbarActions,children:[(0,n.jsx)(m.Q,{size:"small",onClick:w,className:b.A.actionButton,trailingVisual:(0,n.jsx)(i.hh,{commandId:"github:cancel"}),children:f.k.textEditorCancelButton}),(0,n.jsx)(m.Q,{size:"small",variant:"primary",onClick:K?void 0:A,"aria-disabled":K,inactive:K,"aria-label":f.k.textEditorUpdateButtonAriaLabel(l),className:b.A.actionButton,trailingVisual:(0,n.jsx)(i.hh,{commandId:"github:submit-form"}),children:f.k.textEditorUpdateButton})]})})]})})};j.displayName="IssueFieldTextEditorInternal"},79044(e,l,a){a.d(l,{k:()=>n});let n={mutationErrorMessage:"Something went wrong while setting the field value. Please try again.",loadingFieldsTooltipMessage:"Couldn't load issue fields",loadingFieldsErrorMessage:"We couldn't load the issue fields. Please try again later or if the problem persists contact support",setValue:"None yet",reloadWarningMessage:"Reload site? Changes you made might not be saved.",textValidationMaxLength:(e,l)=>`Value cannot be more than ${l} characters (${e})`,textValidationEmpty:"Text cannot be empty.",textEditorLabel:e=>`The value for the ${e} field`,textEditorToolbarLabel:e=>`Toolbar for ${e} field`,textEditorPlaceholder:"Type text\u2026",numberEditorPlaceholder:"Type number\u2026",numberValidation:{errorMessage:"Must contain only numbers, decimals, and optional negative sign",max:e=>`Cannot be greater than ${e}`,min:e=>`Cannot be less than ${e}`},textEditorUpdateButton:"Update",textEditorRemoveFieldButtonLabel:e=>`Remove field ${e}`,textEditorUpdateButtonAriaLabel:e=>`Update field ${e} (press enter to submit)`,textEditorCancelButton:"Cancel",errorUpdatingIssueField:"There was an error updating this value. Please try again.",editFieldValueLabel:e=>`Edit ${e}`,noPinnedFieldsMessage:e=>e?`${e} has no fields pinned.`:"No pinned fields."}},93650(e,l,a){a.d(l,{Pv:()=>R,ku:()=>O,Wj:()=>M,qn:()=>D});var n,t,i,s,r,o,u,d,c,m=a(74848);let g={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LabelsSectionFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"LabelsSectionAssignedLabels"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanLabel",storageKey:null}],type:"Issue",abstractKey:null};g.hash="89d173296b36dd6c47d64eaffcd8fa74";let p={fragment:{argumentDefinitions:n=[{defaultValue:100,kind:"LocalArgument",name:"assignedLabelPageSize"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"LabelsSectionAssignedLabelsQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"assignedLabelPageSize",variableName:"assignedLabelPageSize"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"LabelsSectionAssignedLabels"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"LabelsSectionAssignedLabelsQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:r=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"assignedLabelPageSize"},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:r,filters:["orderBy"],handle:"connection",key:"MetadataSectionAssignedLabels_labels",kind:"LinkedHandle",name:"labels"},{kind:"TypeDiscriminator",abstractKey:"__isNode"}],type:"Labelable",abstractKey:"__isLabelable"}],storageKey:null}]},params:{id:"d103ad1af39cfc73beab26bc9a07c330",metadata:{},name:"LabelsSectionAssignedLabelsQuery",operationKind:"query",text:null}};p.hash="20f7e48e94311f48bdecc097fbeb646a";let y={argumentDefinitions:[{defaultValue:100,kind:"LocalArgument",name:"assignedLabelPageSize"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"assignedLabelPageSize",cursor:"cursor",direction:"forward",path:o=["labels"]}],refetch:{connection:{forward:{count:"assignedLabelPageSize",cursor:"cursor"},backward:null,path:o},fragmentPathInResult:["node"],operation:p,identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"LabelsSectionAssignedLabels",selections:[{alias:"labels",args:[{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"__MetadataSectionAssignedLabels_labels_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'__MetadataSectionAssignedLabels_labels_connection(orderBy:{"direction":"ASC","field":"NAME"})'},{kind:"InlineFragment",selections:[u],type:"Node",abstractKey:"__isNode"}],type:"Labelable",abstractKey:"__isLabelable"};y.hash="20f7e48e94311f48bdecc097fbeb646a";var k=a(24043),f=a(91666),h=a(7210),b=a(80097),F=a(23165),I=a(56144),S=a(16135),_=a(96540),v=a(34784),x=a(95677),C=a(6549);let j={fragment:{argumentDefinitions:d=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"removeLabelsFromLabelableMutation",selections:c=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"RemoveLabelsFromLabelablePayload",kind:"LinkedField",name:"removeLabelsFromLabelable",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:d,kind:"Operation",name:"removeLabelsFromLabelableMutation",selections:c},params:{id:"cce4e0522a0bbf89aa28f9e4da5d7beb",metadata:{},name:"removeLabelsFromLabelableMutation",operationKind:"mutation",text:null}};j.hash="9f3ee532d3745a09f037181e4a226f48";var T=a(18312);let K=(0,a(69991).A)("localStorage",{throwQuotaErrorsOnSet:!1,ttl:2592e6});function L(e){return`favorite-labels:${e}`}function N(e){let l=L(e),a=K.getItem(l);if(!a)return{labels:{}};try{return JSON.parse(a)}catch{return{labels:{}}}}var P=a(83529),w=a(73635),A=a(4763);let E=()=>(0,m.jsx)(P.h,{title:x.k.sectionTitles.labels});E.displayName="ReadonlyLabelsSectionHeader";let V=({sectionHeader:e,onDelete:l,labels:a})=>(0,m.jsx)(w.w,{id:"sidebar-labels-section",sectionHeader:e,emptyText:a.length>0?void 0:x.k.emptySections.labels,children:(0,m.jsx)(F.w,{labels:a,onDelete:l,testId:C.Y.issueLabels})});V.displayName="LabelsSection";let D=({repo:e,owner:l,readonly:a,labels:n,onSelectionChange:t,...i})=>{let s=a?(0,m.jsx)(E,{}):(0,m.jsx)(b.t,{repo:e,owner:l,readonly:a,canCreateLabel:!a,labels:n,onSelectionChange:t,showNoMatchItem:!0,anchorElement:(e,l)=>(0,m.jsx)(A.X,{title:x.k.sectionTitles.labels,buttonProps:e,ref:l}),...i});return(0,m.jsx)(V,{sectionHeader:s,labels:n})};D.displayName="CreateIssueLabelsSection";let R=g,M=y;function O({issue:e,onIssueUpdate:l,insideSidePanel:a,readonly:n}){let{sendAnalyticsEvent:t}=(0,S.s)(),i=(0,v.useFragment)(R,e),{repository:{owner:{login:s},name:r,isArchived:o}}=i,{data:u}=(0,v.usePaginationFragment)(M,i),{id:d,viewerCanLabel:c}=i,g=(0,_.useMemo)(()=>u.labels?.edges?.flatMap(e=>e?.node?[e?.node]:[])||[],[u]),p=(0,v.useRelayEnvironment)(),y=(0,k.G7)("issues_react_favorite_labels"),F=n||!c||o,{addToast:C}=(0,I.Y6)(),P=(0,_.useCallback)(e=>{(0,f.N)({environment:p,input:{labelableId:d,labels:e,labelableTypeName:"Issue"},onError:()=>C({type:"error",message:h.S.couldNotUpdateLabels}),onCompleted:()=>{y&&e.length>0&&function(e,l){if(0===l.length)return;let a=N(e),n=Date.now();for(let e of l){let l=a.labels[e];a.labels[e]={labelId:e,count:l?l.count+1:1,lastUsed:n}}let t=L(e);try{K.setItem(t,JSON.stringify(a))}catch{}}(`${s}/${r}`,e.map(e=>e.id)),l?.()}})},[C,p,d,l,s,r,y]),w=(0,k.G7)("issues_react_remove_labels_oneclick"),D=(0,_.useCallback)(e=>{!function({environment:e,input:l,onError:a,onCompleted:n}){let t=e=>{let a=T.ConnectionHandler.getConnectionID(l.labelableId,"MetadataSectionAssignedLabels_labels"),n=e.get(`${a}(orderBy:{"direction":"ASC","field":"NAME"})`);n&&l.labelIds[0]&&T.ConnectionHandler.deleteNode(n,l.labelIds[0])};(0,T.commitMutation)(e,{mutation:j,variables:{input:l},onError:e=>a&&a(e),onCompleted:e=>n&&n(e),updater:t,optimisticUpdater:t})}({environment:p,input:{labelableId:d,labelIds:[e]}})},[p,d]),O=(0,_.useMemo)(()=>{if(F)return(0,m.jsx)(E,{});let e=y?(function(e,l=10,a=4){let n=N(e),t=Date.now()-24*l*36e5;return Object.values(n.labels).filter(e=>e.lastUsed>=t).sort((e,l)=>e.count!==l.count?l.count-e.count:l.lastUsed-e.lastUsed).slice(0,a)})(`${s}/${r}`).map(e=>e.labelId):[];return(0,m.jsx)(b.t,{repo:r,owner:s,readonly:F,labels:g,canCreateLabel:!F,favoriteLabelIds:e,onSelectionChange:P,anchorElement:(e,l)=>(0,m.jsx)(A.X,{title:x.k.sectionTitles.labels,buttonProps:{...e,onClick:l=>{t("analytics.click","ISSUE_SIDEBAR_LABELS_SECTION_EDIT_CLICK"),e.onClick?.(l)}},ref:l}),insidePortal:a,showNoMatchItem:!0})},[F,y,s,r,g,P,a,t]);return(0,m.jsx)(V,{sectionHeader:O,onDelete:w&&!F?D:void 0,labels:g})}O.displayName="EditIssueLabelsSection"},58583(e,l,a){a.d(l,{zD:()=>x,C5:()=>v,eJ:()=>j,Bk:()=>C});var n=a(74848);let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MilestonesSectionMilestone",selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"milestone",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dueOn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progressPercentage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closedAt",storageKey:null}],storageKey:null}],type:"Issue",abstractKey:null};t.hash="76d2f86529ad47c916131104f23ee735";let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MilestonesSectionFragment",selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"MilestonesSectionMilestone"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanSetMilestone",storageKey:null}],type:"Issue",abstractKey:null};i.hash="72b43b6f8433e4a47b0321cf2aa3c5ea";var s=a(70823),r=a(7210),o=a(40850),u=a(56144),d=a(18990),c=a(96540),m=a(18312),g=a(95677),p=a(83529),y=a(73635),k=a(4763),f=a(97409),h=a(71313),b=a(6549);let F=({progress:e})=>(0,n.jsxs)("svg",{role:"presentation",width:"16",height:"16","data-target":"tracked-issues-progress.progress","data-circumference":"38",style:{transform:"rotate(-90deg)"},"data-testid":b.Y.milestoneProgressIcon,children:[e<1?null:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0206 11.1074C9.68518 11.3949 9.18014 11.3561 8.8926 11.0206L5.8926 7.52061C5.62055 7.20322 5.63873 6.72989 5.93432 6.4343L7.43432 4.9343C7.74674 4.62188 8.25327 4.62188 8.56569 4.9343C8.87811 5.24672 8.87811 5.75325 8.56569 6.06567L7.58953 7.04182L10.1074 9.97935C10.3949 10.3148 10.3561 10.8198 10.0206 11.1074Z",fill:"var(--fgColor-done, var(--color-done-fg))"}),(0,n.jsx)("circle",{stroke:"var(--borderColor-default, var(--color-border-default))",strokeWidth:"2",fill:"transparent",cx:"50%",cy:"50%",r:"6"}),(0,n.jsx)("circle",{style:{transition:"stroke-dashoffset 0.35s"},stroke:"var(--fgColor-done, var(--color-done-fg))",strokeWidth:"2",strokeDasharray:38,strokeDashoffset:38-38*e,strokeLinecap:"round",fill:"transparent",cx:"50%",cy:"50%",r:"6"})]});function I({milestone:e,anchorProps:l}){return(0,n.jsx)(n.Fragment,{children:e?(0,n.jsxs)(d.l.LinkItem,{href:e.url||"#",target:"_blank","data-testid":b.Y.milestoneContainer,...l,onClick:h.l,children:[(0,n.jsx)(d.l.LeadingVisual,{children:(0,n.jsx)(F,{progress:e.progressPercentage/100})}),e.title,(0,n.jsx)(d.l.Description,{variant:"block",children:(0,n.jsx)(f.R,{closed:e.closed,closedAt:e.closedAt,progressPercentage:e.progressPercentage,dueOn:e.dueOn,showProgressPercentage:!0})})]},e.id):(0,n.jsx)("div",{className:"Milestone-module__hiddenPlaceholder__jxVaN",...l})})}F.displayName="ProgressIcon",I.displayName="Milestone";let S=()=>(0,n.jsx)(p.h,{title:g.k.sectionTitles.milestones});S.displayName="ReadonlyMilestonesSectionHeader";let _=({sectionHeader:e,milestone:l,sx:a,className:t})=>(0,n.jsx)(y.w,{id:"sidebar-milestones-section",sx:a,className:t,sectionHeader:e,emptyText:l?void 0:g.k.emptySections.milestones,children:(0,n.jsx)(d.l,{variant:"full",children:(0,n.jsx)(I,{milestone:l})})});function v({milestone:e,onSelectionChange:l,viewerCanSetMilestone:a,className:t,sx:i,...s}){let r=a?(0,n.jsx)(o.D,{onSelectionChange:e=>{l(e?.[0]||null)},readonly:a,canCreateMilestone:a,activeMilestone:e,anchorElement:(e,l)=>(0,n.jsx)(k.X,{title:g.k.sectionTitles.milestones,buttonProps:e,ref:l}),showMilestoneDescription:!0,...s}):(0,n.jsx)(S,{});return(0,n.jsx)(_,{sx:i,className:t,sectionHeader:r,milestone:e})}_.displayName="MilestonesSection",v.displayName="CreateIssueMilestonesSection";let x=t,C=i;function j({issue:e,onIssueUpdate:l,insideSidePanel:a,readonly:t}){let i=(0,m.useFragment)(C,e),{repository:{owner:{login:d},name:p},id:y,viewerCanSetMilestone:f}=i,{milestone:h}=(0,m.useFragment)(x,i),{addToast:b}=(0,u.Y6)(),F=(0,m.useRelayEnvironment)(),I=(0,c.useCallback)(e=>{(0,s.v)({environment:F,input:{issueId:y,milestone:e.length>0?e.at(-1):null},onError:()=>b({type:"error",message:r.S.couldNotUpdateMilestone}),onCompleted:l})},[b,F,y,l]),v=(0,c.useMemo)(()=>{let e=t||!f;return e?(0,n.jsx)(S,{}):(0,n.jsx)(o.D,{repo:p,owner:d,onSelectionChange:I,anchorElement:(e,l)=>(0,n.jsx)(k.X,{title:g.k.sectionTitles.milestones,buttonProps:e,ref:l}),readonly:e,canCreateMilestone:f,activeMilestone:h??null,insidePortal:a,showMilestoneDescription:!0,showNoMatchItem:!0})},[t,f,p,d,I,h,a]);return(0,n.jsx)(_,{sectionHeader:v,milestone:h??null})}j.displayName="EditIssueMilestonesSection"},27313(e,l,a){a.d(l,{ym:()=>l6,PH:()=>l5,le:()=>l8,nf:()=>l7});var n,t,i,s,r,o,u,d,c,m,g,p,y,k,f,h,b,F,I,S,_,v,x,C,j,T,K,L,N,P,w,A,E,V,D,R,M,O,B,U,$,H,q,W,z,G,Q,Y,J,X,Z,ee,el,ea,en,et,ei,es,er,eo,eu,ed,ec,em,eg,ep,ey,ek,ef,eh,eb,eF,eI,eS,e_,ev,ex,eC,ej,eT,eK,eL,eN,eP=a(74848);let ew=(n={count:null,cursor:null,direction:"forward",path:["projectItems"]},i={alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null}],storageKey:null},o={alias:"projectItems",args:[{kind:"Literal",name:"allowSameEnterprise",value:!0},{kind:"Variable",name:"allowedOwner",variableName:"allowedOwner"}],concreteType:"ProjectV2ItemConnection",kind:"LinkedField",name:"__ProjectSection_projectItems_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProjectItemSection"},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasReachedItemsLimit",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"allowedOwner"}],kind:"Fragment",metadata:{connection:[n,n]},name:"ProjectsSectionFragment",selections:[{kind:"InlineFragment",selections:[t,i,s,o,{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdateMetadata",storageKey:null}],type:"Issue",abstractKey:null},{kind:"InlineFragment",selections:[t,i,s,o,r],type:"PullRequest",abstractKey:null}],type:"IssueOrPullRequest",abstractKey:"__isIssueOrPullRequest"});ew.hash="b7c4b61f49cb224f47a2a8d004d6e604";var eA=a(22458),eE=a(27850),eV=a(86280),eD=a(56144),eR=a(38621),eM=a(18990),eO=a(21373),eB=a(96540),eU=a(18312),e$=a(69487),eH=a(95677);let eq={fragment:{argumentDefinitions:u=[{defaultValue:null,kind:"LocalArgument",name:"connections"},{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"deleteIssueProjectsMutation",selections:[{alias:null,args:d=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"DeleteProjectV2ItemPayload",kind:"LinkedField",name:"deleteProjectV2Item",plural:!1,selections:[c={alias:null,args:null,kind:"ScalarField",name:"deletedItemId",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:u,kind:"Operation",name:"deleteIssueProjectsMutation",selections:[{alias:null,args:d,concreteType:"DeleteProjectV2ItemPayload",kind:"LinkedField",name:"deleteProjectV2Item",plural:!1,selections:[c,{alias:null,args:null,filters:null,handle:"deleteEdge",key:"",kind:"ScalarHandle",name:"deletedItemId",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"}]}],storageKey:null}]},params:{id:"cdc2c4b69492faa142269c6a6a60df92",metadata:{},name:"deleteIssueProjectsMutation",operationKind:"mutation",text:null}};eq.hash="b546b455603fb197fd8347b4cec2351a";var eW=a(83529),ez=a(73635),eG=a(4763);let eQ={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProjectItemSection",selections:[m={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[m],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProjectItemSectionView"}],type:"ProjectV2Item",abstractKey:null};eQ.hash="d514f44f54887c87d0f242aa077953b2";let eY=(g=[{defaultValue:null,kind:"LocalArgument",name:"id"}],p=[{kind:"Variable",name:"id",variableName:"id"}],y={alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},F=[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],I={alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"isIssueField",storageKey:null},T={alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:j=[f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:j,storageKey:null}],storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},w={kind:"InlineFragment",selections:P=[f],type:"Node",abstractKey:"__isNode"},A={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[h,{kind:"InlineFragment",selections:[f,S],type:"ProjectV2Field",abstractKey:null},w],storageKey:null},{fragment:{argumentDefinitions:g,kind:"Fragment",metadata:null,name:"ProjectItemSectionFieldListQuery",selections:[{alias:null,args:p,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[y,k,f],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFields"}],type:"ProjectV2Item",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:g,kind:"Operation",name:"ProjectItemSectionFieldListQuery",selections:[{alias:null,args:p,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,f,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[y,k,f,b,{alias:null,args:F,concreteType:"ProjectV2FieldConfigurationConnection",kind:"LinkedField",name:"fields",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2FieldConfigurationEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,{kind:"InlineFragment",selections:[f,I,S,_],type:"ProjectV2Field",abstractKey:null},{kind:"InlineFragment",selections:[f,I,S,_,T],type:"ProjectV2IterationField",abstractKey:null},{kind:"InlineFragment",selections:[f,I,S,_,{alias:null,args:null,concreteType:"ProjectV2SingleSelectFieldOption",kind:"LinkedField",name:"options",plural:!0,selections:[f,K,S,L,N,{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null}],type:"ProjectV2SingleSelectField",abstractKey:null},w],storageKey:null}],storageKey:null}],storageKey:'fields(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:F,concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"fieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,{kind:"InlineFragment",selections:[f,A,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[f,A,{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{kind:"InlineFragment",selections:[f,A,{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[f,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[h,{kind:"InlineFragment",selections:P,type:"ProjectV2SingleSelectField",abstractKey:null},w],storageKey:null},K,S,L,N],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[f,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[h,{kind:"InlineFragment",selections:[f,S,T],type:"ProjectV2IterationField",abstractKey:null},w],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},b,v,x,C],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},w],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'fieldValues(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'},{alias:null,args:F,filters:["orderBy"],handle:"connection",key:"ProjectItemSection_fieldValues",kind:"LinkedHandle",name:"fieldValues"}],type:"ProjectV2Item",abstractKey:null}],storageKey:null}]},params:{id:"241d243a15a751aa4668f46296a39636",metadata:{},name:"ProjectItemSectionFieldListQuery",operationKind:"query",text:null}});eY.hash="b0347ba7355910f2a5163bb08004baef";var eJ=a(83223);let eX={fragment:{argumentDefinitions:E=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"unarchiveProjectItemMutation",selections:[{alias:null,args:V=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UnarchiveProjectV2ItemPayload",kind:"LinkedField",name:"unarchiveProjectV2Item",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"item",plural:!1,selections:[D={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:E,kind:"Operation",name:"unarchiveProjectItemMutation",selections:[{alias:null,args:V,concreteType:"UnarchiveProjectV2ItemPayload",kind:"LinkedField",name:"unarchiveProjectV2Item",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"item",plural:!1,selections:[D,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"1d1e59700f5c9977430696b2338a0674",metadata:{},name:"unarchiveProjectItemMutation",operationKind:"mutation",text:null}};eX.hash="774df17c4810f952c016355065fbcd6c";let eZ={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProjectItemSectionFields",selections:[R={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[R,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],concreteType:"ProjectV2FieldConfigurationConnection",kind:"LinkedField",name:"fields",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2FieldConfigurationEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[R,M={alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"isIssueField",storageKey:null},{args:null,kind:"FragmentSpread",name:"TextFieldConfigFragment"},{args:null,kind:"FragmentSpread",name:"DateFieldConfigFragment"},{args:null,kind:"FragmentSpread",name:"NumberFieldConfigFragment"}],type:"ProjectV2Field",abstractKey:null},{kind:"InlineFragment",selections:[R,M,O,B,{args:null,kind:"FragmentSpread",name:"IterationFieldConfigFragment"}],type:"ProjectV2IterationField",abstractKey:null},{kind:"InlineFragment",selections:[R,M,O,B,{args:null,kind:"FragmentSpread",name:"SingleSelectFieldConfigFragment"}],type:"ProjectV2SingleSelectField",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:'fields(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFieldsValues"}],type:"ProjectV2Item",abstractKey:null};eZ.hash="9e108cec835ef8bbd41e623d8601e11b";let e0=($=[U={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["fieldValues"]}]},name:"ProjectItemSectionFieldsValues",selections:[{alias:"fieldValues",args:[{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"__ProjectItemSection_fieldValues_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:H=[U,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:$,type:"ProjectV2Field",abstractKey:null}],storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"TextFieldFragment"},{kind:"InlineFragment",selections:H,type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"NumberFieldFragment"},{kind:"InlineFragment",selections:H,type:"ProjectV2ItemFieldDateValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"DateFieldFragment"},{kind:"InlineFragment",selections:[U,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:$,type:"ProjectV2SingleSelectField",abstractKey:null}],storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"SingleSelectFieldFragment"},{kind:"InlineFragment",selections:[U,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:$,type:"ProjectV2IterationField",abstractKey:null}],storageKey:null}],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"IterationFieldFragment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'__ProjectItemSection_fieldValues_connection(orderBy:{"direction":"ASC","field":"POSITION"})'}],type:"ProjectV2Item",abstractKey:null});e0.hash="6064e6f5025ede2958816599a371f827";var e1=a(34164);let e2={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DateFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"DateFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null};e2.hash="77aee2b1b5d211b322b848ac87e2ca19";let e4={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DateFieldConfigFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2Field",abstractKey:null};e4.hash="137f1e064b5aa98d4b4aa184ee4db814";var e3=a(44939);let e6=(q=[{defaultValue:null,kind:"LocalArgument",name:"input"}],W=[{kind:"Variable",name:"input",variableName:"input"}],G={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},Y={alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:Q=[z={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},J=[{kind:"Literal",name:"name",value:"Status"}],Z={kind:"InlineFragment",selections:[X={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},ee=[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],en={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[el={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[z,X],type:"ProjectV2Field",abstractKey:null},ea={kind:"InlineFragment",selections:Q,type:"Node",abstractKey:"__isNode"}],storageKey:null},eo=[z,et={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},ei={alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},es={alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},er={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],{fragment:{argumentDefinitions:q,kind:"Fragment",metadata:null,name:"clearProjectItemFieldValueMutation",selections:[{alias:null,args:W,concreteType:"ClearProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"clearProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[z,G,Y,{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFieldsValues"},{alias:null,args:J,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[Z],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:q,kind:"Operation",name:"clearProjectItemFieldValueMutation",selections:[{alias:null,args:W,concreteType:"ClearProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"clearProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[z,G,Y,{alias:null,args:ee,concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"fieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[el,{kind:"InlineFragment",selections:[z,en,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[z,en,{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{kind:"InlineFragment",selections:[z,en,{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[z,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[el,{kind:"InlineFragment",selections:Q,type:"ProjectV2SingleSelectField",abstractKey:null},ea],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},X,{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[z,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[el,{kind:"InlineFragment",selections:[z,X,{alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:eo,storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:eo,storageKey:null}],storageKey:null}],type:"ProjectV2IterationField",abstractKey:null},ea],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},et,ei,es,er],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},ea],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'fieldValues(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'},{alias:null,args:ee,filters:["orderBy"],handle:"connection",key:"ProjectItemSection_fieldValues",kind:"LinkedHandle",name:"fieldValues"},{alias:null,args:J,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[el,Z,ea],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null}]},params:{id:"d132dec069be1a67131a5e271bc909a6",metadata:{},name:"clearProjectItemFieldValueMutation",operationKind:"mutation",text:null}});function e5({environment:e,input:l,onError:a,onCompleted:n}){return(0,eU.commitMutation)(e,{mutation:e6,variables:{input:l},optimisticUpdater:e=>{let a,n;return a=`${eU.ConnectionHandler.getConnectionID(l.itemId,"ProjectItemSection_fieldValues")}(orderBy:{"direction":"ASC","field":"POSITION"})`,void((n=e.get(a))&&n.getLinkedRecords("edges")?.map((e,a)=>{if(e?.getLinkedRecord("node")?.getLinkedRecord("field")?.getDataID()===l.fieldId){let e=n.getLinkedRecords("edges")||[];e.splice(a,1),n.setLinkedRecords(e,"edges")}}))},onError:e=>a&&a(e),onCompleted:e=>n&&n(e)})}e6.hash="1cc97421540c4997953175725e1f92c9";let e7=(eu=[{defaultValue:null,kind:"LocalArgument",name:"input"}],ed=[{kind:"Variable",name:"input",variableName:"input"}],ec=[{kind:"Literal",name:"name",value:"Status"}],eg={kind:"InlineFragment",selections:[em={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},ep=[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],ey={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},eh={kind:"InlineFragment",selections:ef=[ek={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"},eb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[ey,{kind:"InlineFragment",selections:[ek,em],type:"ProjectV2Field",abstractKey:null},eh],storageKey:null},ev=[ek,eF={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},eI={alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},eS={alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},e_={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],{fragment:{argumentDefinitions:eu,kind:"Fragment",metadata:null,name:"updateProjectItemFieldValueMutation",selections:[{alias:null,args:ed,concreteType:"UpdateProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"updateProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFieldsValues"},{alias:null,args:ec,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[eg],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:eu,kind:"Operation",name:"updateProjectItemFieldValueMutation",selections:[{alias:null,args:ed,concreteType:"UpdateProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"updateProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[{alias:null,args:ep,concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"fieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[ey,{kind:"InlineFragment",selections:[ek,eb,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[ek,eb,{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{kind:"InlineFragment",selections:[ek,eb,{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[ek,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[ey,{kind:"InlineFragment",selections:ef,type:"ProjectV2SingleSelectField",abstractKey:null},eh],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},em,{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[ek,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[ey,{kind:"InlineFragment",selections:[ek,em,{alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:ev,storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:ev,storageKey:null}],storageKey:null}],type:"ProjectV2IterationField",abstractKey:null},eh],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},eF,eI,eS,e_],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},eh],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'fieldValues(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'},{alias:null,args:ep,filters:["orderBy"],handle:"connection",key:"ProjectItemSection_fieldValues",kind:"LinkedHandle",name:"fieldValues"},{alias:null,args:ec,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[ey,eg,eh],storageKey:'fieldValueByName(name:"Status")'},ek],storageKey:null}],storageKey:null}]},params:{id:"8b296fae9f2499af49f72d6df68d6b5c",metadata:{},name:"updateProjectItemFieldValueMutation",operationKind:"mutation",text:null}});function e8({environment:e,input:l,onError:a,onCompleted:n}){return(0,eU.commitMutation)(e,{mutation:e7,variables:{input:l},optimisticUpdater:e=>(function(e,l){let a=`${eU.ConnectionHandler.getConnectionID(l.itemId,"ProjectItemSection_fieldValues")}(orderBy:{"direction":"ASC","field":"POSITION"})`,n=e.get(a);if(!n)return;let t=(n.getLinkedRecords("edges")?.map(e=>e.getLinkedRecord("node"))||[]).find(e=>{if(!e)return!1;let a=e.getLinkedRecord("field");return!!a&&a.getDataID()===l.fieldId});if(t)switch(t.getType()){case"ProjectV2ItemFieldTextValue":t.setValue(l.value.text,"text");break;case"ProjectV2ItemFieldNumberValue":t.setValue(l.value.number,"number");break;case"ProjectV2ItemFieldDateValue":t.setValue(l.value.date,"date");break;case"ProjectV2ItemFieldSingleSelectValue":{if(!l.value.singleSelectOptionId)return;let a=e.get(l.value.singleSelectOptionId);if(!a)return;for(let e of(t.setValue(l.value.singleSelectOptionId,"optionId"),["color","name","nameHTML"]))t.setValue(a.getValue(e),e);break}case"ProjectV2ItemFieldIterationValue":{if(!l.value.iterationId)return;let a=e.get(l.value.iterationId);if(!a)return;for(let e of(t.setValue(l.value.iterationId,"iterationId"),["duration","startDate","title","titleHTML"]))t.setValue(a.getValue(e),e)}}})(e,l),onError:e=>a&&a(e),onCompleted:e=>n&&n(e)})}e7.hash="de3a39d4584b64ead2a58f140d26d900";var e9=a(80380),le=a(71313),ll=a(7624),la=a(26108),ln=a(74939);let lt="ProjectsSections-module__FieldListLi__z4iZQ",li="ProjectsSections-module__FieldListUl__oQNaw",ls="ProjectsSections-module__ListFieldWrapperText__zfoDP",lr="ProjectsSections-module__FieldBasisAuto__hoo4r";function lo({children:e,isStatusField:l,name:a}){return(0,eP.jsx)(eP.Fragment,{children:l?(0,eP.jsx)("div",{className:"FieldWrapper-module__fieldContentContainer__BqWBv",children:e}):(0,eP.jsxs)(eP.Fragment,{children:[(0,eP.jsx)("span",{className:ln.A.issueFieldLabel,children:a}),(0,eP.jsx)(eP.Fragment,{children:e})]})})}function lu({children:e,onClick:l,anchorProps:a,readOnly:n,isStatusField:t=!1,isEditing:i=!1,placeholder:s,name:r,ref:o}){let u=t?"FieldWrapper-module__metadataFieldButton__i1uPx":(0,e1.$)("ProjectsSections-module__projectFieldMetadataContainer__AVCr1",ln.A.issueFieldFormWrapper,!n&&ln.A.issueFieldFormWrapperClickable,i&&ln.A.isEditing);return n?(0,eP.jsx)("div",{className:u,children:(0,eP.jsx)(lo,{isStatusField:t,name:r,children:e})}):(0,eP.jsx)("button",{ref:o,type:"button","aria-label":s,onClick:n?le.l:l,className:u,...a,children:(0,eP.jsx)(lo,{isStatusField:t,name:r,children:e})})}function ld({ref:e,name:l,placeholder:a,value:n,input:t,anchorProps:i,showInput:s,setShowInput:r,canUpdate:o=!0,isStatusField:u=!1,onCommit:d=le.l,validationMessage:c,preventSubmit:m,isClean:g,setIsClean:p,shouldRestoreRowFocus:y=!1,setShouldRestoreRowFocus:k}){let f=(0,eB.useRef)(null),h=(0,eB.useId)(),b=(0,eB.useRef)(null),F=(0,eB.useCallback)(e=>{!i&&o?r(!0):i?.onClick&&i.onClick(e)},[i,o,r]),I=(0,eB.useCallback)(e=>{!e.currentTarget.contains(e.relatedTarget)&&g&&r(!1)},[g,r]);return(0,eB.useLayoutEffect)(()=>{!s&&y&&(b.current?.focus(),k?.(!1))},[k,y,s]),(0,eP.jsx)("span",{ref:e||f,className:(0,e1.$)(u&&"ProjectsSections-module__ListFieldWrapper__VAD7T"),children:s&&o?(0,eP.jsx)("div",{onBlur:I,children:(0,eP.jsxs)(ll.A,{className:(0,e1.$)(ln.A.issueFieldFormWrapper,ln.A.issueFieldFormWrapperClickable,ln.A.isEditing),children:[(0,eP.jsx)(ll.A.Label,{id:h,className:"ProjectsSections-module__FieldWrapperLabel__CYVyF",children:(0,eP.jsx)("span",{className:u?(0,e1.$)(ls,lr):(0,e1.$)(ln.A.issueFieldLabel),children:l})}),t,(0,eP.jsx)(la.K,{"aria-label":eH.k.textEditorUpdateButton,size:"small",icon:eR.CheckIcon,onClick:m?void 0:()=>{d(),r(!1),p?.(!0),k?.(!0)},inactive:m,"aria-disabled":m,className:ln.A.issueFieldActionButton}),c&&(0,eP.jsx)(ll.A.Validation,{variant:"error",className:"FieldWrapper-module__fieldItemError__Xjd3X",children:c})]})}):(0,eP.jsxs)(eP.Fragment,{children:[u?(0,eP.jsx)("p",{className:u?(0,e1.$)(ls,lr):(0,e1.$)(ln.A.issueFieldLabel),children:l}):null,(0,eP.jsx)(lu,{ref:b,isStatusField:u,anchorProps:{...i,"aria-describedby":h},onClick:F,readOnly:!o,name:l,isEditing:s,children:(0,eP.jsx)("span",{className:n?u?"FieldWrapper-module__fieldValueText__ywoJY":(0,e1.$)(ln.A.issueFieldValueText,ln.A.hasValue):u?"FieldWrapper-module__fieldPlaceholderText___durf":ln.A.issueFieldValueText,children:n||a})})]})})}function lc({viewerCanUpdate:e,itemId:l,projectId:a,field:n,value:t,onIssueUpdate:i}){let s=(0,eU.useRelayEnvironment)(),r=(0,eU.useFragment)(e4,n),o=(0,eU.useFragment)(e2,t),u=r.id,d=r.name,c=o?new Date(o.date):null,m=c?(0,e9.b)(c):"No date",[g,p]=(0,eB.useState)(c),[y,k]=(0,eB.useState)(!1),f=(0,eB.useCallback)(e=>{p(e),e?e8({environment:s,input:{fieldId:u,itemId:l,projectId:a,value:{date:new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().slice(0,10)}},onCompleted:i}):e5({environment:s,input:{fieldId:u,itemId:l,projectId:a},onCompleted:i})},[s,u,l,i,a]),h=(0,eB.useCallback)(e=>(0,eP.jsx)(ld,{showInput:y,setShowInput:k,anchorProps:e,placeholder:eH.k.emptySections.datePlaceholder,value:m||eH.k.emptySections.noValue(d),name:d}),[m,d,y]);return e?(0,eP.jsx)(e3.DatePicker,{variant:"single",showClearButton:!0,value:g,onChange:f,anchor:h}):(0,eP.jsx)(ld,{showInput:y,setShowInput:k,placeholder:eH.k.emptySections.noValue(d),canUpdate:!1,name:d,value:m})}lo.displayName="ProjectFieldDisplayContent",lu.displayName="ProjectFieldDisplay",ld.displayName="FieldWrapper",lc.displayName="DateField";let lm={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IterationFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"IterationFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldIterationValue",abstractKey:null};lm.hash="57212d5c33092763cd6c9ea8afef0615";let lg=(eC=[{kind:"InlineDataFragmentSpread",name:"IterationFieldIterationFragment",selections:[ex={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],args:null,argumentDefinitions:[]}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IterationFieldConfigFragment",selections:[ex,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:eC,storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:eC,storageKey:null}],storageKey:null}],type:"ProjectV2IterationField",abstractKey:null});lg.hash="1820eb43fb63bb62abf4c8f24979732c";let lp={kind:"InlineDataFragment",name:"IterationFieldIterationFragment"};lp.hash="28591c2749a30e9b111acd7e77a057f9";var ly=a(83765),lk=a(29207),lf=a(84929);function lh({startDate:e,durationInDays:l,titleHTML:a}){var n,t;let i=new Date,s=(0,lf.H)(e),r=(n=s,t=l,new Date(n.getTime()+(t-1)*864e5)),o=s<=i&&i<=r,u=e=>e.toLocaleDateString("en-US",{month:"short",day:"numeric"});return(0,eP.jsxs)("div",{className:"IterationItem-module__IterationItemContainer__wsdyL",children:[(0,eP.jsx)("div",{className:"IterationItem-module__iterationTitleContainer__FFUJG",children:(0,eP.jsx)(lk.JR,{html:a})}),(0,eP.jsx)(eP.Fragment,{children:"\u2022 "}),(0,eP.jsxs)("span",{className:"IterationItem-module__iterationDateRange__VGUN8",children:[`${u(s)} - ${u(r)}`," ",o&&(0,eP.jsx)(eP.Fragment,{children:"\u2022 "})]}),o&&(0,eP.jsx)("span",{className:"IterationItem-module__currentIndicator__CJ6LS",children:"Current"})]})}lh.displayName="IterationItem";let lb={groupId:"completed",header:{title:"Completed",variant:"filled"}},lF={groupId:"active",header:{title:"Active",variant:"filled"}};function lI({viewerCanUpdate:e,itemId:l,projectId:a,field:n,value:t,onIssueUpdate:i}){let[s,r]=(0,eB.useState)(!1),o=(0,eU.useRelayEnvironment)(),u=(0,eU.useFragment)(lg,n),d=(0,eU.useFragment)(lm,t),c=u.id,m=u.name,[g,p]=(0,eB.useState)(""),y=(0,eB.useCallback)(e=>{1===e.length?e8({environment:o,input:{fieldId:c,itemId:l,projectId:a,value:{iterationId:e[0].id}},onCompleted:i}):0===e.length&&e5({environment:o,input:{fieldId:c,itemId:l,projectId:a},onCompleted:i}),r(!1)},[o,c,l,a,i]),k=(0,eB.useCallback)(e=>{p(e)},[]),f=(0,eB.useMemo)(()=>{let e=(u.configuration?.iterations||[]).concat(u.configuration?.completedIterations||[]).map(e=>(0,eU.readInlineData)(lp,e));return g?e.filter(e=>e.title.toLowerCase().indexOf(g.toLowerCase())>=0):e},[u.configuration?.completedIterations,u.configuration?.iterations,g]),h=(0,eB.useMemo)(()=>new Set((u.configuration?.completedIterations||[]).map(e=>(0,eU.readInlineData)(lp,e).id)),[u.configuration?.completedIterations]),b=(0,eB.useMemo)(()=>{let e=u.configuration?.iterations||[],l=u.configuration?.completedIterations||[];return e.concat(l).map(e=>(0,eU.readInlineData)(lp,e)).filter(e=>e.id===d?.iterationId)},[u.configuration?.completedIterations,u.configuration?.iterations,d?.iterationId]),F=(0,eB.useCallback)(e=>({id:e.id,children:(0,eP.jsx)(lh,{startDate:e.startDate,durationInDays:e.duration,titleHTML:e.titleHTML}),source:e,groupId:h.has(e.id)?lb.groupId:lF.groupId}),[h]),I=(0,eB.useCallback)(e=>(0,eP.jsx)(ld,{showInput:s,setShowInput:r,anchorProps:e,placeholder:eH.k.emptySections.iterationPlaceholder,value:d?(0,eP.jsx)(lh,{startDate:d.startDate,durationInDays:d.duration,titleHTML:d.titleHTML}):null,name:m}),[m,s,d]),S=(0,eB.useMemo)(()=>h.size>0?[lF,lb]:[lF],[h.size]);return e?(0,eP.jsx)(ly.O,{items:f,groups:S,initialSelectedItems:b,filterItems:k,getItemKey:e=>e.id,convertToItemProps:F,placeholderText:eH.k.emptySections.iterationFilterPlaceholder,selectionVariant:"single",onSelectionChange:y,renderAnchor:I,height:"large"}):(0,eP.jsx)(ld,{showInput:s,setShowInput:r,value:d?(0,eP.jsx)(lh,{startDate:d.startDate,durationInDays:d.duration,titleHTML:d.titleHTML}):null,placeholder:eH.k.emptySections.noValue(m),canUpdate:!1,name:m})}lI.displayName="IterationField";let lS={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"NumberFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"NumberFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null};lS.hash="ac86c256f18719392417c8d6f6be4c01";let l_={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"NumberFieldConfigFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2Field",abstractKey:null};l_.hash="aa7c72083a9ec843850d1089ba1ddda3";var lv=a(76885),lx=a(38750),lC=a(72238);function lj({viewerCanUpdate:e,itemId:l,projectId:a,field:n,value:t,onIssueUpdate:i}){let[s,r]=(0,eB.useState)(!1),o=(0,eB.useRef)(null),[u,d]=(0,eB.useState)(!0),c=(0,eU.useRelayEnvironment)(),m=(0,eU.useFragment)(l_,n),g=(0,eU.useFragment)(lS,t),p=m.id,y=m.name,k=g?.number?.toString()??"",[f,h]=(0,eB.useState)(k),[b,F]=(0,eB.useState)(void 0),[I,S]=(0,eB.useState)(!1),_=(0,eB.useCallback)(()=>{b?(h(k),F(void 0)):e8({environment:c,input:{fieldId:p,itemId:l,projectId:a,value:{number:""===f?null:(0,lv.$J)(f)}},onCompleted:i})},[f,c,p,b,l,i,k,a]),v=(0,eB.useCallback)(e=>{let l=e.target.value;F((0,lv.Ge)(l)),h(l),l===k?d(!0):d(!1)},[k]),x=(0,eB.useCallback)(()=>{_(),r(!1),d(!0),S(!0)},[_]),C=(0,eB.useCallback)(()=>{o.current&&(h(k),o.current.blur(),r(!1),d(!0),S(!0))},[k]),j=(0,eB.useCallback)(e=>{"Enter"===e.key&&(e.preventDefault(),x()),"Escape"===e.key&&(e.stopPropagation(),C())},[C,x]),T=(0,eB.useMemo)(()=>!!b,[b]);return e?(0,eP.jsx)(ld,{showInput:s,setShowInput:r,value:f,name:y,placeholder:eH.k.emptySections.numberPlaceholder,onCommit:_,validationMessage:b,preventSubmit:T,isClean:u,setIsClean:d,shouldRestoreRowFocus:I,setShouldRestoreRowFocus:S,input:(0,eP.jsx)(lx.A,{"data-testid":"number-field-input",placeholder:eH.k.emptySections.numberPlaceholder,ref:o,size:"small",onChange:v,onKeyDown:j,value:f,className:lC.A.issueFieldTextInput,onFocus:e=>e.target.setSelectionRange(e.target.value.length,e.target.value.length),inputMode:"numeric",autoFocus:!0})}):(0,eP.jsx)(ld,{showInput:s,setShowInput:r,placeholder:eH.k.emptySections.noValue(y),canUpdate:!1,value:f,name:y})}lj.displayName="NumberField";let lT={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SingleSelectFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null};lT.hash="46251798d3a30836a6711ecaa3cc54e8";let lK={kind:"InlineDataFragment",name:"SingleSelectFieldOptionFragment"};lK.hash="be640a30fa15271b4fa34e75d3ddb9b1";let lL={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SingleSelectFieldConfigFragment",selections:[ej={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},eT={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2SingleSelectFieldOption",kind:"LinkedField",name:"options",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"SingleSelectFieldOptionFragment",selections:[ej,{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},eT,{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},eK={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null}],args:null,argumentDefinitions:[]},ej,eT,{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},eK],storageKey:null}],type:"ProjectV2SingleSelectField",abstractKey:null};lL.hash="7609e6b1ac2a8d003401b9f85fcd3e61";var lN=a(94709);let lP={overflow:"hidden",cursor:"inherit","> span":{overflow:"hidden",textOverflow:"ellipsis"}},lw={overflow:"hidden",textOverflow:"ellipsis",display:"inline-flex",cursor:"inherit","> span":{verticalAlign:"text-top"}};var lA=a(61935);let lE=({inputName:e,inputColor:l})=>{let a=(0,lA.Wk)(l);return(0,eP.jsx)(lN.ou,{sx:{bg:a.bg,color:a.fg,borderColor:a.border,":hover":{bg:a.bg,color:a.fg,borderColor:a.border},...lw},size:"medium",text:e,className:"SingleSelectToken-module__Token__f1S1H"})};lE.displayName="SingleSelectToken";let lV=({inputColor:e})=>{let{bg:l,accent:a}=(0,lA.Wk)(e);return(0,eP.jsx)(lN.az,{sx:{bg:l,borderColor:a},className:"SingleSelectToken-module__colorIndicator__krSWU"})};function lD({viewerCanUpdate:e,itemId:l,projectId:a,field:n,value:t,onIssueUpdate:i,isStatusField:s}){let[r,o]=(0,eB.useState)(!1),u=(0,eU.useRelayEnvironment)(),d=(0,eU.useFragment)(lL,n),c=(0,eU.useFragment)(lT,t),m=d.id,g=d.name,[p,y]=(0,eB.useState)(""),k=(0,eB.useCallback)(e=>{1===e.length?e8({environment:u,input:{fieldId:m,itemId:l,projectId:a,value:{singleSelectOptionId:e[0].optionId}},onCompleted:i}):0===e.length&&e5({environment:u,input:{fieldId:m,itemId:l,projectId:a},onCompleted:i}),o(!1)},[u,m,l,i,a]),f=(0,eB.useCallback)(e=>{y(e)},[]),h=(0,eB.useMemo)(()=>{let e=(d.options||[]).map(e=>(0,eU.readInlineData)(lK,e));return p?e.filter(e=>e.name.toLowerCase().indexOf(p.toLowerCase())>=0):e},[d.options,p]),b=(0,eB.useMemo)(()=>(d.options||[]).map(e=>(0,eU.readInlineData)(lK,e)).filter(e=>e.optionId===c?.optionId),[d.options,c?.optionId]),F=(0,eB.useCallback)(e=>({id:e.optionId,children:(0,eP.jsxs)("div",{className:"SingleSelectField-module__optionContent__tKdyU",children:[(0,eP.jsx)(lk.JR,{html:e.nameHTML}),(0,eP.jsx)(lk.JR,{html:e.descriptionHTML,className:"SingleSelectField-module__VerifiedHTMLText__hAueU"})]}),source:e,leadingVisual:()=>(0,eP.jsx)(lV,{inputColor:e.color})}),[]),I=(0,eB.useCallback)(e=>(0,eP.jsx)(ld,{showInput:r,setShowInput:o,name:g,isStatusField:s,placeholder:s?(0,eP.jsxs)("div",{className:"SingleSelectField-module__statusPlaceholder__L8Oci",children:[eH.k.emptySections.status,(0,eP.jsx)(eR.TriangleDownIcon,{})]}):(0,eP.jsx)(eP.Fragment,{children:eH.k.emptySections.singleSelectFilterPlaceholder}),value:c?.name&&c?.color?(0,eP.jsxs)("div",{className:"SingleSelectField-module__selectedValueContainer__Hsno7",children:[(0,eP.jsx)(lE,{inputName:c.name,inputColor:c.color}),s&&(0,eP.jsx)(eR.TriangleDownIcon,{})]}):null,anchorProps:e}),[g,s,r,c?.color,c?.name]);if(!e)return(0,eP.jsx)(ld,{showInput:r,setShowInput:o,canUpdate:!1,name:g,placeholder:eH.k.emptySections.noValue(g),value:c?.name?(0,eP.jsx)(lN.ou,{sx:(c.name,lw),size:"medium",text:c.name}):null,isStatusField:s});return(0,eP.jsx)(ly.O,{items:h,initialSelectedItems:b,filterItems:f,getItemKey:e=>e.optionId,convertToItemProps:F,placeholderText:eH.k.emptySections.singleSelectFilterPlaceholder,selectionVariant:"single",onSelectionChange:k,renderAnchor:I,height:"large"})}lV.displayName="SingleSelectLeadingVisual",lD.displayName="SingleSelectField";let lR={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"TextFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null};lR.hash="69f479d8a39d90ca27cb126efa7b738b";let lM={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextFieldConfigFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2Field",abstractKey:null};lM.hash="7fbd4e4b2889e3438c0acaa4655bcc8d";var lO=a(70730),lB=a(67323),lU=a(65820),l$=a(53708);function lH({viewerCanUpdate:e,itemId:l,projectId:a,field:n,value:t,onIssueUpdate:i}){let s=(0,eU.useRelayEnvironment)(),r=(0,eB.useRef)(null),o=(0,eU.useFragment)(lM,n),u=(0,eU.useFragment)(lR,t),d=o.id,c=o.name,[m,g]=(0,eB.useState)(!1),p=u?.text??"",[y,k]=(0,eB.useState)(p),[f,h]=(0,eB.useState)(!0),[b,F]=(0,eB.useState)(!1),I=(0,eB.useCallback)(()=>{e8({environment:s,input:{fieldId:d,itemId:l,projectId:a,value:{text:y}},onCompleted:i})},[s,d,l,a,y,i]),S=(0,eB.useCallback)(e=>{let l=e.target.value;k(l),l===p?h(!0):h(!1)},[p]),_=(0,eB.useCallback)(()=>{I(),g(!1),h(!0),F(!0)},[I]),v=(0,eB.useCallback)(()=>{r.current&&(k(u?.text??""),r.current.blur(),g(!1),h(!0),F(!0))},[u?.text]),x=(0,eB.useCallback)(e=>{"Enter"===e.key&&(e.preventDefault(),_()),"Escape"===e.key&&(e.stopPropagation(),v())},[_,v]),[C,j]=(0,eB.useState)(!1),T=(0,eB.useRef)(null),K=(0,eB.useCallback)(e=>()=>lO.cg?.open((0,l$.ml)(e),"_blank","noreferrer"),[]),L=(0,eB.useCallback)(()=>g(!0),[g]),N=(0,eB.useCallback)(()=>j(!0),[j]),P=(0,eB.useCallback)(e=>{"Enter"===e.key&&(e.preventDefault(),N())},[N]),w=(0,eB.useCallback)(l=>e&&l.preventDefault(),[e]),A=(0,eB.useMemo)(()=>y.split(/(\s+)/),[y]),[E,V,D]=(0,eB.useMemo)(()=>{let e=[],l=!1;return[A.map((a,n)=>{let t=(0,l$.o2)(a),i=(0,l$.ml)(t);return(0,l$.Y9)(i)&&(0,l$.cE)(i)?(l=!0,e.push(a),(0,eP.jsx)(eJ.A,{tabIndex:0,href:(0,l$.ml)(a),onKeyDown:P,onClick:w,target:"_blank",children:a},`text-field-link-${n}`)):a}),l,e]},[A,w,P]),R=V?{onClick:N}:void 0,M=(0,eP.jsx)(lB.W,{open:C,onOpenChange:e=>j(e),anchorRef:T,children:(0,eP.jsx)(lB.W.Overlay,{width:"small",children:(0,eP.jsx)(eM.l,{children:(0,eP.jsxs)(eM.l.Group,{children:[D?.map((e,l)=>(0,eP.jsxs)(eM.l.Item,{onSelect:K(e),role:"button",children:[(0,eP.jsx)(eM.l.LeadingVisual,{children:(0,eP.jsx)(eR.LinkIcon,{})}),e]},l)),e&&(0,eP.jsxs)(eM.l.Item,{onSelect:L,role:"button",children:[(0,eP.jsx)(eM.l.LeadingVisual,{children:(0,eP.jsx)(eR.PencilIcon,{})}),"Edit"]})]})})})});return e?(0,eP.jsxs)(eP.Fragment,{children:[(0,eP.jsx)(ld,{ref:T,value:y?E:void 0,anchorProps:R,name:c,placeholder:"Enter text\u2026",showInput:m,setShowInput:g,onCommit:I,isClean:f,setIsClean:h,shouldRestoreRowFocus:b,setShouldRestoreRowFocus:F,input:(0,eP.jsx)(lU.Ay,{"data-testid":"text-field-input",placeholder:"Enter text\u2026",ref:r,resize:"none",onChange:S,onKeyDown:x,value:y,className:(0,e1.$)(lC.A.issueFieldTextInput,lC.A.issueFieldTextTextarea),onFocus:e=>e.target.setSelectionRange(e.target.value.length,e.target.value.length),autoFocus:!0})}),M]}):(0,eP.jsx)(ld,{showInput:m,setShowInput:g,placeholder:`No ${c}`,canUpdate:!1,value:y?E:void 0,name:c})}function lq({projectItem:e,onIssueUpdate:l}){let a=(0,eU.useFragment)(eZ,e),{fieldValues:n}=(0,eU.useFragment)(e0,a),t=(0,eB.useMemo)(()=>(a?.project.fields?.edges||[]).map(e=>{if(!e?.node||e.node.isIssueField||"Status"===e.node.name)return;let t=e.node,i=t.dataType,s=t.id,r=(n?.edges||[]).flatMap(e=>e?.node?[e.node]:[]).find(e=>e?.field?.id===s)||null,o={viewerCanUpdate:!a.isArchived&&a.project.viewerCanUpdate,itemId:a.id,projectId:a.project.id,field:t,value:r,onIssueUpdate:l};switch(i){case"SINGLE_SELECT":return(0,eP.jsx)(lD,{...o},s);case"TEXT":return(0,eP.jsx)(lH,{...o},s);case"DATE":return(0,eP.jsx)(lc,{...o},s);case"NUMBER":return(0,eP.jsx)(lj,{...o},s);case"ITERATION":return(0,eP.jsx)(lI,{...o},s)}}).filter(e=>void 0!==e),[a.project.fields?.edges,a.project.viewerCanUpdate,a.project.id,a.isArchived,a.id,n?.edges,l]);return 0===t.length?(0,eP.jsx)(eP.Fragment,{children:" "}):(0,eP.jsx)("ul",{className:(0,e1.$)(li,"ProjectsSections-module__FieldListInternal__z6Nk9"),children:t.map((e,l)=>(0,eP.jsx)("li",{className:lt,children:e},`project-field-${l}`))})}lH.displayName="TextField",lq.displayName="ProjectItemSectionFields";var lW=a(53351);function lz(){return(0,eP.jsx)("ul",{className:li,children:(0,eP.jsxs)("li",{className:(0,e1.$)(lt,"ProjectsSections-module__loading__T6Ogs"),children:[(0,eP.jsx)(lG,{}),(0,eP.jsx)(lG,{}),(0,eP.jsx)(lG,{})]})})}function lG(){return(0,eP.jsxs)("span",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:8,width:"100%",marginTop:2},children:[(0,eP.jsx)(lW.Q,{height:"md",width:"40%"}),(0,eP.jsx)(lW.Q,{height:"md",width:"60%"})]})}function lQ(e){return(0,eP.jsx)(eB.Suspense,{fallback:(0,eP.jsx)(lz,{}),children:(0,eP.jsx)(lY,{...e})})}function lY({isArchived:e,projectItemId:l,projectId:a,onIssueUpdate:n}){let t=(0,eU.useRelayEnvironment)(),{addToast:i}=(0,eD.Y6)(),{node:s}=(0,eU.useLazyLoadQuery)(eY,{id:l}),r=(0,eB.useCallback)(()=>{!function({environment:e,input:l,onError:a,onCompleted:n}){(0,eU.commitMutation)(e,{mutation:eX,variables:{input:l},onError:e=>a&&a(e),onCompleted:e=>n&&n(e)})}({environment:t,input:{projectId:a,itemId:l},onCompleted:()=>{i({type:"success",message:eH.k.archivedSuccess})},onError:()=>{i({type:"error",message:eH.k.archivedError})}})},[t,a,l,i]);if(!s||!s.project)return null;let o=e&&s.project.viewerCanUpdate;return(0,eP.jsxs)(eP.Fragment,{children:[o&&(0,eP.jsx)("ul",{className:li,children:(0,eP.jsx)("li",{className:"ProjectsSections-module__ArchivedLi___USeg",children:(0,eP.jsxs)("span",{className:"ProjectsSections-module__FieldListLiText__cOS7B",children:[eH.k.archivedDescription,"\xa0",(0,eP.jsx)(eJ.A,{onClick:r,className:"ProjectItemSectionFieldList-module__restoreLink__Ldo5r",children:"Restore"})]})})}),(0,eP.jsx)(lq,{onIssueUpdate:n,projectItem:s})]})}lz.displayName="ProjectItemSectionFieldsLoading",lG.displayName="ProjectFieldLoading",lQ.displayName="ProjectItemSectionFieldList",lY.displayName="ProjectItemSectionFieldListInternal";let lJ={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProjectItemSectionView",selections:[eL={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[eL,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"template",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:eN=[{kind:"Literal",name:"name",value:"Status"}],concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SingleSelectFieldConfigFragment"}],storageKey:'field(name:"Status")'}],storageKey:null},{alias:null,args:eN,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SingleSelectFieldFragment"}],storageKey:'fieldValueByName(name:"Status")'}],type:"ProjectV2Item",abstractKey:null};lJ.hash="7d5cd0d9d7271a8e8f19cce6e01dac52";var lX=a(2438),lZ=a(39775);function l0({projectItem:e,setOpen:l,open:a,onIssueUpdate:n,isProjectOpen:t}){let{id:i,project:s,fieldValueByName:r,isArchived:o}=(0,eU.useFragment)(lJ,e);return(0,eP.jsxs)("div",{className:"ProjectItemSectionView-module__ProjectItemSectionViewContainer__AlorV",children:[t?(0,eP.jsxs)("span",{className:"ProjectItemSectionView-module__projectTitleText__aQR3h",children:[s.template?(0,eP.jsx)(eR.ProjectTemplateIcon,{className:"fgColor-muted","aria-hidden":"true"}):(0,eP.jsx)(eR.TableIcon,{className:"fgColor-muted","aria-hidden":"true"}),(0,eP.jsx)("span",{className:"ProjectItemSectionView-module__truncatedProjectTitle__uOooH",children:s.title})]}):(0,eP.jsx)("div",{className:"ProjectItemSectionView-module__projectLinkContainer__Nex5L",children:(0,eP.jsxs)(eJ.A,{href:s.url,hoverColor:"accent.fg",tabIndex:0,className:"ProjectItemSectionView-module__projectLink__jJDJk",children:[s.template?(0,eP.jsx)(eR.ProjectTemplateIcon,{className:"fgColor-muted","aria-hidden":"true"}):(0,eP.jsx)(eR.TableIcon,{className:"fgColor-muted","aria-hidden":"true"}),(0,eP.jsx)(lZ.A,{title:s.title,"data-testid":lX.Y.projectTitle,className:"ProjectItemSectionView-module__Truncate__eynJs",children:s.title})]})}),(0,eP.jsxs)("div",{className:"ProjectItemSectionView-module__statusFieldContainer__QvRaq",children:[s.field&&void 0!==r&&(0,eP.jsx)(lD,{viewerCanUpdate:s.viewerCanUpdate&&!o,itemId:i,projectId:s.id,field:s.field,value:r,onIssueUpdate:n,isStatusField:!0}),(0,eP.jsx)(la.K,{variant:"invisible",onClick:()=>{l(!a)},size:"small",icon:a?eR.ChevronUpIcon:eR.ChevronDownIcon,"aria-label":a?eH.k.hideMoreProjectFields:eH.k.showMoreProjectFields,"aria-expanded":a})]})]})}function l1({projectItem:e,onIssueUpdate:l,isOpen:a=!1}){let[n,t]=(0,eB.useState)(a),i=(0,eU.useFragment)(eQ,e);return(0,eP.jsxs)("div",{className:"ProjectItemSection-module__ProjectItemSectionContainer__Yvm9q",children:[(0,eP.jsx)(l0,{projectItem:i,open:n,setOpen:t,onIssueUpdate:l,isProjectOpen:a}),n&&(0,eP.jsx)(lQ,{projectItemId:i.id,projectId:i.project.id,isArchived:i.isArchived,onIssueUpdate:l})]})}l0.displayName="ProjectItemSectionView",l1.displayName="ProjectItemSection";let l2=()=>(0,eP.jsx)(eW.h,{title:eH.k.sectionTitles.projects});l2.displayName="ReadonlyProjectsSectionHeader";let l4=({ref:e,...l})=>(0,eP.jsx)(eG.X,{ref:e,id:l.id,title:eH.k.sectionTitles.projects,buttonProps:l});l4.displayName="ProjectsSectionHeader";let l3=({sectionHeader:e,hasItems:l,children:a})=>(0,eP.jsx)(ez.w,{id:"sidebar-projects-section",sectionHeader:e,emptyText:l?void 0:eH.k.emptySections.projects,children:a});l3.displayName="ProjectsSection";let l6=()=>(0,eP.jsx)(ez.w,{id:"projects-section-fallback",sectionHeader:(0,eP.jsx)(eW.h,{title:"Projects are currently unavailable"}),emptyText:"Please try again later"});l6.displayName="ProjectsSectionFallback";let l5=({owner:e,repo:l,projects:a,readonly:n,onSelectionChange:t,...i})=>{let s="create-issue-sidebar-projects-section-heading",r=n?(0,eP.jsx)(l2,{}):(0,eP.jsx)(eE.w,{pickerId:"create-issue-projects-picker",owner:e,repo:l,selectedProjects:a,readonly:n,onSave:t,anchorElement:e=>(0,eP.jsx)(l4,{...e,id:s}),...i});return(0,eP.jsx)(eV.t,{fallback:(0,eP.jsx)(l6,{}),children:(0,eP.jsx)(l3,{sectionHeader:r,hasItems:a.length>0,children:a.length>0&&(0,eP.jsx)(eM.l,{"aria-labelledby":s,variant:"full",className:"ProjectsSection-module__projectActionList__k_nia",children:a.map(e=>(0,eP.jsx)(eM.l.LinkItem,{href:e.url,className:"ProjectsSection-module__ActionList_LinkItem__kegx1",children:e.title},e.id))})})})};l5.displayName="CreateIssueProjectsSection";let l7=ew;function l8(e){let l=(0,eU.useFragment)(l7,e.issueOrPullRequest);return l.projectItems?(0,eP.jsx)(l9,{projectsSectionData:l,...e}):(0,eP.jsx)(l6,{})}l8.displayName="EditIssueProjectsSection";let l9=({projectsSectionData:e,allowedProjectOwner:l,onIssueUpdate:a,onRemovedFromProject:n,insideSidePanel:t,selectedProjectId:i,readonly:s})=>{let{addToast:r}=(0,eD.Y6)(),o=(e.projectItems?.edges??[]).flatMap(e=>e?.node?e?.node:[]).filter(e=>!0!==e.project.closed),u=(e.projectItems?.edges??[]).flatMap(e=>e?.node?e?.node:[]).filter(e=>!0===e.project.closed),[d,c]=(0,eB.useState)(!1),{viewerCanUpdateMetadata:m,viewerCanUpdate:g,repository:p}=e,y=s||!(m||g)||p?.isArchived,k=e.id||"",f=o.length>0||u.length>0,h=e$.ConnectionHandler.getConnectionID(k,"ProjectSection_projectItems",{allowedOwner:l,allowSameEnterprise:!0}),b=(0,eU.useRelayEnvironment)(),F=(0,eB.useCallback)(e=>{let l=e.filter(e=>!o.some(l=>l.project.id===e.id)),t=o.filter(l=>!e.some(e=>e.id===l.project.id)),s=!1;for(let e of l)(0,eA.Z)({environment:b,connectionId:h,projectId:e.id,issueId:k,onError:()=>s=!0,onCompleted:a});for(let e of t)!function({environment:e,connectionId:l,projectId:a,itemId:n,onError:t,onCompleted:i}){(0,eU.commitMutation)(e,{mutation:eq,variables:{input:{itemId:n,projectId:a},connections:[l]},onError:e=>t&&t(e),onCompleted:e=>i&&i(e)})}({environment:b,connectionId:h,projectId:e.project.id,itemId:e.id,onError:()=>s=!0,onCompleted:()=>{e.project.id===i&&n()}});s&&r({type:"error",message:"Could not update projects"})},[r,h,b,k,a,n,o,i]),I=(0,eB.useMemo)(()=>o.map(e=>e.project),[o]),S=u.length,_=(0,eB.useMemo)(()=>!e.repository||y?(0,eP.jsx)(l2,{}):(0,eP.jsx)(eE.w,{pickerId:`edit-issue-projects-picker-${k}`,repo:e.repository.name,owner:e.repository.owner.login,selectedProjects:I,readonly:y,onSave:F,anchorElement:e=>(0,eP.jsx)(l4,{...e}),insidePortal:t}),[k,e.repository,y,F,I,t]);return e.repository&&e.number?(0,eP.jsx)(l3,{sectionHeader:_,hasItems:f,children:(0,eP.jsxs)("div",{className:"ProjectsSection-module__projectItemsContainer__D1nPN",children:[o.map(e=>(0,eP.jsx)(l1,{onIssueUpdate:a,projectItem:e,isOpen:i===e.project.id},e.id)),S>0&&(0,eP.jsxs)(eP.Fragment,{children:[(0,eP.jsx)(eO.Q,{variant:"invisible",trailingVisual:d?eR.ChevronUpIcon:eR.ChevronDownIcon,onClick:()=>c(!d),"aria-label":eH.k.showClosedProjects,className:"ProjectsSection-module__toggleClosedProjectsButton__bozPo",children:`${S} closed project${S>1?"s":""}`}),d&&u.map(e=>(0,eP.jsx)(l1,{onIssueUpdate:a,projectItem:e,isOpen:i===e.project.id},e.id))]})]})}):null};l9.displayName="EditIssueProjectsSectionInternal"},44339(e,l,a){a.d(l,{S7:()=>K,PT:()=>T,Dd:()=>j,pf:()=>C});var n,t,i,s,r=a(74848);let o=(i=[n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TypesSectionTypeFragment",selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[n,t,{alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldText",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldSingleSelect",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldDate",abstractKey:null},{kind:"InlineFragment",selections:i,type:"IssueFieldNumber",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Issue",abstractKey:null});o.hash="5de1a91f4e1d4ecaa3f0a9efbb82f741";let u={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TypesSectionFragment",selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:100}],concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"issueTypes(first:100)"}],storageKey:null},s,{args:null,kind:"FragmentSpread",name:"TypesSectionTypeFragment"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanType",storageKey:null}],type:"Issue",abstractKey:null};u.hash="ed89df93a2fdaab7d32e7dfddf950293";var d=a(76347),c=a(7210),m=a(31184),g=a(56144),p=a(16135),y=a(96540),k=a(18312),f=a(95677),h=a(83529),b=a(73635),F=a(4763),I=a(970),S=a(6549);function _({type:e,anchorProps:l,repoNameWithOwner:a}){return(0,r.jsx)(r.Fragment,{children:e?(0,r.jsx)("div",{"data-testid":S.Y.typeContainer,className:"IssueType-module__IssueTypeToken__Ect_w",children:(0,r.jsx)(I.n,{name:e.name,color:e.color,href:`/${a}/issues?q=type:"${e.name}"`,getTooltipText:l=>l?e.name:void 0})}):(0,r.jsx)("div",{className:"IssueType-module__hiddenPlaceholder__Z7sTb",...l})})}_.displayName="IssueType";let v=()=>(0,r.jsx)(h.h,{title:f.k.sectionTitles.types});v.displayName="ReadonlyTypesSectionHeader";let x=({sectionHeader:e,type:l,repoNameWithOwner:a,sx:n})=>(0,r.jsx)(b.w,{id:"sidebar-types-section",sx:n,sectionHeader:e,emptyText:l?void 0:f.k.emptySections.types,children:(0,r.jsx)("div",{className:"TypesSection-module__typeContainer__FnO03",children:(0,r.jsx)(_,{type:l,repoNameWithOwner:a})})});function C({type:e,onSelectionChange:l,viewerCanType:a,sx:n,...t}){let{sendAnalyticsEvent:i}=(0,p.s)(),{repo:s,owner:o}=t;return(0,r.jsx)(x,{sx:n,sectionHeader:a?(0,r.jsx)(m.u,{onSelectionChange:e=>{let a=e?.[0]||null;i("issue_create.update_issue_type","ISSUE_CREATE_UPDATE_ISSUE_TYPE_DIALOG",{issueTypeId:a?.id??""}),l(a)},readonly:a,activeIssueType:e,anchorElement:(e,l)=>(0,r.jsx)(F.X,{title:f.k.sectionTitles.types,buttonProps:e,ref:l}),...t,width:"medium"}):(0,r.jsx)(v,{}),type:e,repoNameWithOwner:`${o}/${s}`})}x.displayName="TypesSection",C.displayName="CreateIssueIssueTypesSection";let j=o,T=u;function K({issue:e,onIssueUpdate:l,insideSidePanel:a,readonly:n}){let t=(0,k.useFragment)(T,e),{repository:{name:i,owner:{login:s},nameWithOwner:o,issueTypes:u},id:h,viewerCanType:b}=t,I=u?.edges?.map(e=>e?.node?.id)||[],{issueType:S}=(0,k.useFragment)(j,t),_=S||null,{sendAnalyticsEvent:C}=(0,p.s)(),{addToast:K}=(0,g.Y6)(),L=(0,k.useRelayEnvironment)(),N=(0,y.useCallback)(e=>{let a=e.length>0?e[0]:null,n=a?.id??null;C("issue_viewer.update_issue_type","ISSUE_VIEWER_UPDATE_ISSUE_TYPE_DIALOG",{initialIssueTypeId:_?.id??"",issueTypeId:n??""});let t=a?{id:a.id,name:a.name,description:a.description,color:a.color,isEnabled:a.isEnabled,pinnedFields:a.pinnedFields}:null;(0,d._)({environment:L,input:{issueId:h,issueTypeId:n},optimisticIssueType:t,onError:()=>K({type:"error",message:c.S.couldNotUpdateType}),onCompleted:l})},[_?.id,K,L,h,l,C]),P=(0,y.useMemo)(()=>{let e=n||!b;return e?(0,r.jsx)(v,{}):(0,r.jsx)(m.u,{owner:s,repo:i,onSelectionChange:N,anchorElement:(e,l)=>(0,r.jsx)(F.X,{title:f.k.sectionTitles.types,buttonProps:e,ref:l}),readonly:e,activeIssueType:_??null,insidePortal:a,width:"medium"})},[n,b,s,i,N,_,a]);return b||0!==I.length?(0,r.jsx)(x,{sectionHeader:P,type:_??null,repoNameWithOwner:o}):null}K.displayName="EditIssueIssueTypeSection"},95677(e,l,a){a.d(l,{k:()=>n});let n={archivedDescription:"Archived in project:",archivedError:"Issue could not be restored in project",archivedSuccess:"Issue restored in project",emptySections:{labels:"No labels",assignees:e=>e?"No one - ":"No one assigned",selfAssign:"Assign yourself",milestones:"No milestone",projects:"No projects",status:"No status",types:"No type",relationships:"None yet",noValue:e=>`No ${e.toLowerCase()}`,iterationPlaceholder:"Choose an iteration",datePlaceholder:"Choose a date",numberPlaceholder:"Enter number\u2026",iterationFilterPlaceholder:"Choose an option",singleSelectFilterPlaceholder:"Choose an option"},sectionTitles:{assignees:"Assignees",labels:"Labels",milestones:"Milestone",projects:"Projects",types:"Type",relationships:"Relationships"},awaitingTriage:"Awaiting triage",defaultProjectFieldName:"Status",moveCardToColumn:"Move card to column",selectProjects:"Select projects",filterProjects:"Filter projects",showClosedProjects:"Show closed projects",showMoreProjectFields:"Show more project fields",hideMoreProjectFields:"Hide project fields",relationNames:{parentIssue:"Parent issue",blockedByIssues:"Blocked by",blockingIssues:"Is blocking"},textEditorUpdateButton:"Update"}},6549(e,l,a){a.d(l,{Y:()=>n});let n={assignees:"issue-assignees",issueLabels:"issue-labels",milestoneContainer:"issue-milestone-container",milestoneProgressIcon:"issue-milestone-progress-bar",typeContainer:"issue-type-container"}},80380(e,l,a){a.d(l,{b:()=>t,o:()=>i});let n={year:"numeric",month:"short",day:"numeric",timeZone:"UTC"};function t(e,l={}){return e.toLocaleDateString("en-us",{...n,...l})}function i(e){if(!e)return null;let l=e.match(/^(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/);if(!l?.groups)return null;let{year:a,month:n,day:t}=l.groups;if(!a||!n||!t)return null;let i=parseInt(a,10),s=parseInt(n,10),r=parseInt(t,10);if(isNaN(i)||isNaN(s)||isNaN(r)||s<1||s>12||r<1||r>31)return null;let o=new Date(Date.UTC(i,s-1,r,12,0,0,0));return isNaN(o.getTime())?null:o}},30888(e,l,a){a.d(l,{IE:()=>u,Y0:()=>o,kO:()=>s,nB:()=>c,uV:()=>r,vl:()=>d,zo:()=>i});var n=a(29610),t=a(80380);function i(e,l){if(e?.field?.id!==l?.field?.id||!e?.field||!l?.field)return!1;let a=e.field;return"TEXT"===a.dataType||"DATE"===a.dataType?e?.value===l?.value:"NUMBER"===a.dataType?e?.numberValue===l?.numberValue:"SINGLE_SELECT"!==a.dataType||e?.name===l?.name}function s(e,l){let a=l.filter(l=>!e.some(e=>e?.field?.id===l?.field?.id));return{addedFields:a,updatedFields:l.filter(l=>e.some(e=>e?.field?.id===l?.field?.id&&!i(e,l))),removedFields:e.filter(e=>!l.some(l=>l?.field?.id===e?.field?.id))}}function r(e){return e&&e.field?o(e.field,null):e}function o(e,l){let a=(0,n.YQ)(e);switch(a.dataType){case"text":return{field:{...a,dataType:"TEXT"},value:l||""};case"single_select":return{field:{...a,dataType:"SINGLE_SELECT"},value:l};case"date":return{field:{...a,dataType:"DATE"},value:l};case"number":return{field:{...a,dataType:"NUMBER"},value:l}}}function u(e,l,a){let t=(0,n.YQ)(e);switch(t.dataType){case"text":return{field:{...t,dataType:"TEXT"},value:l,readonly:a};case"single_select":return{field:{...t,dataType:"SINGLE_SELECT"},value:l,readonly:a};case"date":return{field:{...t,dataType:"DATE"},value:l,readonly:a};case"number":{if(null===l||""===l)return{field:{...t,dataType:"NUMBER"},value:null,readonly:a};let e=Number(l);return{field:{...t,dataType:"NUMBER"},value:isNaN(e)?0:e,readonly:a}}}}function d(e,l){switch(e){case"text":return l;case"single_select":return l&&l.id?String(l.id):void 0;case"date":return m(l)||void 0;case"number":return l?.toString()}}function c(e,l){if("single_select"===e)return l&&l.name?String(l.name):void 0;if("date"===e){let e=m(l),a=e?(0,t.o)(e):null;return a?(0,t.b)(a):void 0}return d(e,l)}function m(e){return e?e.toISOString():null}},53708(e,l,a){a.d(l,{Y9:()=>r,cE:()=>o,ml:()=>i,o2:()=>s});var n=a(99418);let t={FORBID_TAGS:["style"],ALLOW_DATA_ATTR:!1,ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","h7","h8","br","b","i","strong","em","a","pre","code","img","tt","div","span","ins","del","sup","sub","p","ol","ul","table","thead","tbody","tfoot","blockquote","dl","dt","dd","kbd","q","samp","var","hr","ruby","rt","rp","li","tr","td","th","s","strike","summary","details","picture","source"]};function i(e){return(e?.startsWith("www.")?"https://":"")+e}let s=e=>n.default.sanitize(e,t),r=e=>{if(!e||!function(e){try{return new window.URL(e),!0}catch{return!1}}(e))return!1;try{let l=new URL(e,window.location.origin);return["http:","https:"].includes(l.protocol)}catch{return!1}},o=e=>s(e)===e},970(e,l,a){a.d(l,{n:()=>d});var n=a(74848),t=a(16522),i=a(83223),s=a(94709),r=a(96540),o=a(44640),u=a(34164);let d=e=>{let l,a,d,m,g,p,y,k,f,h=(0,t.c)(23),{name:b,color:F,href:I,getTooltipText:S,size:_,sx:v,className:x}=e,C=(0,r.useRef)(null),[j,T]=(0,r.useState)(!1);h[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>T(c(C.current)),a=[T,C],h[0]=l,h[1]=a):(l=h[0],a=h[1]),(0,r.useEffect)(l,a),h[2]!==x?(d=(0,u.$)("IssueTypeToken-module__token__LIwr7",x),h[2]=x,h[3]=d):d=h[3],h[4]!==b?(m=(0,n.jsx)("span",{className:"IssueTypeToken-module__tokenText__rbYFB",children:b}),h[4]=b,h[5]=m):m=h[5],h[6]!==F||h[7]!==v||h[8]!==d||h[9]!==m?(g=(0,n.jsx)(s.ou,{className:d,"data-color":F,ref:C,sx:v,text:m}),h[6]=F,h[7]=v,h[8]=d,h[9]=m,h[10]=g):g=h[10],h[11]!==I||h[12]!==g?(p=(0,n.jsx)(i.A,{href:I,children:g}),h[11]=I,h[12]=g,h[13]=p):p=h[13];let K=p;h[14]!==S||h[15]!==j?(y=S(j),h[14]=S,h[15]=j,h[16]=y):y=h[16];let L=y;return h[17]!==K||h[18]!==L?(k=L?(0,n.jsx)(o.m,{text:L,children:K}):K,h[17]=K,h[18]=L,h[19]=k):k=h[19],h[20]!==_||h[21]!==k?(f=(0,n.jsx)("div",{className:"IssueTypeToken-module__issueTypeTokenContainer__rqNYa","data-size":_,children:k}),h[20]=_,h[21]=k,h[22]=f):f=h[22],f};d.displayName="IssueTypeToken";let c=e=>!!e&&!!e.firstElementChild&&e.firstElementChild.scrollWidth>e.firstElementChild.clientWidth},53351(e,l,a){a.d(l,{Q:()=>u});var n=a(74848),t=a(16522),i=a(5024),s=a(96540);let r={sm:16,md:20,lg:24,xl:32},o={rounded:"3px",pill:"100px",elliptical:"50%"},u=e=>{let l,a,u,d=(0,t.c)(7),{height:c,width:m,borderRadius:g}=e,p=void 0===g?"rounded":g,[y,k]=(0,s.useState)("100%");d[0]!==m?(l=()=>{"random"===m&&k(`${Math.floor(40*Math.random()+40)}%`)},a=[m],d[0]=m,d[1]=l,d[2]=a):(l=d[1],a=d[2]),(0,s.useEffect)(l,a);let f="string"==typeof c&&c in r?`${r[c]}px`:c,h="random"===m?y:"string"==typeof m&&m in r?`${r[m]}px`:m,b="string"==typeof p&&p in o?o[p]:p;return d[3]!==b||d[4]!==f||d[5]!==h?(u=(0,n.jsx)(i.f,{"data-testid":"issues-loading-skeleton",className:"IssuesLoadingSkeleton-module__container__KyHN_",style:{width:h,height:f,borderRadius:b}}),d[3]=b,d[4]=f,d[5]=h,d[6]=u):u=d[6],u};u.displayName="IssuesLoadingSkeleton"},71627(e,l,a){function n(e){let l=document.getElementById("issues-repo-tab-count");if(null===l)return!1;let a=Number(l.title.replace(/\D/g,"")),n=Math.max(a+e,0);return 0===a&&n>0?l.removeAttribute("hidden"):0===n&&l.setAttribute("hidden","true"),l.title=n.toLocaleString(),/^\d*$/.test(l.textContent||"")&&n<=999&&(l.textContent=n.toString()),!0}function t(){n(1)}function i(){n(-1)}a.d(l,{T:()=>i,f:()=>t})},49344(e,l,a){a.d(l,{I:()=>r,_:()=>o});var n=a(74848),t=a(16522),i=a(37410),s=a(67680);function r(e){let l,a=(0,t.c)(3),r=(0,s.u)();return a[0]!==e||a[1]!==r?(l=(0,n.jsx)(i.Ir,{...e,viewer:r}),a[0]=e,a[1]=r,a[2]=l):l=a[2],l}function o(e){let l,a=(0,t.c)(3),r=(0,s.u)();return a[0]!==e||a[1]!==r?(l=(0,n.jsx)(i._g,{...e,viewer:r}),a[0]=e,a[1]=r,a[2]=l):l=a[2],l}r.displayName="AssigneePicker",o.displayName="AssigneeRepositoryPicker"},67680(e,l,a){a.d(l,{u:()=>d});let n={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useViewerSafeViewerSharedQuery",selections:t=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"safeViewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useViewerSafeViewerSharedQuery",selections:t},params:{id:"e04bcb743a2af95309967488bc0303c0",metadata:{},name:"useViewerSafeViewerSharedQuery",operationKind:"query",text:null}};n.hash="ec14349f609753fe2f861f8c75dc87f5";var t,i=a(17989),s=a(62759),r=a(76599),o=a(96540),u=a(18312);function d(){let e=(0,u.useRelayEnvironment)(),{currentUser:l}=(0,r.J)(),[a,t]=(0,o.useState)(l);return s.X3||a||(0,i.SD)({environment:e,query:n,variables:{}}).subscribe({next:e=>{e.safeViewer&&t(e.safeViewer)}}),a}a(69487)},37410(e,l,a){a.d(l,{_g:()=>C,Ir:()=>x,nH:()=>F});var n=a(74848),t=a(16522),i=a(84287),s=a(90329),r=a(59096),o=a(24058),u=a(2063),d=a(26419),c=a(34131),m=a(65366),g=a(97665),p=a(96540),y=a(58388),k=a(11380);async function f({owner:e,repo:l,query:a,first:n,number:t,loginNames:i,capabilities:s}){let r={owner:e,repo:l};a&&(r.query=a),void 0!==n&&(r.first=n),void 0!==t&&(r.number=t),i&&(r.loginNames=i),s&&s.length>0&&(r.capabilities=s.join(","));let o=(0,k.JF)("assignees",r),u=await (0,y.lS)(o);return await u.json()}var h=a(10589),b=a(49662);async function F(e,{owner:l,repo:a,query:n,first:t,number:i,loginNames:s,capabilities:r}){let o;o=void 0!==t?t:void 0!==s?s.length:void 0;let u=void 0!==s?s.join(","):void 0;return await e.fetchQuery({queryKey:["item_picker","assignees",{owner:l,repo:a,query:n,first:o,number:i,loginNames:u,capabilities:r}],queryFn:async()=>{var e;let t,s,d=await f({owner:l,repo:a,query:n,first:o,number:i,loginNames:u,capabilities:r});return e=(0,h.A)(d).data,s=[],e.repository.suggestedActors?(s=e.repository.suggestedActors.nodes,t=e.repository.suggestedActors.totalCount):e.repository.assignableUsers?(s=e.repository.assignableUsers.nodes,t=e.repository.assignableUsers.totalCount):e.repository.issueOrPullRequest?.suggestedActors&&(s=e.repository.issueOrPullRequest.suggestedActors.nodes),{assignees:s,repositoryId:e.repository.id,totalCount:t}}})}function I(e){let l,a,i,s,u,d,c,y,k,f,h,b,I,_,v=(0,t.c)(42);v[0]!==e?({repo:s,owner:i,number:a,assignees:l,suggestions:d,viewer:c,...u}=e,v[0]=e,v[1]=l,v[2]=a,v[3]=i,v[4]=s,v[5]=u,v[6]=d,v[7]=c):(l=v[1],a=v[2],i=v[3],s=v[4],u=v[5],d=v[6],c=v[7]);let[x,C]=(0,p.useState)(!d||0===d.length),[j,T]=(0,p.useState)(0),[K,L]=(0,p.useState)(!1),[N,P]=(0,p.useState)(null),w=(0,g.jE)(),A=(d?.length||0)>0;v[8]!==A||v[9]!==a||v[10]!==i||v[11]!==w||v[12]!==s?(y=()=>{A||(async()=>{try{let e=await F(w,{owner:i,repo:s,query:"",number:a,first:10});P(e),C(!1),L(!1)}catch{L(!0),C(!1)}})()},v[8]=A,v[9]=a,v[10]=i,v[11]=w,v[12]=s,v[13]=y):y=v[13],v[14]!==j||v[15]!==A||v[16]!==a||v[17]!==i||v[18]!==w||v[19]!==s?(k=[j,i,w,s,a,A],v[14]=j,v[15]=A,v[16]=a,v[17]=i,v[18]=w,v[19]=s,v[20]=k):k=v[20],(0,p.useEffect)(y,k);let E=(0,p.useRef)(null);v[21]===Symbol.for("react.memo_cache_sentinel")?(f=o.k.cantEditItems("assignees"),v[21]=f):f=v[21],v[22]!==u?(h={errorMessage:f,anchorElement:e=>u.anchorElement(e,E),open:!0},v[22]=u,v[23]=h):h=v[23];let{createFallbackComponent:V}=(0,m.j)(h);v[24]!==a||v[25]!==i||v[26]!==w||v[27]!==s?(b=async e=>{try{C(!0);let l=await F(w,{owner:i,repo:s,query:e,number:a,first:10});return C(!1),L(!1),l.assignees}catch{return C(!1),L(!0),[]}},v[24]=a,v[25]=i,v[26]=w,v[27]=s,v[28]=b):b=v[28];let D=b;v[29]!==N?.assignees||v[30]!==d?(I=d||N?.assignees||[],v[29]=N?.assignees,v[30]=d,v[31]=I):I=v[31];let R=I;if(K){let e,l;return v[32]===Symbol.for("react.memo_cache_sentinel")?(e=()=>T(S),v[32]=e):e=v[32],v[33]!==V?(l=V(e),v[33]=V,v[34]=l):l=v[34],l}return v[35]!==l||v[36]!==x||v[37]!==u||v[38]!==D||v[39]!==R||v[40]!==c?(_=(0,n.jsx)(r.l,{...u,assignees:l,suggestions:R,isLoading:x,searchAssignees:D,viewer:c}),v[35]=l,v[36]=x,v[37]=u,v[38]=D,v[39]=R,v[40]=c,v[41]=_):_=v[41],_}function S(e){return e+1}function _({repo:e,owner:l,assignees:a,assigneeTokens:t,suggestions:c,includeAssignableBots:y,includeAuthorableBots:k,maximumAssignees:f,viewer:h,...I}){let[S,_]=(0,p.useState)(!1),[v,x]=(0,p.useState)(!1),[C,j]=(0,p.useState)(0),[T,K]=(0,p.useState)(null),[L,N]=(0,p.useState)(null),[P,w]=(0,p.useState)(null),A=(0,g.jE)(),E=(0,p.useMemo)(()=>(0,b.M)({includeAssignableBots:y,includeAuthorableBots:k}),[y,k]),V=t.length>0;(0,p.useEffect)(()=>{V&&(async()=>{try{_(!0);let a=await F(A,{owner:l,repo:e,query:"",loginNames:t,capabilities:E});K(a),_(!1),x(!1)}catch{_(!1),x(!0)}})()},[C,l,e,t,E,A,V]);let D=(0,p.useCallback)(async a=>{if(P&&P<=d.t.maximumSuggestedUsers&&L)return _(!1),(0,i.t)({items:[...L,...I.noAssigneeOption?[u.v.noAssigneeData]:[]],filter:a,key:e=>e.isAgent&&e.displayName||e.login||(I.noAssigneeOption?.source?.login??""),secondaryKey:e=>`${e.name}`});try{_(!0);let n=await F(A,{owner:l,repo:e,query:a,first:d.t.maximumSuggestedUsers,capabilities:E}),t=n.assignees;return n.totalCount&&""===a.trim()&&w(n.totalCount),I.noAssigneeOption&&(0,s.O)(a,I.noAssigneeOption?.source?.login??"")&&t.unshift({...u.v.noAssigneeData}),_(!1),x(!1),t}catch{return _(!1),x(!0),[]}},[P,L,I.noAssigneeOption,A,l,e,E]),R=(0,p.useMemo)(()=>{let e=[];return a&&a.length>0?e=a:t.length>0&&(e=T?.assignees||[]),I.noAssigneeOption?.selected&&e.unshift(u.v.noAssigneeData),e},[t.length,a,T?.assignees,I.noAssigneeOption?.selected]);(0,p.useEffect)(()=>{(async()=>{N(await D("")),_(!1)})()},[]);let M=(0,p.useMemo)(()=>{let e=(L||[]).find(e=>e.isCopilot),l=[...c||L||[]];return e&&!l.find(e=>e.isCopilot)&&l.unshift(e),l},[L,c]),O=(0,p.useRef)(null),{createFallbackComponent:B}=(0,m.j)({errorMessage:o.k.cantEditItems("assignees"),anchorElement:e=>I.anchorElement(e,O),open:!0});return v?B(()=>j(e=>e+1)):(0,n.jsx)(r.l,{...I,assignees:R,suggestions:M,isLoading:S,searchAssignees:D,maximumAssignees:f,viewer:h})}I.displayName="ItemPickerFetcherForIssue",_.displayName="ItemPickerFetcherForRepository";let v=e=>"author"===e?"item-pickers:open-author":"item-pickers:open-assignees";function x(e){let l,a,i,s,r,o,u,d,m,g,p,y,k,f,h=(0,t.c)(29);return h[0]!==e?({repo:u,owner:r,number:s,anchorElement:a,readonly:o,assignees:i,suggestions:m,viewer:y,...d}=e,l=c.y,g=v(d.name),p=(e,l)=>a(e,l),h[0]=e,h[1]=l,h[2]=a,h[3]=i,h[4]=s,h[5]=r,h[6]=o,h[7]=u,h[8]=d,h[9]=m,h[10]=g,h[11]=p,h[12]=y):(l=h[1],a=h[2],i=h[3],s=h[4],r=h[5],o=h[6],u=h[7],d=h[8],m=h[9],g=h[10],p=h[11],y=h[12]),h[13]!==a||h[14]!==i||h[15]!==s||h[16]!==r||h[17]!==o||h[18]!==u||h[19]!==d||h[20]!==m||h[21]!==y?(k=()=>(0,n.jsx)(I,{repo:u,owner:r,number:s,readonly:o,assignees:i,suggestions:m,viewer:y,triggerOpen:!0,anchorElement:a,...d}),h[13]=a,h[14]=i,h[15]=s,h[16]=r,h[17]=o,h[18]=u,h[19]=d,h[20]=m,h[21]=y,h[22]=k):k=h[22],h[23]!==l||h[24]!==d.insidePortal||h[25]!==g||h[26]!==p||h[27]!==k?(f=(0,n.jsx)(l,{keybindingCommandId:g,anchorElement:p,createChild:k,insidePortal:d.insidePortal}),h[23]=l,h[24]=d.insidePortal,h[25]=g,h[26]=p,h[27]=k,h[28]=f):f=h[28],f}function C(e){let l,a,i,s,r,o,u,d=(0,t.c)(17);return d[0]!==e?({anchorElement:a,...i}=e,l=c.y,d[6]!==a?(s=(e,l)=>a(e,l),d[6]=a,d[7]=s):s=d[7],r=v(i.name),d[0]=e,d[1]=l,d[2]=a,d[3]=i,d[4]=s,d[5]=r):(l=d[1],a=d[2],i=d[3],s=d[4],r=d[5]),d[8]!==a||d[9]!==i?(o=()=>(0,n.jsx)(_,{anchorElement:a,triggerOpen:!0,...i}),d[8]=a,d[9]=i,d[10]=o):o=d[10],d[11]!==l||d[12]!==i.insidePortal||d[13]!==s||d[14]!==r||d[15]!==o?(u=(0,n.jsx)(l,{anchorElement:s,keybindingCommandId:r,createChild:o,insidePortal:i.insidePortal}),d[11]=l,d[12]=i.insidePortal,d[13]=s,d[14]=r,d[15]=o,d[16]=u):u=d[16],u}x.displayName="AssigneePicker",C.displayName="AssigneeRepositoryPicker"},49662(e,l,a){a.d(l,{M:()=>n,i:()=>t});let n=({includeAssignableBots:e,includeAuthorableBots:l})=>{let a=[];return e&&a.push("CAN_BE_ASSIGNED"),l&&a.push("CAN_BE_AUTHOR"),a},t=e=>e.isCopilot?"@copilot":"Bot"===e.__typename?`app/${e.login}`:e.login},59096(e,l,a){a.d(l,{l:()=>x,Y:()=>I});var n=a(74848),t=a(16522),i=a(67994),s=a(35592),r=a(7210),o=a(24058),u=a(2063),d=a(26419),c=a(83765),m=a(56144),g=a(74567),p=a(4925),y=a(96540);function k(e,l,a){let n=a.toLowerCase().trim(),t=e.filter(e=>`${e.login.toLowerCase()}#${e.name?.toLowerCase()}`.includes(n)),i=l.filter(e=>!t.some(l=>l.id===e.id));return i.sort((e,l)=>e.isCopilot!==l.isCopilot?e.isCopilot?-1:1:e.login.localeCompare(l.login)),t.concat(i)}let f={groupId:"assignees"},h={groupId:"suggestions",header:{title:"Suggestions",variant:"filled"}};var b=a(24043);let F="AssigneePickerBase-module__Item__krJon",I=10,S={Copilot:"GitHub",Codex:"OpenAI",Claude:"Anthropic"},_=[],v=[];function x(e){let l,a,x,N,P,w,A,E,V,D,R,M,O,B,U,$,H,q,W,z,G=(0,t.c)(78),{assignees:Q,suggestions:Y,searchAssignees:J,onSelectionChange:X,insidePortal:Z,anchorElement:ee,nested:el,isLoading:ea,noAssigneeOption:en,triggerOpen:et,selectionVariant:ei,title:es,maximumAssignees:er,name:eo,showNoMatchItem:eu,viewer:ed,responsiveOnNarrow:ec}=e,em=void 0===Q?_:Q,eg=void 0===Y?v:Y,ep=void 0!==ea&&ea,ey=void 0===en?void 0:en,ek=void 0===er?I:er,ef=void 0===eo?"assignee":eo,eh=void 0!==eu&&eu,eb=void 0!==ec&&ec,[eF,eI]=(0,y.useState)(""),[eS,e_]=(0,y.useState)(void 0),[ev,ex]=(0,y.useState)(em),eC=(0,y.useRef)(eF),{addToast:ej}=(0,m.Y6)();G[0]!==eb?(l=eb||(0,b.G7)("issues_react_select_panel_fullscreen_on_narrow"),G[0]=eb,G[1]=l):l=G[1];let eT=l;if(G[2]!==em?(a=()=>{ex(em)},x=[em],G[2]=em,G[3]=a,G[4]=x):(a=G[3],x=G[4]),(0,y.useEffect)(a,x),G[5]!==em||G[6]!==eF||G[7]!==ey||G[8]!==eS||G[9]!==eg||G[10]!==ed){e:{let e;if(eS)e=k(em,eS,eF);else{let l;G[12]!==em?(l=e=>!em.find(l=>l.login===e.login),G[12]=em,G[13]=l):l=G[13],e=k(em,em.concat(eg.filter(l)),eF)}if(ed){let l;G[14]!==ed?(l=e=>e.login===ed.login,G[14]=ed,G[15]=l):l=G[15];let a=e.findIndex(l);if(-1!==a)e.splice(a,1);else if(eS){N=e;break e}e.unshift(ed)}!ey||ey.selected||e.find(T)||e.unshift(u.v.noAssigneeData),N=e}G[5]=em,G[6]=eF,G[7]=ey,G[8]=eS,G[9]=eg,G[10]=ed,G[11]=N}else N=G[11];let eK=N;G[16]!==em?(P=e=>0===em.length?h.groupId:em.find(l=>l.id===e.id)?f.groupId:h.groupId,G[16]=em,G[17]=P):P=G[17];let eL=P,eN=!!(ek&&ev.length>=ek);G[18]!==ev||G[19]!==eF||G[20]!==eL||G[21]!==ef||G[22]!==ey||G[23]!==eN||G[24]!==eh?(w=e=>{let l=ev.some(l=>l.id===e.id),a=eN&&!l;if(ey&&e.id===u.v.noAssigneeData.id){let l={...ey};return l.groupId=eL(e),l.disabled=a,l}if(eh&&e.id===u.v.noMatchData.id)return{...u.v.noMatchData,groupId:eL(e),source:e,text:`${ef}:${eF}`,className:F,disabled:a};let t=e.isCopilot,r="Bot"===e.__typename,d=t||e.isAgent,c=t?o.k.copilotDisplayName:r&&e.displayName?e.displayName:e.login,m=(t||e.isAgent)&&e.displayName?S[e.displayName]??"":e.name||"";return{id:e.id,text:c,description:m,source:e,groupId:eL(e),leadingVisual:()=>t?(0,n.jsx)(i.C,{}):0===e.avatarUrl.length?null:(0,n.jsx)(s.r,{alt:"",src:e.avatarUrl}),trailingVisual:()=>d?(0,n.jsx)(p.A,{children:"AI"}):r?(0,n.jsx)(p.A,{children:"bot"}):null,className:F,disabled:a}},G[18]=ev,G[19]=eF,G[20]=eL,G[21]=ef,G[22]=ey,G[23]=eN,G[24]=eh,G[25]=w):w=G[25];let eP=w;G[26]===Symbol.for("react.memo_cache_sentinel")?(A=()=>{e_(void 0)},G[26]=A):A=G[26];let ew=A;G[27]!==ej||G[28]!==J?(E=async e=>{if(""===e)return void e_(void 0);try{let l=await J(e),a=eC.current;e.trim()===a.trim()&&e_(l)}catch{ej({type:"error",message:r.S.couldNotSearchAssignees})}},G[27]=ej,G[28]=J,G[29]=E):E=G[29];let eA=E;G[30]!==eA?(V=e=>eA(e),G[30]=eA,G[31]=V):V=G[31],G[32]===Symbol.for("react.memo_cache_sentinel")?(D={leading:!0,trailing:!0,onChangeBehavior:"flush"},G[32]=D):D=G[32];let eE=(0,g.d)(V,d.t.pickerDebounceTime,D);G[33]!==eE||G[34]!==eF?(R=e=>{let l=e.trim();eF!==l&&(eE(l),eI(e),eC.current=l)},G[33]=eE,G[34]=eF,G[35]=R):R=G[35];let eV=R;G[36]!==ev||G[37]!==eK?(M=e=>{let l=new Set(eK.map(j)),a=new Set(e.map(C));ex([...e,...ev.filter(e=>!l.has(e.id)&&!a.has(e.id))])},G[36]=ev,G[37]=eK,G[38]=M):M=G[38];let eD=M;if(G[39]!==em||G[40]!==eK){O=[];let e=eK.filter(e=>em.find(l=>l.id===e.id)),l=eK.filter(e=>!em.find(l=>l.id===e.id));e.length>0&&O.push(f),l.length>0&&O.push(h),G[39]=em,G[40]=eK,G[41]=O}else O=G[41];let eR=O,eM=(0,y.useRef)(null),eO=!eh&&0===eK.length,eB=es||o.k.assigneesHeader;G[42]!==ef?(B=o.k.filterUsers(ef),G[42]=ef,G[43]=B):B=G[43];let eU=1===ek?"single":(void 0===ei?"multiple":ei)||"multiple";return G[44]!==ee?(U=e=>ee(e,eM),G[44]=ee,G[45]=U):U=G[45],G[46]!==ek||G[47]!==eN?($=ek&&eN?{text:o.k.limitWarning(ek),variant:"warning"}:void 0,G[46]=ek,G[47]=eN,G[48]=$):$=G[48],G[49]!==eF||G[50]!==eh?(H=eh?{id:u.v.noMatchData.id,avatarUrl:u.v.noMatchData.avatarUrl,login:eF}:void 0,G[49]=eF,G[50]=eh,G[51]=H):H=G[51],G[52]!==eO?(q=eO?{title:"No assignees were found",body:"Try searching for a different name for results.",variant:"empty"}:void 0,G[52]=eO,G[53]=q):q=G[53],G[54]!==ef?(W=L(ef),G[54]=ef,G[55]=W):W=G[55],G[56]!==em||G[57]!==eP||G[58]!==eV||G[59]!==eR||G[60]!==Z||G[61]!==ep||G[62]!==eK||G[63]!==el||G[64]!==eD||G[65]!==X||G[66]!==eT||G[67]!==eO||G[68]!==eB||G[69]!==B||G[70]!==eU||G[71]!==U||G[72]!==$||G[73]!==H||G[74]!==q||G[75]!==W||G[76]!==et?(z=(0,n.jsx)("div",{children:(0,n.jsx)(c.O,{items:eK,initialSelectedItems:em,loading:ep,filterItems:eV,title:eB,getItemKey:K,triggerOpen:et,convertToItemProps:eP,placeholderText:B,selectionVariant:eU,onSelectionChange:X,onLiveSelectionChange:eD,onClose:ew,renderAnchor:U,groups:eR,insidePortal:Z,height:"large",width:"medium",nested:el,resultListAriaLabel:"User results",selectPanelRef:eM,notice:$,customNoMatchItem:H,improvedNoMatchAccessibility:eO,noMatchMessage:q,keybindingCommandId:W,responsiveOnNarrow:eT})}),G[56]=em,G[57]=eP,G[58]=eV,G[59]=eR,G[60]=Z,G[61]=ep,G[62]=eK,G[63]=el,G[64]=eD,G[65]=X,G[66]=eT,G[67]=eO,G[68]=eB,G[69]=B,G[70]=eU,G[71]=U,G[72]=$,G[73]=H,G[74]=q,G[75]=W,G[76]=et,G[77]=z):z=G[77],z}function C(e){return e.id}function j(e){return e.id}function T(e){return e.id===u.v.noAssigneeData.id}function K(e){return e.login}x.displayName="AssigneePickerBase";let L=e=>"author"===e?"item-pickers:open-author":"item-pickers:open-assignees"},10589(e,l,a){a.d(l,{A:()=>n});function n(e){if("data"in e)return e;if("errors"in e&&Array.isArray(e.errors)&&e.errors.length>0&&e.errors[0]?.message)throw Error(e.errors[0].message);throw Error("Error in request")}},11380(e,l,a){a.d(l,{JF:()=>i,R1:()=>s,kP:()=>t});let n="/_ghui/item-pickers";function t(e){return`${n}/${e}`}function i(e,l={}){let a=new URLSearchParams(l).toString();return`${t(e)}${a&&`?${a}`}`}function s(){return`${n}/bulk_actions`}},84730(e,l,a){a.d(l,{_:()=>d});var n=a(74848),t=a(18990),i=a(21373),s=a(39775),r=a(94709),o=a(96540);let u="SharedPicker-module__dashedPickerButton__J4HVk",d=({ref:e,leadingIconElement:l,anchorText:a,anchorProps:d,sharedPickerMainValue:c,ariaLabel:m,readonly:g,size:p,nested:y=!1,leadingIcon:k,hotKey:f,ariaLabelledBy:h,compressedTitle:b,className:F})=>{let I={"aria-labelledby":h,"aria-label":h?void 0:m,"aria-description":o.useMemo(()=>{let e;if(c)return e="string"==typeof c?c:b||"",`Currently selected: ${e}`},[c,b]),"aria-disabled":y?g:void 0,disabled:g};if(y){let e=c?l:k&&(0,n.jsx)(k,{});return(0,n.jsxs)(t.l.Item,{...d,...I,role:"menuitem",children:[e?(0,n.jsx)(t.l.LeadingVisual,{children:e}):null,a]})}return c?(0,n.jsx)(i.Q,{ref:e,size:p||"small",...d,...I,className:F,children:(0,n.jsxs)("div",{className:"SharedPicker-module__pickerContentContainer__iV73I",children:[(0,n.jsx)("div",{className:"SharedPicker-module__pickerLabelText__hy3Al",children:a}),(0,n.jsx)(r.az,{sx:{display:l?"flex":"none","> *:not(:last-child)":{}},className:"SharedPicker-module__leadingIconContainer__ID5PJ",children:l}),(0,n.jsx)("div",{className:"SharedPicker-module__title__M2HxW",children:(0,n.jsx)(s.A,{title:b??c.toString()??"",children:c})})]})}):(0,n.jsx)(i.Q,{ref:e,size:"small",leadingVisual:k,trailingVisual:f?()=>(0,n.jsx)("div",{className:"SharedPicker-module__hotkeyBadge__zWYzl",children:f}):void 0,className:F?`${u} ${F}`:u,...I,...d,children:a})};d.displayName="SharedPicker",d.displayName="SharedPicker"},2063(e,l,a){a.d(l,{v:()=>n});let n={noMilestoneData:{id:"no-milestone",title:"No milestone",closed:!1},noLabelsData:{id:"no-labels",name:"No labels",color:"ededed",description:"Issues with no labels"},noAssigneeData:{id:"no-assignee",login:"No assignees",avatarUrl:""},noMatchData:{id:"no-match-item",avatarUrl:"",description:"Filter by user"},noTypeData:{id:"no-type",name:"No type",color:"ededed",description:"Issues with no type"}}},31184(e,l,a){a.d(l,{R:()=>b,u:()=>v});var n=a(74848),t=a(16522),i=a(24058),s=a(34131),r=a(65366),o=a(92031),u=a(97665),d=a(96540),c=a(58388),m=a(11380);async function g({owner:e,repo:l,query:a,count:n}){let t={owner:e,repo:l};a&&(t.query=a),n&&(t.count=n);let i=(0,m.JF)("issue_types",t),s=await (0,c.lS)(i);return await s.json()}var p=a(10589),y=a(16135),k=a(81984);function f(e){return"object"==typeof e&&null!==e&&"string"==typeof e.id&&"string"==typeof e.name&&("string"==typeof e.description||null===e.description||void 0===e.description)&&"string"==typeof e.color&&("boolean"==typeof e.isEnabled||void 0===e.isEnabled)}let h={Check:e=>"object"==typeof e&&null!==e&&Array.isArray(e.issueTypes)&&e.issueTypes.every(f),Code:()=>"manual-validator",*Errors(){}};async function b(e,{owner:l,repo:a,query:n,count:t,persister:i}){return await e.fetchQuery({queryKey:["item_picker","issue_types",{owner:l,repo:a,query:n,count:t}],queryFn:async()=>{let e=await g({owner:l,repo:a,query:n,count:t});return{issueTypes:(0,p.A)(e).data.repository.issueTypes.edges.map(e=>e.node)}},persister:i})}function F(e){let l,a,s,c,m,g,p,f,F,v,x,C,j,T=(0,t.c)(35);T[0]!==e?({owner:l,repo:a,...s}=e,T[0]=e,T[1]=l,T[2]=a,T[3]=s):(l=T[1],a=T[2],s=T[3]);let[K,L]=(0,d.useState)(!1),[N,P]=(0,d.useState)(0),[w,A]=(0,d.useState)(!1),[E,V]=(0,d.useState)(null),[D,R]=(0,d.useState)(1),M=(0,u.jE)(),{sendAnalyticsEvent:O}=(0,y.s)();T[4]===Symbol.for("react.memo_cache_sentinel")?(c=[],T[4]=c):c=T[4],(0,d.useEffect)(_,c),T[5]!==l||T[6]!==M||T[7]!==a||T[8]!==O?(m=()=>{(async()=>{try{L(!0);let e=async(e,l,a)=>(0,k.y)({validator:h,sendAnalyticsEvent:O,alwaysRefetch:!0,enabled:!0})(e,l,a),n=await b(M,{owner:l,repo:a,query:"",persister:e});V(n),L(!1),A(!1)}catch{A(!0),L(!1)}})()},T[5]=l,T[6]=M,T[7]=a,T[8]=O,T[9]=m):m=T[9],T[10]!==N||T[11]!==l||T[12]!==M||T[13]!==a||T[14]!==O?(g=[N,l,a,M,O],T[10]=N,T[11]=l,T[12]=M,T[13]=a,T[14]=O,T[15]=g):g=T[15],(0,d.useEffect)(m,g),T[16]!==E||T[17]!==K||T[18]!==D||T[19]!==O?(p=()=>{if(!K&&E&&D>0)try{performance.mark("issue-type-picker-rendered");let e=performance.measure("issue-type-picker-duration","issue-type-picker-opened","issue-type-picker-rendered");O("issue_type_picker.render_duration",void 0,{duration:e.duration,caching_enabled:!0}),performance.clearMarks("issue-type-picker-opened"),performance.clearMarks("issue-type-picker-rendered"),performance.clearMeasures("issue-type-picker-duration")}catch{}},f=[K,E,O,D],T[16]=E,T[17]=K,T[18]=D,T[19]=O,T[20]=p,T[21]=f):(p=T[20],f=T[21]),(0,d.useEffect)(p,f);let B=(0,d.useRef)(null);T[22]===Symbol.for("react.memo_cache_sentinel")?(F=()=>{performance.mark("issue-type-picker-opened"),R(S)},T[22]=F):F=T[22];let U=F;T[23]===Symbol.for("react.memo_cache_sentinel")?(v=i.k.cantEditItems("types"),T[23]=v):v=T[23],T[24]!==s?(x={errorMessage:v,anchorElement:e=>s.anchorElement(e,B),open:!0},T[24]=s,T[25]=x):x=T[25];let{createFallbackComponent:$}=(0,r.j)(x);if(w){let e,l;return T[26]===Symbol.for("react.memo_cache_sentinel")?(e=()=>P(I),T[26]=e):e=T[26],T[27]!==$?(l=$(e),T[27]=$,T[28]=l):l=T[28],l}return T[29]!==E?.issueTypes?(C=E?.issueTypes??[],T[29]=E?.issueTypes,T[30]=C):C=T[30],T[31]!==K||T[32]!==s||T[33]!==C?(j=(0,n.jsx)(o.f,{issueTypes:C,isLoading:K,...s,onOpen:U}),T[31]=K,T[32]=s,T[33]=C,T[34]=j):j=T[34],j}function I(e){return e+1}function S(e){return e+1}function _(){performance.mark("issue-type-picker-opened")}function v(e){let l,a,i,r,o,u,d,c,m,g=(0,t.c)(20);return g[0]!==e?({owner:i,repo:o,anchorElement:a,readonly:r,activeIssueType:l,...u}=e,g[0]=e,g[1]=l,g[2]=a,g[3]=i,g[4]=r,g[5]=o,g[6]=u):(l=g[1],a=g[2],i=g[3],r=g[4],o=g[5],u=g[6]),g[7]!==a?(d=(e,l)=>a(e,l),g[7]=a,g[8]=d):d=g[8],g[9]!==l||g[10]!==a||g[11]!==i||g[12]!==r||g[13]!==o||g[14]!==u?(c=()=>(0,n.jsx)(F,{owner:i,repo:o,readonly:r,activeIssueType:l,triggerOpen:!0,anchorElement:a,...u}),g[9]=l,g[10]=a,g[11]=i,g[12]=r,g[13]=o,g[14]=u,g[15]=c):c=g[15],g[16]!==u.insidePortal||g[17]!==d||g[18]!==c?(m=(0,n.jsx)(s.y,{keybindingCommandId:"item-pickers:open-issue-type",anchorElement:d,createChild:c,insidePortal:u.insidePortal}),g[16]=u.insidePortal,g[17]=d,g[18]=c,g[19]=m):m=g[19],m}F.displayName="ItemPickerFetcher",v.displayName="IssueTypePicker"},92031(e,l,a){a.d(l,{f:()=>g,i:()=>c});var n=a(74848),t=a(16522),i=a(24043),s=a(83765),r=a(96540),o=a(24058),u=a(26319),d=a(2063);let c="UNSET",m=[];function g(e){let l,a,u,g,f,h,b,F,I,S=(0,t.c)(40),{activeIssueType:_,issueTypes:v,issueTypeToken:x,noTypeItem:C,showUnset:j,anchorElement:T,insidePortal:K,isLoading:L,nested:N,onSelectionChange:P,title:w,triggerOpen:A,width:E,onOpen:V}=e,D=void 0===v?m:v,R=void 0!==j&&j,M=void 0===w?o.k.typesHeader:w,O=void 0===A||A,B=void 0===E?"large":E,[U,$]=(0,r.useState)("");S[0]!==x?(l=x&&'"'===x[0]&&'"'===x[x.length-1]?x.slice(1,-1):x,S[0]=x,S[1]=l):l=S[1];let H=l;if(S[2]!==H||S[3]!==D){let e;S[5]!==H?(e=e=>e.name===H,S[5]=H,S[6]=e):e=S[6],a=D.find(e),S[2]=H,S[3]=D,S[4]=a}else a=S[4];let q=a;if(S[7]!==U||S[8]!==D||S[9]!==C||S[10]!==R){e:{let e,l=D.slice().sort(k);if(C?l.unshift(d.v.noTypeData):R&&l.unshift({id:c,name:"No issue type",isEnabled:!0,description:"",color:"GRAY"}),!U){u=l;break e}S[12]!==U?(e=e=>e.name.toLowerCase().indexOf(U.toLowerCase())>=0,S[12]=U,S[13]=e):e=S[13],u=l.filter(e)}S[7]=U,S[8]=D,S[9]=C,S[10]=R,S[11]=u}else u=S[11];let W=u;S[14]===Symbol.for("react.memo_cache_sentinel")?(g=e=>{$(e)},S[14]=g):g=S[14];let z=g;l:{let e;if(C?.selected){let e;S[15]===Symbol.for("react.memo_cache_sentinel")?(e=[d.v.noTypeData],S[15]=e):e=S[15],f=e;break l}if(_){let e;S[16]!==_?(e=[_],S[16]=_,S[17]=e):e=S[17],f=e;break l}if(q){let e;S[18]!==q?(e=[q],S[18]=q,S[19]=e):e=S[19],f=e;break l}S[20]===Symbol.for("react.memo_cache_sentinel")?(e=[],S[20]=e):e=S[20],f=e}let G=f,Q=(0,r.useRef)(null),Y=0===W.length;S[21]===Symbol.for("react.memo_cache_sentinel")?(h=(0,i.G7)("issues_react_select_panel_fullscreen_on_narrow"),S[21]=h):h=S[21];let J=h;return S[22]!==T?(b=e=>T(e),S[22]=T,S[23]=b):b=S[23],S[24]!==Y?(F=Y?{title:"No issue types were found",variant:"empty",body:"Try searching with a different query for results."}:void 0,S[24]=Y,S[25]=F):F=S[25],S[26]!==G||S[27]!==K||S[28]!==L||S[29]!==W||S[30]!==N||S[31]!==V||S[32]!==P||S[33]!==Y||S[34]!==b||S[35]!==F||S[36]!==M||S[37]!==O||S[38]!==B?(I=(0,n.jsx)(s.O,{loading:L,items:W,initialSelectedItems:G,filterItems:z,title:M,getItemKey:y,convertToItemProps:p,placeholderText:"Filter types",selectionVariant:"single",onSelectionChange:P,onOpen:V,renderAnchor:b,insidePortal:K,height:"large",width:B,nested:N,resultListAriaLabel:"Issue Type results",triggerOpen:O,keybindingCommandId:"item-pickers:open-issue-type",selectPanelRef:Q,improvedNoMatchAccessibility:Y,noMatchMessage:F,responsiveOnNarrow:J}),S[26]=G,S[27]=K,S[28]=L,S[29]=W,S[30]=N,S[31]=V,S[32]=P,S[33]=Y,S[34]=b,S[35]=F,S[36]=M,S[37]=O,S[38]=B,S[39]=I):I=S[39],I}function p(e){return{id:e.id,text:e.name,description:e.description??"",descriptionVariant:"block",leadingVisual:(0,u.d)(e.color),source:e}}function y(e){return e.id}function k(e,l){return e.name.localeCompare(l.name)}g.displayName="IssueTypePickerBase"},80097(e,l,a){a.d(l,{t:()=>g});var n,t,i,s=a(74848),r=a(16522),o=a(20492);let u={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"owner"},{defaultValue:null,kind:"LocalArgument",name:"repo"}],kind:"Fragment",metadata:null,name:"usePreloadedLabelsQuery",selections:i=[{alias:null,args:[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"usePreloadedLabelsQuery",selections:i},params:{id:"3e32908c91bf1665aa4acc9da94bd619",metadata:{},name:"usePreloadedLabelsQuery",operationKind:"query",text:null}};u.hash="29b91e6e7012c171094bcd0c3cf2f71f";var d=a(96540),c=a(18312);function m(e){var l,a;let n,t,i=(0,r.c)(3),m=(l=e.owner,a=e.repo,t=(0,c.useClientQuery)(u,{owner:l,repo:a}),(0,d.useMemo)(()=>{if(!t?.repository?.labels?.nodes?.length||!t?.repository?.id)return;let e=(t.repository.labels.nodes||[]).flatMap(e=>e?[e]:[]);return{repositoryId:t.repository.id,labels:e,totalCount:t.repository.labels.totalCount||0}},[t]));return i[0]!==m||i[1]!==e?(n=(0,s.jsx)(o.t,{...e,preloadedLabels:m}),i[0]=m,i[1]=e,i[2]=n):n=i[2],n}function g(e){let l,a=(0,r.c)(2);return a[0]!==e?(l=(0,s.jsx)(m,{...e}),a[0]=e,a[1]=l):l=a[1],l}m.displayName="LabelPickerTsqWithRelayWrapper",g.displayName="LabelPicker"},20492(e,l,a){a.d(l,{t:()=>M});var n=a(74848),t=a(16522),i=a(24058),s=a(2063),r=a(34131),o=a(65366),u=a(24043),d=a(84287),c=a(7210),m=a(26419),g=a(83765),p=a(29207),y=a(70730),k=a(56144),f=a(74567),h=a(38621),b=a(93607),F=a(96540);let I=[],S={groupId:"labels",header:{title:"Selected labels",variant:"filled"}},_={groupId:"favorite",header:{title:"Favorite",variant:"filled"}},v={groupId:"suggestions",header:{title:"Suggestions",variant:"filled"}},x={groupId:"copilot",header:{title:"Copilot suggestions",variant:"filled"}};function C({labels:e,suggestions:l=I,totalNumberOfLabels:a,copilotSuggestedLabels:t,favoriteLabelIds:r,searchLabels:o,onSelectionChange:C,insidePortal:T,anchorElement:K,nested:L=!1,triggerOpen:N=!0,initialFilter:P,owner:w,repo:A,showEditLabelsButton:E=!0,noLabelOption:V,title:D,showNoMatchItem:R=!1,canCreateLabel:M,repositoryId:O,isLoading:B=!1,setIsLoading:U,onCreate:$}){let H=(0,u.G7)("issues_react_remove_labels_loading"),q=(0,u.G7)("issues_react_select_panel_fullscreen_on_narrow"),[W,z]=(0,F.useState)(""),G=(0,F.useDeferredValue)(W),Q=(0,F.useRef)(new Set),[Y,J]=(0,F.useState)(!1),[X,Z]=(0,F.useState)(l),{addToast:ee}=(0,k.Y6)(),el=`${w}/${A}`;(0,F.useEffect)(()=>{Z(l)},[l]);let ea=o&&a>l.length,en=(0,F.useMemo)(()=>e.slice().sort((e,l)=>e.name.localeCompare(l.name)),[e]),et=(0,F.useCallback)(e=>e.name,[]),ei=(0,F.useCallback)(e=>`${e.name} ${e.description??""}`,[]),es=(0,F.useMemo)(()=>{if(!G){let a=H?X:l,n=[...en],i=(t??[]).filter(l=>!e.find(e=>e.id===l.id)),s=a.filter(l=>!e.find(e=>e.id===l.id)&&!i.find(e=>e.id===l.id));return n.push(...i,...s),n.slice(0,m.t.labelsInitialLoadCount)}let a=new Map;for(let e of X)a.set(e.id,e);for(let e of t??[])a.has(e.id)||a.set(e.id,e);let n=Array.from(a.values());return(0,d.t)({items:n,filter:G,key:et,secondaryKey:ei}).slice(0,30)},[G,X,H,l,en,t,e,et,ei]),er=(0,F.useCallback)(async e=>{if(!H&&""===e){Z(l),J(!1);return}if(H&&Q.current.has(e))return void J(!1);if(o){J(!0);try{Z(H?j([...X,...await o(e)]):await o(e))}catch{ee({type:"error",message:c.S.couldNotSearchLabels})}finally{J(!1),H&&Q.current.add(e)}}},[H,o,l,X,ee]),eo=(0,f.d)(e=>er(e),m.t.pickerDebounceTime),eu=(0,F.useCallback)(e=>{let a=e.trim();if(W!==a&&ea){J(!0),eo(a),z(e);return}0!==l.length&&z(e)},[eo,W,ea,l.length]),ed=(0,F.useCallback)(e=>e.id,[]),ec=(0,F.useCallback)((e,l,a)=>{a.preventDefault(),a.stopPropagation(),O&&$&&U&&(U(!0),$({repositoryId:O,color:l.color,name:l.name},{onError:()=>{ee({type:"error",message:c.S.couldNotCreateLabel}),U(!1)},onSuccess:e=>{e&&Z([{...e,__isNew__:!0},...X]),U(!1)}}))},[ee,X,$,O,U]),em=(0,F.useCallback)(l=>{let a;if(V&&l.id===s.v.noLabelsData.id){let e={...V};return e.groupId=e.selected?S.groupId:v.groupId,e}if(l.id===W)return{id:l.id,description:l.description||void 0,descriptionVariant:"block",source:l,text:`Create new label: "${l.name}"`,trailingVisual:h.PlusIcon,className:"LabelPickerBase-module__labelPickerItem__SmDyG",onAction:(e,a)=>ec(e,l,a)};let i=(t??[]).some(e=>e.id===l.id),o=(r??[]).some(e=>e===l.id);return a=e.find(e=>e.id===l.id)?S.groupId:o?_.groupId:i?x.groupId:v.groupId,{id:l.id,description:l.description??void 0,descriptionVariant:"block",children:(0,n.jsx)(p.JR,{html:l.nameHTML,className:"LabelPickerBase-module__labelNameText__cROmr"}),source:l,groupId:a,leadingVisual:()=>(0,n.jsx)("div",{style:{background:`#${l.color}`,borderColor:`#${l.color}`},className:"LabelPickerBase-module__labelColorBox__OYaay"})}},[V,W,t,r,e,ec]),eg=(0,F.useMemo)(()=>{let l=[];return e.length>0&&l.push(S),(r??[]).some(l=>!e.some(e=>e.id===l))&&l.push(_),(t??[]).some(l=>!e.some(e=>e.id===l.id)&&r?.indexOf(l.id)===-1)&&l.push(x),es.length>0&&es.length-e.length>0&&l.push(v),l},[e,r,t,es.length]),ep=(0,F.useMemo)(()=>{if(!el||!y.XC?.location)return;let e=y.XC.location.origin;return`${e}/${el}/issues/labels`},[el]),ey=(0,F.useCallback)(e=>{y.XC?.location?.href&&E&&ep&&1!==e.button&&(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||(e.preventDefault(),y.XC.location.href=ep))},[ep,E]),ek=(0,F.useRef)(null),ef=(0,F.useMemo)(()=>{let e=!Y&&!W&&0===es.length,l=!(R&&M&&!Y)&&!!W&&0===es.length;return e||l},[Y,W,es.length,R,M]);return(0,n.jsx)("div",{className:"LabelPickerBase-module__labelPickerContainer__GM_9k",children:(0,n.jsx)(g.O,{loading:H?B:B||Y,items:es,initialSelectedItems:e,title:D||i.k.labelsHeader,filterItems:eu,getItemKey:ed,convertToItemProps:em,placeholderText:"Filter labels",selectionVariant:0===es.length?"single":"multiple",onSelectionChange:C,renderAnchor:e=>K(e,ek),groups:W?void 0:eg,insidePortal:T,height:"large",width:"medium",nested:L,resultListAriaLabel:"Label results",triggerOpen:N,initialFilter:P,selectPanelRef:ek,keybindingCommandId:"item-pickers:open-labels",eventsTag:"label",customNoMatchItem:M&&R&&W&&!Y?{id:W,color:"aaaaaa",name:W,nameHTML:W,description:void 0,url:""}:void 0,suppressNoMatchItem:!0,improvedNoMatchAccessibility:ef,noMatchMessage:ef?{title:"No labels were found",body:"Try searching with a different query for results.",variant:"empty"}:void 0,secondaryAction:E?(0,n.jsx)(b.X.SecondaryActionLink,{onClick:ey,href:ep,size:"small",children:i.k.editLabels}):void 0,responsiveOnNarrow:q,focusPrependedElements:!0})})}C.displayName="LabelPickerBase";let j=e=>e.filter((e,l,a)=>a.findIndex(l=>l.id===e.id)===l);var T=a(97665),K=a(58388),L=a(11380);async function N({owner:e,repo:l,query:a,count:n,labelNames:t}){let i={owner:e,repo:l};a&&(i.query=a),n&&(i.count=n),t&&t.length>0&&(i.labelNames=t.join(","));let s=(0,L.JF)("labels",i),r=await (0,K.lS)(s);return await r.json()}function P(e,l){let a=e.map(e=>e.replace(/^"/,"").replace(/"$/,""));return l.filter(e=>a.includes(e.name))}var w=a(10589),A=a(94747);async function E(e){let l=(0,L.kP)("labels");return(await (0,K.lS)(l,{method:"POST",body:e})).json()}async function V(e){let l=await E(e);return(0,w.A)(l).data.createLabel.label}async function D(e,{owner:l,repo:a,query:n,count:t,labelNames:i}){return await e.fetchQuery({queryKey:["item_picker","labels",{owner:l,repo:a,query:n,count:t,labelNames:i}],queryFn:async()=>{var e;let s,r=await N({owner:l,repo:a,query:n,count:t,labelNames:i});return e=(0,w.A)(r).data,s=e.repository.labelsByNames?.nodes,i&&i.length>0&&s&&(s=P(i,s)),{labels:e.repository.labels.nodes,repositoryId:e.repository.id,totalCount:e.repository.labels.totalCount,labelsByNames:s}}})}function R({repo:e,owner:l,labels:a,labelNames:r,preloadedLabels:u,noLabelOption:d,...c}){let m,g,p=u&&!!u.labels?.length,[y,k]=(0,F.useState)(!p),[f,h]=(0,F.useState)(0),[b,I]=(0,F.useState)(!1),[S,_]=(0,F.useState)(()=>{if(p){let e=r?P(r,u.labels):void 0;return{repositoryId:u.repositoryId,labels:r?e||[]:u.labels,totalCount:u.totalCount,labelsByNames:e}}return null}),[v,x]=(0,F.useState)(()=>p&&r?P(r,u.labels):a),j=(0,T.jE)(),{mutate:K}=((g=(0,t.c)(1))[0]===Symbol.for("react.memo_cache_sentinel")?(m={mutationFn:V},g[0]=m):m=g[0],(0,A.n)(m));(0,F.useEffect)(()=>{p||(async()=>{try{let a=await D(j,{owner:l,repo:e,query:"",labelNames:r});_(a),r&&r.length>0&&x(a.labelsByNames||[]),k(!1),I(!1)}catch{I(!0),k(!1)}})()},[f,l,j,e,r,p]);let L=(0,F.useRef)(null),{createFallbackComponent:N}=(0,o.j)({errorMessage:i.k.cantEditItems("labels"),anchorElement:e=>c.anchorElement(e,L),open:!0}),w=(0,F.useCallback)(async a=>(await D(j,{owner:l,repo:e,query:a})).labels,[j,l,e]),E=(0,F.useCallback)((e,{onSuccess:l,onError:a})=>{K(e,{onSuccess:l,onError:a})},[K]),R=(0,F.useMemo)(()=>{let e=S?.labels??[];return d?[s.v.noLabelsData,...e]:e},[S?.labels,d]),M=(0,F.useMemo)(()=>{let e=r?v:a;return d?.selected&&!e.find(e=>e.id===s.v.noLabelsData.id)?[s.v.noLabelsData,...e]:e},[v,r,a,d?.selected]);return b?N(()=>h(e=>e+1)):(0,n.jsx)(C,{repo:e,owner:l,repositoryId:S?.repositoryId??"",labels:M,suggestions:R,totalNumberOfLabels:S?.totalCount??0,isLoading:y,setIsLoading:k,searchLabels:w,onCreate:E,noLabelOption:d,...c})}function M(e){let l,a,i,s,o,u,d,c,m,g,p,y=(0,t.c)(24);return y[0]!==e?({repo:d,owner:o,anchorElement:l,readonly:u,labels:i,labelNames:a,noLabelOption:s,...c}=e,y[0]=e,y[1]=l,y[2]=a,y[3]=i,y[4]=s,y[5]=o,y[6]=u,y[7]=d,y[8]=c):(l=y[1],a=y[2],i=y[3],s=y[4],o=y[5],u=y[6],d=y[7],c=y[8]),y[9]!==l?(m=(e,a)=>l(e,a),y[9]=l,y[10]=m):m=y[10],y[11]!==l||y[12]!==a||y[13]!==i||y[14]!==s||y[15]!==o||y[16]!==u||y[17]!==d||y[18]!==c?(g=()=>(0,n.jsx)(R,{repo:d,owner:o,readonly:u,initialFilter:"",labels:i,labelNames:a,triggerOpen:!0,anchorElement:l,noLabelOption:s,...c}),y[11]=l,y[12]=a,y[13]=i,y[14]=s,y[15]=o,y[16]=u,y[17]=d,y[18]=c,y[19]=g):g=y[19],y[20]!==c.insidePortal||y[21]!==m||y[22]!==g?(p=(0,n.jsx)(r.y,{keybindingCommandId:"item-pickers:open-labels",anchorElement:m,createChild:g,insidePortal:c.insidePortal}),y[20]=c.insidePortal,y[21]=m,y[22]=g,y[23]=p):p=y[23],p}R.displayName="ItemPickerFetcher",M.displayName="LabelPicker"},40850(e,l,a){a.d(l,{U:()=>L,D:()=>w});var n=a(74848),t=a(16522),i=a(24058),s=a(34131),r=a(65366),o=a(24043),u=a(2063),d=a(26419),c=a(83765),m=a(56144),g=a(74567),p=a(96540),y=a(38621),k=a(97409),f=a(7210),h=a(90329);let b={groupId:"open",header:{title:"Open",variant:"filled"}},F={groupId:"closed",header:{title:"Closed",variant:"filled"}};function I({repo:e,owner:l,milestones:a,repositoryId:t,activeMilestone:s,onSelectionChange:r,insidePortal:I,anchorElement:S,nested:_,triggerOpen:v,initialFilter:x,isLoading:C,setIsLoading:j,noMilestoneItem:T,showMilestoneDescription:K,title:L,canCreateMilestone:N,fetchMilestones:P,onCreate:w,showNoMatchItem:A=!1}){let[E,V]=(0,p.useState)(""),D=(0,p.useDeferredValue)(E),[R,M]=(0,p.useState)(!1),[O,B]=(0,p.useState)(),[U,$]=(0,p.useState)([]),{addToast:H}=(0,m.Y6)(),q=(0,p.useMemo)(()=>{if(void 0!==O&&O.length>0)return O;let e=a.slice().sort((e,l)=>e.title.localeCompare(l.title)).concat(U);return(T&&e.unshift(u.v.noMilestoneData),D)?e.filter(e=>e.title.toLowerCase().indexOf(D.toLowerCase())>=0):e},[a,D,U,T,O]),W=T&&T.selected,z=(0,p.useMemo)(()=>T?q.filter(e=>!1===e.closed):[],[T,q]),G=(0,p.useCallback)(async a=>{M(!0),V(a);try{let n=await P({query:a,owner:l,repo:e,count:10});void 0!==n&&(T&&(0,h.O)(a,T.source?.title??"")&&n.unshift(u.v.noMilestoneData),B(n))}catch{H({type:"error",message:f.S.couldNotSearchMilestones})}finally{M(!1)}},[H,P,T,l,e]),Q=(0,g.d)(e=>G(e),d.t.pickerDebounceTime),Y=(0,p.useCallback)(async e=>{let l=e.trim();if(E!==l){if(""===l){B(void 0),V(l);return}Q(l)}},[Q,E]),J=(0,p.useCallback)(e=>e.id,[]),X=(0,p.useCallback)((e,l,a)=>{a.preventDefault(),a.stopPropagation(),t&&(j(!0),w({repositoryId:t,title:l.title},{onError:()=>{H({type:"error",message:f.S.couldNotCreateMilestone}),j(!1)},onSuccess:e=>{e&&$([{...e,__isNew__:!0},...U]),j(!1)}}))},[H,U,w,t,j]),Z=(0,p.useCallback)(e=>{if(T&&e.id===u.v.noMilestoneData.id)return{...T};if(e.id===E)return{id:e.id,text:`Create new milestone: "${e.title}"`,source:e,trailingVisual:y.PlusIcon,className:"ItemPickerMilestone-module__MilestoneFilterItem__vcbkC",onAction:(l,a)=>X(l,e,a)};let{closed:l,closedAt:a,progressPercentage:t,dueOn:i}=e;return{id:e.id,text:e.title,description:K?(0,n.jsx)(k.R,{closed:l,closedAt:a,progressPercentage:t,dueOn:i,showProgressPercentage:!1}):void 0,descriptionVariant:"block",className:"ItemPickerMilestone-module__MilestoneItem__Rugex",source:e,groupId:e.closed?F.groupId:b.groupId,leadingVisual:()=>(0,n.jsx)(y.MilestoneIcon,{size:16})}},[X,E,T,K]),ee=(0,p.useMemo)(()=>{let e=[];return q.some(e=>!e.closed)&&e.push(b),q.some(e=>e.closed)&&e.push(F),e},[q]);T&&W&&(s=u.v.noMilestoneData);let el=(0,p.useRef)(null),ea=(0,p.useMemo)(()=>s?[s]:[],[s]),en=(0,p.useMemo)(()=>{let e=!R&&!E&&0===q.length,l=!A&&!!E&&0===q.length;return e||l},[E,R,q.length,A]),et=(0,o.G7)("issues_react_select_panel_fullscreen_on_narrow");return(0,n.jsx)(c.O,{loading:C||R,items:T?z:q,initialSelectedItems:ea,filterItems:Y,title:L??i.k.milestonesHeader,getItemKey:J,convertToItemProps:Z,placeholderText:`Filter milestones ${a.length>=d.t.milestonesMaxPreloadCount?`(${d.t.milestonesMaxPreloadCount} milestones loaded)`:""}`,selectionVariant:"single",onSelectionChange:r,groups:T?void 0:ee,renderAnchor:e=>S(e,el),insidePortal:I,height:"large",width:"medium",nested:_,resultListAriaLabel:"Milestone results",triggerOpen:v,initialFilter:x,selectPanelRef:el,keybindingCommandId:"item-pickers:open-milestone",customNoMatchItem:N&&A&&E?{id:E,closed:!1,progressPercentage:0,title:E,url:""}:void 0,improvedNoMatchAccessibility:en,noMatchMessage:en?{title:"No milestones were found",body:"Try searching with a different query for results.",variant:"empty"}:void 0,responsiveOnNarrow:et})}I.displayName="MilestonePickerBase";var S=a(97665),_=a(58388),v=a(11380);async function x({owner:e,repo:l,query:a,count:n}){let t={owner:e,repo:l};a&&(t.query=a),n&&(t.count=n);let i=(0,v.JF)("milestones",t),s=await (0,_.lS)(i);return await s.json()}var C=a(10589),j=a(94747);async function T(e){let l=(0,v.kP)("milestones");return(await (0,_.lS)(l,{method:"POST",body:e})).json()}async function K(e){let l=await T(e);return(0,C.A)(l).data.createMilestone.milestone}async function L(e,{owner:l,repo:a,query:n,count:t}){return await e.fetchQuery({queryKey:["item_picker","milestones",{owner:l,repo:a,query:n,count:t}],queryFn:async()=>{var e;let i=await x({owner:l,repo:a,query:n,count:t});return{milestones:(e=(0,C.A)(i).data).repository.milestones.nodes,repositoryId:e.repository.id}}})}function N(e){let l,a,s,o,u,d,c,m,g,y,k,f,h,b=(0,t.c)(34);b[0]!==e?({repo:a,owner:l,...s}=e,b[0]=e,b[1]=l,b[2]=a,b[3]=s):(l=b[1],a=b[2],s=b[3]);let[F,_]=(0,p.useState)(!0),[v,x]=(0,p.useState)(0),[C,T]=(0,p.useState)(!1),[N,w]=(0,p.useState)(null),A=(0,S.jE)(),{mutate:E}=((h=(0,t.c)(1))[0]===Symbol.for("react.memo_cache_sentinel")?(f={mutationFn:K},h[0]=f):f=h[0],(0,j.n)(f));b[4]!==l||b[5]!==A||b[6]!==a?(o=()=>{(async()=>{try{let e=await L(A,{owner:l,repo:a,query:""});w(e),_(!1),T(!1)}catch{T(!0),_(!1)}})()},b[4]=l,b[5]=A,b[6]=a,b[7]=o):o=b[7],b[8]!==v||b[9]!==l||b[10]!==A||b[11]!==a?(u=[v,l,A,a],b[8]=v,b[9]=l,b[10]=A,b[11]=a,b[12]=u):u=b[12],(0,p.useEffect)(o,u);let V=(0,p.useRef)(null);b[13]===Symbol.for("react.memo_cache_sentinel")?(d=i.k.cantEditItems("milestones"),b[13]=d):d=b[13],b[14]!==s?(c={errorMessage:d,anchorElement:e=>s.anchorElement(e,V),open:!0},b[14]=s,b[15]=c):c=b[15];let{createFallbackComponent:D}=(0,r.j)(c);b[16]!==A?(m=async e=>(await L(A,e)).milestones,b[16]=A,b[17]=m):m=b[17];let R=m;b[18]!==E?(g=(e,l)=>{let{onSuccess:a,onError:n}=l;E(e,{onSuccess:a,onError:n})},b[18]=E,b[19]=g):g=b[19];let M=g;if(C){let e,l;return b[20]===Symbol.for("react.memo_cache_sentinel")?(e=()=>x(P),b[20]=e):e=b[20],b[21]!==D?(l=D(e),b[21]=D,b[22]=l):l=b[22],l}let O=N?.repositoryId??"";return b[23]!==N?.milestones?(y=N?.milestones??[],b[23]=N?.milestones,b[24]=y):y=b[24],b[25]!==R||b[26]!==F||b[27]!==M||b[28]!==l||b[29]!==a||b[30]!==s||b[31]!==O||b[32]!==y?(k=(0,n.jsx)(I,{repo:a,owner:l,repositoryId:O,milestones:y,isLoading:F,setIsLoading:_,fetchMilestones:R,onCreate:M,...s}),b[25]=R,b[26]=F,b[27]=M,b[28]=l,b[29]=a,b[30]=s,b[31]=O,b[32]=y,b[33]=k):k=b[33],k}function P(e){return e+1}function w(e){let l,a,i,r,o,u,d,c,m,g,p=(0,t.c)(22);return p[0]!==e?({repo:u,owner:r,anchorElement:a,readonly:o,activeMilestone:l,noMilestoneItem:i,...d}=e,p[0]=e,p[1]=l,p[2]=a,p[3]=i,p[4]=r,p[5]=o,p[6]=u,p[7]=d):(l=p[1],a=p[2],i=p[3],r=p[4],o=p[5],u=p[6],d=p[7]),p[8]!==a?(c=(e,l)=>a(e,l),p[8]=a,p[9]=c):c=p[9],p[10]!==l||p[11]!==a||p[12]!==i||p[13]!==r||p[14]!==o||p[15]!==u||p[16]!==d?(m=()=>(0,n.jsx)(N,{repo:u,owner:r,readonly:o,initialFilter:"",activeMilestone:l,triggerOpen:!0,anchorElement:a,noMilestoneItem:i,...d}),p[10]=l,p[11]=a,p[12]=i,p[13]=r,p[14]=o,p[15]=u,p[16]=d,p[17]=m):m=p[17],p[18]!==d.insidePortal||p[19]!==c||p[20]!==m?(g=(0,n.jsx)(s.y,{keybindingCommandId:"item-pickers:open-milestone",anchorElement:c,createChild:m,insidePortal:d.insidePortal}),p[18]=d.insidePortal,p[19]=c,p[20]=m,p[21]=g):g=p[21],g}N.displayName="ItemPickerFetcher",w.displayName="MilestonePicker"},97409(e,l,a){a.d(l,{R:()=>m});var n=a(74848),t=a(16522),i=a(24058),s=a(14391),r=a(99589),o=a(62935);let u=e=>{let l,a=(0,t.c)(7),{closed:s,givenDate:r,currentDate:u}=e,m=s?"short":"long",g=s&&!d(r,u)?void 0:"numeric",p=s&&c(u,r)?"auto":"past",y=s?"auto":"elapsed",k=s?"second":c(r,u)?"month":"day",f=d(r,u)?void 0:p;return a[0]!==r||a[1]!==y||a[2]!==m||a[3]!==k||a[4]!==g||a[5]!==f?(l=(0,n.jsx)(o.A,{date:r,day:"numeric",month:m,tense:f,year:g,format:y,precision:k,"data-testid":i.k.testIds.relativeTimeDescription}),a[0]=r,a[1]=y,a[2]=m,a[3]=k,a[4]=g,a[5]=f,a[6]=l):l=a[6],l};u.displayName="RelativeTimeDescription";let d=(e,l)=>{let a=l.getFullYear();return e.getFullYear()<a},c=(e,l)=>12*(e.getFullYear()-l.getFullYear())+(e.getMonth()-l.getMonth())>=1,m=e=>{let l,a,o,d,c,m=(0,t.c)(17),{closed:f,closedAt:h,dueOn:b,progressPercentage:F,showProgressPercentage:I}=e,S=void 0!==I&&I,_=f?h:b,{isBrowser:v}=(0,r.V)();if(!_||!y(_))return i.k.milestones.noDueDate;m[0]!==_||m[1]!==b?(a=new Date(_),l=new Date,o=!!b&&new Date(_)<new Date&&!k(a,l),m[0]=_,m[1]=b,m[2]=l,m[3]=a,m[4]=o):(l=m[2],a=m[3],o=m[4]);let x=o,C=x&&!f?"MilestoneDescription-module__danger__nccI5":"MilestoneDescription-module__subtle__PRcar";return m[5]!==f||m[6]!==l||m[7]!==_||m[8]!==a||m[9]!==v||m[10]!==x||m[11]!==F||m[12]!==S?(d=v?(0,n.jsxs)(n.Fragment,{children:[g({isPastDate:x,closed:f}),"\xa0",x||f?(0,n.jsx)(u,{closed:f,givenDate:a,currentDate:l}):p(_),F&&S?i.k.milestones.progressPercentage(F):""]}):(0,n.jsx)(s.O,{variant:"rounded",height:"sm",width:"50%"}),m[5]=f,m[6]=l,m[7]=_,m[8]=a,m[9]=v,m[10]=x,m[11]=F,m[12]=S,m[13]=d):d=m[13],m[14]!==C||m[15]!==d?(c=(0,n.jsx)("div",{className:C,children:d}),m[14]=C,m[15]=d,m[16]=c):c=m[16],c};m.displayName="MilestoneDescription";let g=({isPastDate:e,closed:l})=>l?i.k.milestones.milestoneClosed:e?i.k.milestones.pastDue:i.k.milestones.milestoneDue,p=e=>new Date(e).toLocaleDateString("en-us",{month:"long",year:"numeric",day:"numeric"}),y=e=>!isNaN(new Date(e).getTime()),k=(e,l)=>e.getFullYear()===l.getFullYear()&&e.getMonth()===l.getMonth()&&e.getUTCDate()===l.getUTCDate()},27850(e,l,a){a.d(l,{w:()=>P,D:()=>T});var n=a(74848),t=a(7210),i=a(48423),s=a(24058),r=a(56959),o=a(26419),u=a(65366),d=a(57211),c=a(31993),m=a(97665),g=a(96540),p=a(58388),y=a(11380);async function k({owner:e,repo:l,query:a,count:n}){let t={owner:e,repo:l};a&&(t.query=a),n&&(t.count=n);let i=(0,y.JF)("projects",t),s=await (0,p.lS)(i);return await s.json()}var f=a(10589),h=a(56144),b=a(74567),F=a(38621),I=a(6393),S=a(70966),_=a(79623);let v={groupId:"recent",header:{title:"Recent",variant:"filled"}},x={groupId:"repository",header:{title:"Repository",variant:"filled"}},C={groupId:"organization",header:{title:"Organization",variant:"filled"}},j={groupId:"selected"};function T({owner:e,repo:l,query:a,count:n}){return(0,c.j)({queryKey:["item_picker","projects",{owner:e,repo:l,query:a,count:n}],queryFn:async()=>{var t;let i=await k({owner:e,repo:l,query:a,count:n});return{repositoryId:(t=(0,f.A)(i).data).repository.id,repositoryProjects:t.repository.projectsV2.nodes,recentRepositoryProjects:t.repository.recentProjects.edges.map(e=>e.node),ownerProjects:t.repository.owner.projectsV2.edges.map(e=>e.node),recentOwnerProjects:t.repository.owner.recentProjects.edges.map(e=>e.node)}}})}let K=[];function L({projectsData:e,selectedProjects:l=K,onSave:a,anchorElement:u,insidePortal:c,owner:p,repo:y,isLoading:k=!1,triggerOpen:f=!1,readonly:S,title:L,getSelectedProjects:N,pickerId:P}){let[w,A]=(0,g.useState)(e),[E,V]=(0,g.useState)(!1),[D,R]=(0,g.useState)(!1),M=(0,m.jE)(),{addToast:O}=(0,h.Y6)(),[B,U]=(0,g.useState)(""),[$,H]=(0,g.useState)(f),q=(0,g.useCallback)(async e=>{V(!0);try{let l=await M.fetchQuery(T({repo:y,owner:p,query:e}));A(l),V(!1)}catch{V(!1),O({type:"error",message:t.S.couldNotSearchProjects})}},[p,M,y]),W=(0,b.d)(e=>q(e),o.t.pickerDebounceTime);(0,g.useEffect)(()=>(0===B.length?A(e):W(B),()=>{V(!1)}),[W,B,e]);let z=(0,g.useMemo)(()=>(w?.recentOwnerProjects||[]).filter(e=>!1===e.closed),[w]),G=(0,g.useMemo)(()=>(w?.repositoryProjects||[]).filter(e=>!1===e.closed),[w]),Q=(0,g.useMemo)(()=>(w?.ownerProjects||[]).filter(e=>!1===e.closed),[w]),Y=(0,g.useMemo)(()=>N?N([...z,...G,...Q]):l,[N,l,Q,z,G]),[J,X]=(0,g.useState)(()=>Y.map(e=>e.id));(0,g.useEffect)(()=>{X(Y.map(e=>e.id))},[Y]);let Z=(0,g.useCallback)((e,l)=>{let{title:a,id:n}=l,t=l.hasReachedItemsLimit&&!Y.some(e=>e.id===n)?"danger":"default",i=l.hasReachedItemsLimit?"block":"inline";return{text:a,description:l.hasReachedItemsLimit?`${s.k.projectItemsLimitReached}`:void 0,descriptionVariant:i,id:n,groupId:e,selected:J.includes(n),disabled:S||!l.viewerCanUpdate,leadingVisual:F.TableIcon,variant:t}},[Y,J,S]),ee=(0,g.useMemo)(()=>{let e=Y.map(e=>e.id);return{selected:Y,recent:z.filter(l=>!e.includes(l.id)),repository:G.filter(l=>!e.includes(l.id)),organization:Q.filter(l=>!e.includes(l.id))}},[Y,z,G,Q]),el=(0,g.useMemo)(()=>Object.keys(ee).flatMap(e=>{let l=ee[e];return l?l.map(l=>Z(e,l)):[]}),[ee,Z]),ea=(0,g.useMemo)(()=>el.filter(e=>e.id&&J.includes(e.id.toString())),[J,el]),en=(0,g.useMemo)(()=>{if(el.length<1)return[];if(""===B)return el;let e=el.filter(e=>(e.text||"").toLowerCase().indexOf(B.trim().toLowerCase())>=0);return e.length<1?[]:e},[B,el]),et=(0,g.useMemo)(()=>[Y.length>0?j:null,z.length>0?v:null,G.length>0?x:null,Q.length>0?C:null].filter(e=>null!==e),[Y.length,z.length,G.length,Q.length]),ei=(0,g.useCallback)(e=>{let l=ea.filter(l=>!e.includes(l)).map(e=>e.id),a=J;a=[...a,...e.filter(e=>void 0!==e.id).map(e=>e.id)],l.length>0&&(a=a.filter(e=>!l.includes(e))),X([...new Set(a)])},[X,ea,J]),es=(0,g.useCallback)(()=>{H(!1),U(""),(J.length!==l.length||J.some(e=>!l.some(l=>e===l.id)))&&X(l.map(e=>e.id?e.id.toString():""))},[l,J]),{updateOpenState:er}=(0,I.t)(),eo=(0,g.useCallback)((e,l)=>{if(!e&&document.activeElement instanceof HTMLElement&&document.activeElement?.blur(),"cancel"!==l&&(H(e),er(P,e),!e)){U(""),ea.filter(e=>"danger"===e.variant).length>0&&R(!0);let e=ea.filter(e=>"danger"!==e.variant).map(e=>e.id).filter(e=>void 0!==e);X(e);let l=Object.keys(ee).flatMap(e=>ee[e]||[]),n=new Map;for(let e of l)n.set(e.id,e);let t=[...new Set(e)].map(e=>n.get(e)).filter(e=>void 0!==e);a&&a(t)}},[er,P,ea,a,ee]),eu=(0,g.useCallback)(()=>{R(!1)},[R]);return(0,_._)([" "],e=>{if($){let l=document.querySelector(r.Z.activePickerOption(i.B.itemPickerRootId));if(l){let a=l.getAttribute("data-id"),n=[...en.values()].find(e=>e.id===a);if(n&&n.id){if(n.disabled)return;e.preventDefault(),e.stopPropagation();let l=n.id.toString();X(e=>{let a=[...e],n=a.indexOf(l);return n>-1?a.splice(n,1):a.push(l),a})}}}},{triggerWhenInputElementHasFocus:!0,triggerWhenPortalIsActive:!0}),(0,n.jsx)(d.$,{anchorElement:u,title:L,items:en,selectedProjects:ea,groups:et,onOpenChange:eo,isDialogOpen:D,handleDialogClose:eu,insidePortal:c,onCancel:es,onSelectionChange:ei,triggerOpen:$,isLoading:k||E,onFilterChange:U,filterValue:B})}function N({repo:e,owner:l,...a}){let[t,i]=(0,g.useState)(!0),[r,o]=(0,g.useState)(0),[d,c]=(0,g.useState)(!1),[p,y]=(0,g.useState)(null),k=(0,m.jE)();(0,g.useEffect)(()=>{(async()=>{try{let a=await k.fetchQuery(T({owner:l,repo:e,query:""}));y(a),i(!1),c(!1)}catch{c(!0),i(!1)}})()},[r,l,k,e]);let f=(0,g.useRef)(null),{createFallbackComponent:h}=(0,u.j)({errorMessage:s.k.cantEditItems("projects"),anchorElement:e=>a.anchorElement(e,f),open:!0});return d?h(()=>o(e=>e+1)):(0,n.jsx)(L,{projectsData:p,owner:l,repo:e,isLoading:t,...a})}function P({anchorElement:e,triggerOpen:l,...a}){let[t,i]=(0,g.useState)(l),s=(0,g.useCallback)(()=>{t||i(!0)},[t]);return t?(0,n.jsx)(N,{triggerOpen:!0,anchorElement:l=>e(l),...a,pickerId:"list-header-projects-picker"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(S.ak,{commands:{"item-pickers:open-projects":s}}),e({onClick:()=>{i(!0)},onKeyPress:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),i(!0))}})]})}L.displayName="SelectPanelWrapper",N.displayName="ItemPickerFetcher",P.displayName="ProjectPicker"},57211(e,l,a){a.d(l,{$:()=>h,C:()=>b});var n=a(74848),t=a(24043),i=a(48423),s=a(24058),r=a(83765),o=a(84730),u=a(70966),d=a(38621),c=a(93607),m=a(50279),g=a(96540),p=a(39081);let y=({onClose:e,returnFocusRef:l})=>(0,n.jsx)(p.l,{"aria-label":s.k.projectItemsLimitReachedDialogLabel,title:s.k.projectItemsLimitReachedDialogTitle,onClose:e,returnFocusRef:l,width:"large",footerButtons:[{content:s.k.closeButton,onClick:e,buttonType:"primary"}],children:(0,n.jsx)("div",{children:s.k.projectItemsLimitReachedDialogMessage})});y.displayName="ProjectItemsLimitReachedDialog";let k=[],f=[];function h({items:e=k,groups:l=f,selectedProjects:a,isDialogOpen:o,handleDialogClose:d,filterValue:p,onCancel:h,onOpenChange:b,onFilterChange:F,anchorElement:I,onSelectionChange:S,insidePortal:_,isLoading:v,title:x,triggerOpen:C}){let j=(0,g.useCallback)(()=>{C||b(!0,"anchor-key-press")},[C,b]),T=(0,g.useRef)(null),K=e.length<=2?"auto":"large",L=(0,t.G7)("issues_react_select_panel_fullscreen_on_narrow"),N=(0,g.useMemo)(()=>(0,r.D)(_,T,K,L,C),[_,K,L,C]),P=(0,g.useMemo)(()=>0===e.length,[e.length]),w=(0,g.useMemo)(()=>{let n={renderAnchor:e=>I(e),anchorRef:T,placeholderText:s.k.filterProjects,items:e,selected:a,open:C||!1,onOpenChange:b,onCancel:h,onSelectedChange:S,filterValue:p,onFilterChange:F,showItemDividers:!0,overlayProps:{width:"medium",...N},loading:v,title:x??s.k.selectProjects,message:P?{title:"No projects were found",variant:"empty",body:"Please try a different search query."}:void 0};return l?.length>0&&e.length>0&&(n.groupMetadata=l),n},[N,I,p,e,l,v,h,F,b,S,C,a,P,x]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.ak,{commands:{"item-pickers:open-projects":j}}),(0,n.jsx)(m.g,{flags:{primer_react_select_panel_fullscreen_on_narrow:L},children:(0,n.jsx)(c.X,{"aria-label":"Project results","data-id":i.B.itemPickerRootId,"data-testid":i.B.itemPickerTestId,...w})}),o&&(0,n.jsx)(y,{onClose:d,returnFocusRef:T})]})}function b({firstSelectedProjectTitle:e,readonly:l,nested:a,anchorProps:t}){return(0,n.jsx)(o._,{anchorText:s.k.noProjects,sharedPickerMainValue:e,anchorProps:l?void 0:t,ariaLabel:s.k.selectProjects,readonly:l,nested:a,leadingIcon:d.TableIcon,hotKey:void 0})}h.displayName="ProjectPickerBase",b.displayName="DefaultProjectPickerAnchor"},88264(e,l,a){a.d(l,{CZ:()=>b});var n,t,i,s,r=a(74848);let o={kind:"InlineDataFragment",name:"IssueSingleSelectFieldPickerOption"};o.hash="d8bcb73a6758269a0f127f7a03e396bc";let u={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"IssueSingleSelectFieldPickerFieldQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"IssueFieldSingleSelectOption",kind:"LinkedField",name:"options",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"IssueSingleSelectFieldPickerOption",selections:s=[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"IssueFieldSingleSelect",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"IssueSingleSelectFieldPickerFieldQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"IssueFieldSingleSelectOption",kind:"LinkedField",name:"options",plural:!0,selections:s,storageKey:null}],type:"IssueFieldSingleSelect",abstractKey:null},i],storageKey:null}]},params:{id:"c64e6ba36203e1baee1d8517134d7d4c",metadata:{},name:"IssueSingleSelectFieldPickerFieldQuery",operationKind:"query",text:null}};u.hash="0979e35fc8348ec832d8c8f2a2b59fec";var d=a(24043),c=a(24058),m=a(83765),g=a(34131),p=a(65366),y=a(17989),k=a(96540),f=a(18312),h=a(60891);function b({anchorElement:e,isLazy:l,shouldOpen:a=!1,...n}){return l&&!a?(0,r.jsx)(g.y,{anchorElement:(l,a)=>e(l,a),createChild:()=>(0,r.jsx)(F,{anchorElement:(l,a)=>e(l,a),...n})}):(0,r.jsx)(F,{anchorElement:(l,a)=>e(l,a),...n})}function F({fieldId:e,anchorElement:l,...a}){let n=(0,f.useRelayEnvironment)(),[t,i]=(0,k.useState)(!0),[s,o]=(0,k.useState)(0),[d,m]=(0,k.useState)(!1),[g,h]=(0,k.useState)([]);(0,k.useEffect)(()=>{(0,y.SD)({environment:n,query:u,variables:{id:e}}).subscribe({next:e=>{h(e.node?.options??[]),i(!1),m(!1)},error:()=>{m(!0),i(!1)}})},[n,s,e]);let{createFallbackComponent:b}=(0,p.j)({errorMessage:c.k.cantEditItems("fields"),anchorElement:l,open:!0});return d?b(()=>o(e=>e+1)):(0,r.jsx)(I,{fieldId:e,values:g,isLoading:t,anchorElement:l,...a})}function I({title:e=c.k.fieldSingleSelectHeader,width:l="medium",values:a,fieldName:n,selectedOption:t,onSelectionChange:i,onOpen:s,onClose:u,insidePortal:g,anchorElement:p,isLoading:y}){let[b,F]=(0,k.useState)(""),I=n?c.k.fieldSingleSelectHeaderWithName(n):e,S=a.flatMap(e=>e?[(0,f.readInlineData)(o,e)]:[]),_=(0,k.useMemo)(()=>b?S.filter(e=>e.name&&e.name.toLowerCase().indexOf(b.toLowerCase())>=0):S,[S,b]),v=(0,k.useCallback)(e=>{F(e)},[]),x=(0,k.useCallback)(e=>e.id||"",[]),C=(0,k.useCallback)(e=>({id:e.id,text:e.name,description:e.description||"",descriptionVariant:"block",leadingVisual:(0,h.z)(e.color),source:e}),[]),j=(0,k.useMemo)(()=>{if(t){let e=S.find(e=>e.name===t);if(e)return[e]}return[]},[S,t]),T=(0,k.useRef)(null),K=(0,k.useMemo)(()=>0===_.length,[_]),L=(0,d.G7)("issues_react_select_panel_fullscreen_on_narrow");return(0,r.jsx)(m.O,{loading:y,items:_,initialSelectedItems:j,filterItems:v,title:I,getItemKey:x,convertToItemProps:C,placeholderText:"Filter option",selectionVariant:"single",onSelectionChange:e=>i(e&&e.length>0&&e[0]?e[0]:null),onOpen:s,onClose:u,renderAnchor:e=>p(e,T),insidePortal:g,height:"large",width:l,resultListAriaLabel:"Issue field option results",triggerOpen:!0,selectPanelRef:T,improvedNoMatchAccessibility:K,noMatchMessage:K?{title:"No option found",variant:"empty",body:"Try searching with a different query for results."}:void 0,responsiveOnNarrow:L})}b.displayName="IssueSingleSelectFieldPicker",F.displayName="IssueSingleSelectFieldPickerFetcher",I.displayName="ItemPickerWrapper"},92399(e,l,a){a.d(l,{D:()=>eo});var n,t,i,s,r,o,u,d,c,m,g,p,y,k,f,h,b,F,I,S,_,v,x,C,j,T,K,L,N,P,w,A,E=a(74848),V=a(6393),D=a(38621),R=a(26108),M=a(96540),O=a(18312);let B=(n=[{defaultValue:null,kind:"LocalArgument",name:"ids"}],t=[{kind:"Variable",name:"ids",variableName:"ids"}],s={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"stateReason",storageKey:null},u={alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null}],storageKey:null},{fragment:{argumentDefinitions:n,kind:"Fragment",metadata:null,name:"IssuePickerSelectedIssuesQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[i,s,r,o,u,d={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"Issue",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"IssuePickerSelectedIssuesQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[g,i,{kind:"InlineFragment",selections:[s,r,o,u,d,c,m],type:"Issue",abstractKey:null}],storageKey:null}]},params:{id:"ab7e8eddc2f0411413899568c6f97ae4",metadata:{},name:"IssuePickerSelectedIssuesQuery",operationKind:"query",text:null}});B.hash="c4d195f7754769a3937a686385b27e39",({argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IssuePickerIssue",selections:[p={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stateReason",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"Issue",abstractKey:null}).hash="196c5dfa10bac249c09a7e5a825a3eb9";var U=a(24058),$=a(83765),H=a(65366),q=a(17989),W=a(56819);let z=(y={defaultValue:null,kind:"LocalArgument",name:"assignee"},k={defaultValue:null,kind:"LocalArgument",name:"author"},f={defaultValue:null,kind:"LocalArgument",name:"commenters"},h={defaultValue:10,kind:"LocalArgument",name:"first"},b={defaultValue:null,kind:"LocalArgument",name:"mentions"},F={defaultValue:null,kind:"LocalArgument",name:"other"},I={defaultValue:null,kind:"LocalArgument",name:"queryIsUrl"},S={defaultValue:null,kind:"LocalArgument",name:"resource"},_={defaultValue:null,kind:"LocalArgument",name:"withParent"},v={kind:"Variable",name:"first",variableName:"first"},x={kind:"Literal",name:"type",value:"ISSUE"},j=[C={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:[y,k,f,h,b,F,I,S,_],kind:"Fragment",metadata:null,name:"useIssueFilteringQuery",selections:[{args:null,kind:"FragmentSpread",name:"useIssueFilteringFragment"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[f,b,y,k,F,h,S,I,_],kind:"Operation",name:"useIssueFilteringQuery",selections:[{alias:"commenters",args:[v,{kind:"Variable",name:"query",variableName:"commenters"},x],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:K=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:T=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[C,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stateReason",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[C,{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{condition:"withParent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"parent",plural:!1,selections:j,storageKey:null}]}],type:"Issue",abstractKey:null},{kind:"InlineFragment",selections:j,type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},{alias:"mentions",args:[v,{kind:"Variable",name:"query",variableName:"mentions"},x],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:K,storageKey:null},{alias:"assignee",args:[v,{kind:"Variable",name:"query",variableName:"assignee"},x],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:K,storageKey:null},{alias:"author",args:[v,{kind:"Variable",name:"query",variableName:"author"},x],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:K,storageKey:null},{alias:"other",args:[v,{kind:"Variable",name:"query",variableName:"other"},x],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:K,storageKey:null},{condition:"queryIsUrl",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Variable",name:"url",variableName:"resource"}],concreteType:null,kind:"LinkedField",name:"resource",plural:!1,selections:T,storageKey:null}]}]},params:{id:"0461d285f545c937fe73e13b494d2ac0",metadata:{},name:"useIssueFilteringQuery",operationKind:"query",text:null}});z.hash="85841f601364e1e7fcbbc0b1d97a1f38";let G={argumentDefinitions:[{kind:"RootArgument",name:"assignee"},{kind:"RootArgument",name:"author"},{kind:"RootArgument",name:"commenters"},{kind:"RootArgument",name:"first"},{kind:"RootArgument",name:"mentions"},{kind:"RootArgument",name:"other"},{kind:"RootArgument",name:"queryIsUrl"},{kind:"RootArgument",name:"resource"},{kind:"RootArgument",name:"withParent"}],kind:"Fragment",metadata:null,name:"useIssueFilteringFragment",selections:[{alias:"commenters",args:[L={kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"query",variableName:"commenters"},N={kind:"Literal",name:"type",value:"ISSUE"}],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:A=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:w=[{kind:"InlineFragment",selections:[P={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stateReason",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[P,{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{condition:"withParent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"parent",plural:!1,selections:[P],storageKey:null}]}],type:"Issue",abstractKey:null}],storageKey:null}],storageKey:null},{alias:"mentions",args:[L,{kind:"Variable",name:"query",variableName:"mentions"},N],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:A,storageKey:null},{alias:"assignee",args:[L,{kind:"Variable",name:"query",variableName:"assignee"},N],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:A,storageKey:null},{alias:"author",args:[L,{kind:"Variable",name:"query",variableName:"author"},N],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:A,storageKey:null},{alias:"other",args:[L,{kind:"Variable",name:"query",variableName:"other"},N],concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:A,storageKey:null},{condition:"queryIsUrl",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Variable",name:"url",variableName:"resource"}],concreteType:null,kind:"LinkedField",name:"resource",plural:!1,selections:w,storageKey:null}]}],type:"Query",abstractKey:null};G.hash="e4b7c756e5b5cc087490f02768b41f63";var Q=a(26419),Y=a(11054),J=a(74567);let X=e=>e.id,Z={groupId:"selected",header:{title:"Selected"}},ee={groupId:"suggestions",header:{title:"Suggestions",variant:"filled"}},el=[Z,ee],ea=new Map;function en({onIssueSelection:e,selectedIssueIds:l,hiddenIssueIds:a,owner:n,repositoryNameWithOwner:t,pickerId:i,isLoading:s=!1,withParent:r=!1,...o}){let[u,d]=(0,M.useState)(""),{isLoading:c,isError:m,items:g}=((e,l="",a,n,t=!1)=>{let i=(0,O.useRelayEnvironment)(),[s,r]=(0,M.useState)(!0),[o,u]=(0,M.useState)(!1),[d,c]=(0,M.useState)(null),m=(0,M.useRef)(null),g=(0,M.useCallback)(e=>{r(!0),m.current?.unsubscribe(),m.current=(0,q.SD)({environment:i,query:z,variables:{...(0,Y.A2)(l,e,a),withParent:t}}).subscribe({next:e=>{c(e??null),r(!1),u(!1)},error:()=>{u(!0),r(!1)}})},[i,l,a,t]),p=(0,J.d)(e=>g(e),Q.t.pickerDebounceTime);(0,M.useEffect)(()=>{p(e)},[p,e]),(0,M.useEffect)(()=>()=>{m.current?.unsubscribe()},[]);let y=(0,O.useFragment)(G,d);return{isLoading:s,isError:o,items:(0,M.useMemo)(()=>{if(!y)return new Map;{if(y.resource?.__typename==="Issue")return new Map([[y.resource?.id,y.resource]]);let e=[...y.commenters?.nodes||[],...y.mentions?.nodes||[],...y.assignee?.nodes||[],...y.author?.nodes||[],...y.other?.nodes||[]].filter(e=>e?.__typename==="Issue"),l=new Map;for(let a of e)n?.some(e=>e===a.id)||l.set(a.id,a);return l}},[n,y])}})(u,n,t,a,r),{createFallbackComponent:p}=(0,H.j)({errorMessage:U.k.cantEditItems("issues"),anchorElement:o.anchorElement,open:!0});return m?p(()=>{}):(0,E.jsx)(et,{items:s?ea:g,isLoading:c||s,...o,selectedIssueIds:l,hiddenIssueIds:a,filter:u,setFilter:d,onIssueSelection:e,repositoryNameWithOwner:t,pickerId:i})}function et({items:e,onIssueSelection:l,anchorElement:a,setFilter:n,isLoading:t,title:i,onClose:s,triggerOpen:r,selectedIssueIds:o,filter:u,pickerId:d,selectionVariant:c="single",subtitle:m,className:g,notice:p,insidePortal:y,responsiveOnNarrow:k}){let f=(0,O.useRelayEnvironment)(),[h,b]=(0,M.useState)({}),F=(0,M.useCallback)(e=>new Promise((l,a)=>{(0,q.SD)({environment:f,query:B,variables:{ids:e}}).subscribe({next:e=>{null!==e&&l(e)},error:e=>{a(e)}})}),[f]);for(let[l,a]of((0,M.useEffect)(()=>{if(!t&&o){let a=[];for(let l of o){let n=e.get(l);n?b(e=>({...e,[l]:n})):h?.[l]||a.push(l)}a.length>0&&l(a)}async function l(e){let{nodes:l=[]}=await F(e);for(let e of l)e&&"Issue"===e.__typename&&b(l=>({...l,[e.id]:e}))}},[t,e]),Object.entries(h)))e.set(l,a);let I=Array.from(e.values()),S=I.findIndex(e=>e.number===Number(u));if(S>0){let[e]=I.splice(S,1);e&&I.unshift(e)}let _=(0,M.useCallback)(e=>{var l,a;let n,t,{icon:i,fill:s}=(l=e.state,a=e.stateReason,n=D.IssueOpenedIcon,t="open.fg","CLOSED"===l&&(n="COMPLETED"===a?D.IssueClosedIcon:D.SkipIcon,t="COMPLETED"===a?"done.fg":"muted.fg"),{icon:n,fill:t}),r=o?.includes(e.id);return{id:e.id,text:e.title,sx:{wordBreak:"break-word"},source:e,groupId:r?Z.groupId:ee.groupId,leadingVisual:()=>(0,E.jsx)(W.m4,{icon:i,sx:{path:{fill:s}}}),trailingVisual:()=>(0,E.jsx)("span",{className:"IssuePicker-module__issueNumberText__pmfhv",children:`#${e.number}`}),description:r?e.repository.nameWithOwner:void 0,descriptionVariant:"block"}},[o]),v=(0,M.useRef)(null),x=(0,M.useMemo)(()=>o?.length?el:el.filter(e=>e.groupId!==Z.groupId),[o]),C=(0,M.useMemo)(()=>0===I.length,[I.length]);return(0,E.jsx)($.O,{loading:t,items:I,initialSelectedItems:o||[],filterItems:n,title:i||U.k.issueHeader,getItemKey:X,convertToItemProps:_,placeholderText:"Search issues",selectionVariant:c,onSelectionChange:l,renderAnchor:a,height:"large",width:"medium",maxVisibleItems:-1,resultListAriaLabel:"issue results",selectPanelRef:v,triggerOpen:r,groups:x,onClose:s,pickerId:d,subtitle:m,className:g,notice:p,suppressNoMatchItem:!0,improvedNoMatchAccessibility:C,noMatchMessage:C?{title:"No issues found",body:"Try changing your search term or selecting a different repository.",variant:"empty"}:void 0,insidePortal:y,responsiveOnNarrow:k})}en.displayName="IssuePicker",et.displayName="IssuePickerInternal";var ei=a(35931);let es="repository-picker",er="issue-picker";function eo({pickerType:e=null,anchorElement:l,onPickerTypeChange:a,selectedIssueIds:n,hiddenIssueIds:t,withParent:i,...s}){let[r,o]=(0,M.useState)(e);return((0,M.useEffect)(()=>{o(e)},[e]),(0,M.useEffect)(()=>{e!==r&&a?.(r)},[a,r]),null===r)?l({onClick:()=>o("Issue")}):(0,E.jsx)(eu,{anchorElement:l,selectedIssueIds:n,hiddenIssueIds:t,withParent:i,...s,setPickerType:o,pickerType:r})}function eu({anchorElement:e,onIssueSelection:l,organization:a,defaultRepositoryNameWithOwner:n,pickerType:t,setPickerType:i,selectedIssueIds:s,hiddenIssueIds:r,withParent:o,issuePickerProps:u,repositoryPickerProps:d}){let[c,m]=(0,M.useState)(n),[g,p]=(0,M.useState)(void 0),[y,k]=(0,M.useState)(null),{updateOpenState:f}=(0,V.t)(),h=(0,O.useRelayEnvironment)(),b=(0,M.useCallback)(()=>{i("Repository")},[i]),F=(0,M.useCallback)(()=>{i(e=>"Issue"===e?"Issue":null),f(es,!1)},[i,f]),I=(0,M.useCallback)(()=>{i(e=>"Repository"===e?"Repository":null),f(er,!1)},[i,f]),S=(0,M.useCallback)(e=>{e?.nameWithOwner&&m(e?.nameWithOwner),(c||e?.nameWithOwner)&&i("Issue")},[i,c]);switch((0,M.useEffect)(()=>{(async()=>{k(await (0,ei.St)(h,{first:5,hasIssuesEnabled:!0}))})()},[]),(0,M.useEffect)(()=>{!async function(){let[e,l]=c.split("/");if(e&&l){let a=await (0,ei.tZ)(h,e,l);null!=a&&p(a)}}()},[c,h]),t){case"Repository":if(!y)return null;return(0,E.jsx)(ei.f0,{initialRepository:g,preventDefault:!0,onSelect:S,organization:a,topRepositories:y,anchorElement:e,onClose:F,triggerOpen:!0,title:"Select a repository",pickerId:es,...d});case"Issue":return(0,E.jsx)(en,{selectedIssueIds:s,hiddenIssueIds:r,onIssueSelection:e=>{l(e),i(null)},anchorElement:e,repositoryNameWithOwner:c,onClose:I,withParent:o,title:(0,E.jsxs)("div",{className:"RepositoryAndIssuePicker-module__BackToRepositorySelectionButton__MFsg6",children:[(0,E.jsx)(R.K,{icon:D.ArrowLeftIcon,variant:"invisible","data-testid":"back-to-repo-selection-button","aria-label":"Back to repository selection",tooltipDirection:"n",onClick:b}),(0,E.jsx)("span",{children:c})]}),triggerOpen:!0,pickerId:er,...u})}}eo.displayName="RepositoryAndIssuePicker",eu.displayName="RepositoryAndIssuePickerInternal"},50325(e,l,a){a.d(l,{j:()=>v});let n=(t=[{defaultValue:null,kind:"LocalArgument",name:"input"}],i=[{kind:"Variable",name:"input",variableName:"input"}],s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r=[{kind:"Literal",name:"first",value:20}],o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},m={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},k={kind:"InlineFragment",selections:[g={alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"isAgent",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],type:"Bot",abstractKey:null},f={alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"assignee",plural:!1,selections:[s,u,m,g,p,y],storageKey:null},b={kind:"InlineFragment",selections:h=[u],type:"User",abstractKey:null},F={kind:"InlineFragment",selections:h,type:"Bot",abstractKey:null},I={alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"UserConnection",kind:"LinkedField",name:"participants",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:[s,u,d,c,m],storageKey:null}],storageKey:"participants(first:10)"},S={kind:"InlineFragment",selections:[s],type:"Node",abstractKey:"__isNode"},{fragment:{argumentDefinitions:t,kind:"Fragment",metadata:null,name:"replaceActorsForAssignableRelayMutation",selections:[{alias:null,args:i,concreteType:"ReplaceActorsForAssignablePayload",kind:"LinkedField",name:"replaceActorsForAssignable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"assignable",plural:!1,selections:[{kind:"InlineFragment",selections:[s,{alias:null,args:r,concreteType:"AssigneeConnection",kind:"LinkedField",name:"assignedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[o,s,u,d,c,m,k],type:"Actor",abstractKey:"__isActor"}],storageKey:null}],storageKey:"assignedActors(first:20)"},{alias:null,args:null,concreteType:"AgentAssignment",kind:"LinkedField",name:"agentAssignments",plural:!0,selections:[f,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"assigner",plural:!1,selections:[b,F],storageKey:null}],storageKey:null},I],type:"Issue",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"replaceActorsForAssignableRelayMutation",selections:[{alias:null,args:i,concreteType:"ReplaceActorsForAssignablePayload",kind:"LinkedField",name:"replaceActorsForAssignable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"assignable",plural:!1,selections:[o,{kind:"InlineFragment",selections:[s,{alias:null,args:r,concreteType:"AssigneeConnection",kind:"LinkedField",name:"assignedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[o,{kind:"InlineFragment",selections:[s,u,d,c,m,k],type:"Actor",abstractKey:"__isActor"},S],storageKey:null}],storageKey:"assignedActors(first:20)"},{alias:null,args:null,concreteType:"AgentAssignment",kind:"LinkedField",name:"agentAssignments",plural:!0,selections:[f,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"assigner",plural:!1,selections:[o,b,F,s],storageKey:null}],storageKey:null},I],type:"Issue",abstractKey:null},S],storageKey:null}],storageKey:null}]},params:{id:"19abeaf03278462751d1cf808a3f00f5",metadata:{},name:"replaceActorsForAssignableRelayMutation",operationKind:"mutation",text:null}});n.hash="d05c4cf0e56aab9d1e1f20b1139e9c19";var t,i,s,r,o,u,d,c,m,g,p,y,k,f,h,b,F,I,S,_=a(18312);function v({environment:e,input:{issueId:l,assignedActors:a,participants:t},clientMutationId:i,onError:s,onCompleted:r}){let o=[...new Map([...a,...t].filter(e=>!e.isCopilot&&!e.isAgent).map(e=>[e.login,e])).values()].slice(0,5);return(0,_.commitMutation)(e,{mutation:n,variables:{input:{assignableId:l,actorIds:a.map(e=>e.id),clientMutationId:i}},optimisticResponse:{replaceActorsForAssignable:{assignable:{__typename:"Issue",__isNode:"Issue",id:l,assignedActors:{nodes:a.map(e=>"Bot"===e.__typename?{__typename:"Bot",__isActor:"Bot",__isNode:"Bot",id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath,displayName:e.displayName??"",isCopilot:e.isCopilot||!1,isAgent:e.isAgent||!1}:{__typename:"User",__isActor:"User",__isNode:"User",id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath})},agentAssignments:[],participants:{nodes:o.map(e=>({id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath}))}}}},onError:e=>s&&s(e),onCompleted:e=>r&&r(e)})}},91666(e,l,a){a.d(l,{N:()=>d});let n={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"setLabelsForLabelableRelayMutation",selections:[{alias:null,args:i=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"SetLabelsForLabelablePayload",kind:"LinkedField",name:"setLabelsForLabelable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"labelableRecord",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"LabelsSectionAssignedLabels"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"setLabelsForLabelableRelayMutation",selections:[{alias:null,args:i,concreteType:"SetLabelsForLabelablePayload",kind:"LinkedField",name:"setLabelsForLabelable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"labelableRecord",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isLabelable"},{alias:null,args:r=[{kind:"Literal",name:"first",value:100},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'labels(first:100,orderBy:{"direction":"ASC","field":"NAME"})'},{alias:null,args:r,filters:["orderBy"],handle:"connection",key:"MetadataSectionAssignedLabels_labels",kind:"LinkedHandle",name:"labels"},{kind:"InlineFragment",selections:[o],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null}]},params:{id:"ce4e6c29b102596a5c1e65c7da660aef",metadata:{},name:"setLabelsForLabelableRelayMutation",operationKind:"mutation",text:null}};n.hash="f0eeb3a48d277042e107513ab4ed8f62";var t,i,s,r,o,u=a(18312);function d({environment:e,input:{labelableId:l,labels:a,labelableTypeName:t},clientMutationId:i,onError:s,onCompleted:r}){return(0,u.commitMutation)(e,{mutation:n,variables:{input:{labelableId:l,labelIds:a.map(e=>e.id),clientMutationId:i}},optimisticResponse:{setLabelsForLabelable:{labelableRecord:{__typename:t,__isNode:"true",__isLabelable:"true",id:l,labels:{pageInfo:{hasNextPage:!1,endCursor:null},edges:a.map(e=>({cursor:e.id,node:{__typename:"Label",id:e.id,name:e.name,nameHTML:e.nameHTML,color:e.color,url:e.url,description:e.description}}))}}}},onError:e=>s&&s(e),onCompleted:e=>r&&r(e)})}},76347(e,l,a){a.d(l,{_:()=>h});let n=(t=[{defaultValue:null,kind:"LocalArgument",name:"input"}],i=[{kind:"Variable",name:"input",variableName:"input"}],o={alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={kind:"InlineFragment",selections:m=[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null}],type:"IssueFieldText",abstractKey:null},{fragment:{argumentDefinitions:t,kind:"Fragment",metadata:null,name:"updateIssueIssueTypeSharedMutation",selections:[{alias:null,args:i,concreteType:"UpdateIssueIssueTypePayload",kind:"LinkedField",name:"updateIssueIssueType",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[s,r,o,u,d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[c,g,p={kind:"InlineFragment",selections:m,type:"IssueFieldSingleSelect",abstractKey:null},y={kind:"InlineFragment",selections:m,type:"IssueFieldDate",abstractKey:null},k={kind:"InlineFragment",selections:m,type:"IssueFieldNumber",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"updateIssueIssueTypeSharedMutation",selections:[{alias:null,args:i,concreteType:"UpdateIssueIssueTypePayload",kind:"LinkedField",name:"updateIssueIssueType",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[s,r,o,u,d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pinnedFields",plural:!0,selections:[c,g,p,y,k,{kind:"InlineFragment",selections:[s],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},s],storageKey:null}],storageKey:null}]},params:{id:"627a164ed640a00cd8e7321559a066d7",metadata:{},name:"updateIssueIssueTypeSharedMutation",operationKind:"mutation",text:null}});n.hash="76d56c8a5faaf2f8168ab652ced0278b";var t,i,s,r,o,u,d,c,m,g,p,y,k,f=a(18312);function h({environment:e,input:l,optimisticIssueType:a,onError:t,onCompleted:i}){return(0,f.commitMutation)(e,{mutation:n,variables:{input:l},optimisticResponse:void 0!==a?{updateIssueIssueType:{issue:{id:l.issueId,issueType:a?{id:a.id,name:a.name,description:a.description??null,color:a.color,isEnabled:a.isEnabled??!0,pinnedFields:(a.pinnedFields??[]).map(e=>"%other"===e.__typename?{__typename:"%other",__isNode:"%other",id:""}:{__typename:e.__typename,__isNode:e.__typename,id:e.id,name:e.name,dataType:e.dataType})}:null}}}:void 0,onError:e=>t&&t(e),onCompleted:e=>i&&i(e)})}},70823(e,l,a){a.d(l,{v:()=>o});let n={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"updateIssueMilestoneRelayMutation",selections:s=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuePayload",kind:"LinkedField",name:"updateIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"milestone",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dueOn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progressPercentage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closedAt",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"updateIssueMilestoneRelayMutation",selections:s},params:{id:"15f7936034547bc129d53f9c6b14fba9",metadata:{},name:"updateIssueMilestoneRelayMutation",operationKind:"mutation",text:null}};n.hash="253dc6aa9f06016bb138f16bb1697b39";var t,i,s,r=a(18312);function o({environment:e,input:{issueId:l,milestone:a,clientMutationId:t},onError:i,onCompleted:s}){return(0,r.commitMutation)(e,{mutation:n,variables:{input:{id:l,milestoneId:a?a.id:null,clientMutationId:t}},optimisticResponse:{updateIssue:{issue:{id:l,milestone:a?{id:a.id,title:a.title,closed:a.closed,dueOn:a.dueOn,progressPercentage:a.progressPercentage,url:a.url,closedAt:a.closedAt}:null}}},onError:e=>i&&i(e),onCompleted:e=>s&&s(e)})}},22458(e,l,a){a.d(l,{Z:()=>I});let n=(t=[{defaultValue:null,kind:"LocalArgument",name:"connections"},{defaultValue:null,kind:"LocalArgument",name:"input"}],i=[{kind:"Variable",name:"input",variableName:"input"}],r={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"hasReachedItemsLimit",storageKey:null},g=[{kind:"Literal",name:"name",value:"Status"}],p={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},b={kind:"InlineFragment",selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"},{fragment:{argumentDefinitions:t,kind:"Fragment",metadata:null,name:"updateIssueProjectsRelayMutation",selections:[{alias:null,args:i,concreteType:"AddProjectV2ItemByIdPayload",kind:"LinkedField",name:"addProjectV2ItemById",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"projectEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProjectItemSection"},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[s,r,o,u,d,c,m],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"updateIssueProjectsRelayMutation",selections:[{alias:null,args:i,concreteType:"AddProjectV2ItemByIdPayload",kind:"LinkedField",name:"addProjectV2ItemById",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"projectEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[s,r,{alias:null,args:null,kind:"ScalarField",name:"template",storageKey:null},c,d,{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[p,{kind:"InlineFragment",selections:[s,y,{alias:null,args:null,concreteType:"ProjectV2SingleSelectFieldOption",kind:"LinkedField",name:"options",plural:!0,selections:[s,k,y,f,h,{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null}],type:"ProjectV2SingleSelectField",abstractKey:null},b],storageKey:'field(name:"Status")'},o,u,m],storageKey:null},{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[p,{kind:"InlineFragment",selections:[s,k,y,f,h],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},b],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null},{alias:null,args:null,filters:null,handle:"appendEdge",key:"",kind:"LinkedHandle",name:"projectEdge",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"}]}],storageKey:null}]},params:{id:"b9a688cdfd72ea1627e9e0c19b9b67f1",metadata:{},name:"updateIssueProjectsRelayMutation",operationKind:"mutation",text:null}});n.hash="dbe2b16a81c1878c83467c6e3a8a0a7c";var t,i,s,r,o,u,d,c,m,g,p,y,k,f,h,b,F=a(18312);function I({environment:e,connectionId:l,projectId:a,issueId:t,clientMutationId:i,onError:s,onCompleted:r}){if(a)return(0,F.commitMutation)(e,{mutation:n,variables:{input:{contentId:t,projectId:a,clientMutationId:i},connections:l?[l]:[]},onError:e=>s&&s(e),onCompleted:e=>r&&r(e)})}},99024(e,l,a){a.d(l,{a:()=>I});var n=a(74848),t=a(16522),i=a(94709),s=a(26108),r=a(38621),o=a(47990);a(96540);var u=a(38267);let d="16px",c="20px",m="24px",g="32px",p="medium",y=({as:e="span",onClick:l,onFocus:a,tabIndex:n=-1,interactive:t})=>t??!!(a||l||n>-1||["a","button"].includes(e)),k={fontSize:1,height:g,lineHeight:g,px:3,py:0},f={small:{fontSize:0,height:d,lineHeight:d,px:1,py:0},medium:{fontSize:0,height:c,lineHeight:c,px:2,py:0},large:{fontSize:0,height:m,lineHeight:m,px:2,py:0},extralarge:k,xlarge:k},h=u.Ay.span.withConfig({displayName:"TokenBase__StyledTokenBase",componentId:"sc-48c82964-0"})(["align-items:center;border-radius:999px;cursor:",";display:inline-flex;font-weight:",";font-family:inherit;text-decoration:none;max-width:100%;position:relative;white-space:nowrap;",""],e=>y(e)?"pointer":"auto",(0,i.yB)("fontWeights.bold"),i.sx);function b(e){let l,a,i,s,r,o,u,d,c,m,g,y=(0,t.c)(21);y[0]!==e?({ref:a,text:d,onRemove:s,id:i,as:o,sx:l,size:u,...r}=e,y[0]=e,y[1]=l,y[2]=a,y[3]=i,y[4]=s,y[5]=r,y[6]=o,y[7]=u,y[8]=d):(l=y[1],a=y[2],i=y[3],s=y[4],r=y[5],o=y[6],u=y[7],d=y[8]);let k=void 0===o?"span":o,b=void 0===u?p:u,F=s?`${d}, press backspace or delete to remove`:void 0;y[9]!==i?(c=i?.toString(),y[9]=i,y[10]=c):c=y[10];let I=f[b];return y[11]!==l||y[12]!==I?(m={...I,...l},y[11]=l,y[12]=I,y[13]=m):m=y[13],y[14]!==k||y[15]!==a||y[16]!==r||y[17]!==F||y[18]!==c||y[19]!==m?(g=(0,n.jsx)(h,{"aria-label":F,id:c,as:k,sx:m,...r,ref:a}),y[14]=k,y[15]=a,y[16]=r,y[17]=F,y[18]=c,y[19]=m,y[20]=g):g=y[20],g}b.displayName="TokenBase";let F=(0,u.Ay)("span").withConfig({displayName:"TokenTextContainer",componentId:"sc-d53f425e-0"})(["flex-grow:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;background:transparent;border:0;font:inherit;margin:0;padding:0;width:auto;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;color:currentColor;text-decoration:none;&:is(a,button,[tabIndex='0']){cursor:pointer;&::after{content:'';position:absolute;left:0;top:0;right:0;bottom:0;}}"]),I=e=>{let l,a,u,d,c,m,g,k,f,h,I,S,_,v,x,C,j,T,K,L,N,P,w,A=(0,t.c)(70),{ref:E,as:V,fontWeight:D,fillColor:R,onRemove:M,id:O,isSelected:B,text:U,size:$,hideRemoveButton:H,href:q,onDelete:W,...z}=e,G=void 0===R?"#999":R,Q=void 0===$?p:$,{colorScheme:Y}=(0,i.DP)(),J=Y?.includes("high_contrast");A[0]===Symbol.for("react.memo_cache_sentinel")?(l={"--lightness-threshold":"0.453","--border-threshold":"0.96","--background-alpha":"0.20","--border-alpha":"max(0, min(calc((var(--perceived-lightness) - var(--border-threshold)) * 100), 1))",background:"rgb(var(--label-r), var(--label-g), var(--label-b))",color:"hsl(0deg, 0%, calc(var(--lightness-switch) * 100%))",borderWidth:1,borderStyle:"solid",borderColor:"hsla(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) - 25) * 1%), var(--border-alpha))"},A[0]=l):l=A[0];let X=l,Z=J?"0.9":"0.3";A[1]!==Z?(a={"--lightness-threshold":"0.6","--background-alpha":"0.18","--border-alpha":Z,"--lighten-by":"calc(((var(--lightness-threshold) - var(--perceived-lightness)) * 100) * var(--lightness-switch))",borderWidth:1,borderStyle:"solid",background:"rgba(var(--label-r), var(--label-g), var(--label-b), var(--background-alpha))",color:"hsl(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) + var(--lighten-by)) * 1%))",borderColor:"hsla(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) + var(--lighten-by)) * 1%), var(--border-alpha))"},A[1]=Z,A[2]=a):a=A[2];let ee=a;A[3]!==V||A[4]!==q?(u={as:V,href:q},A[3]=V,A[4]=q,A[5]=u):u=A[5];let el=u,ea=y(z)&&!!M&&!H;A[6]!==G?(d=(0,o.Du)(G),A[6]=G,A[7]=d):d=A[7];let[en,et,ei]=d;if(A[8]!==ei||A[9]!==G||A[10]!==et||A[11]!==en){let[e,l,a]=(0,o.BT)(G);m=l,c=a,g=String(en),k=String(et),f=String(ei),h=String,I=Math.round(e),A[8]=ei,A[9]=G,A[10]=et,A[11]=en,A[12]=c,A[13]=m,A[14]=g,A[15]=k,A[16]=f,A[17]=h,A[18]=I}else c=A[12],m=A[13],g=A[14],k=A[15],f=A[16],h=A[17],I=A[18];let es=h(I);A[19]!==m?(S=Math.round(100*m),A[19]=m,A[20]=S):S=A[20];let er=String(S);A[21]!==c?(_=Math.round(100*c),A[21]=c,A[22]=_):_=A[22];let eo=String(_),eu=H||!M?void 0:0;A[23]!==Y||A[24]!==ee||A[25]!==X?(v=Y?.includes("light")?X:ee,A[23]=Y,A[24]=ee,A[25]=X,A[26]=v):v=A[26],A[27]!==D?(x=D?{fontWeight:D}:{},A[27]=D,A[28]=x):x=A[28],A[29]!==Y||A[30]!==ee||A[31]!==B?(C=B?{background:"light"===Y?"hsl(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) - 5) * 1%))":ee.background,":focus":{outline:"none"},":after":{content:'""',position:"absolute",zIndex:1,top:"-2px",right:"-2px",bottom:"-2px",left:"-2px",display:"block",pointerEvents:"none",boxShadow:`0 0 0 2px ${"light"===Y?"rgb(var(--label-r), var(--label-g), var(--label-b))":"hsl(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) + var(--lighten-by)) * 1%))"}`,borderRadius:"999px"}}:{},A[29]=Y,A[30]=ee,A[31]=B,A[32]=C):C=A[32],A[33]!==g||A[34]!==k||A[35]!==f||A[36]!==es||A[37]!==er||A[38]!==eo||A[39]!==eu||A[40]!==v||A[41]!==x||A[42]!==C?(j={"--label-r":g,"--label-g":k,"--label-b":f,"--label-h":es,"--label-s":er,"--label-l":eo,"--perceived-lightness":"calc(((var(--label-r) * 0.2126) + (var(--label-g) * 0.7152) + (var(--label-b) * 0.0722)) / 255)","--lightness-switch":"max(0, min(calc((1/(var(--lightness-threshold) - var(--perceived-lightness)))), 1))","--border-color":"var(--borderColor-muted, var(--color-border-subtle))",paddingRight:eu,position:"relative",minWidth:0,overflow:"hidden",...v,...x,...C},A[33]=g,A[34]=k,A[35]=f,A[36]=es,A[37]=er,A[38]=eo,A[39]=eu,A[40]=v,A[41]=x,A[42]=C,A[43]=j):j=A[43];let ed=j;A[44]!==O?(T=O?.toString(),A[44]=O,A[45]=T):T=A[45],A[46]!==ea||A[47]!==el?(K=ea?{}:el,A[46]=ea,A[47]=el,A[48]=K):K=A[48];let ec=W?"LabelToken-module__labelTokenBase__Ao9u2":void 0;return A[49]!==ea||A[50]!==el?(L=ea?el:{},A[49]=ea,A[50]=el,A[51]=L):L=A[51],A[52]!==L||A[53]!==U?(N=(0,n.jsx)(F,{...L,children:U}),A[52]=L,A[53]=U,A[54]=N):N=A[54],A[55]!==W?(P=W&&(0,n.jsx)(s.K,{onClick:e=>{e.stopPropagation(),e.preventDefault(),W()},variant:"invisible",icon:r.XIcon,size:"small","aria-label":"Remove label",className:"LabelToken-module__labelTokenDeleteButton__S5Ly9"}),A[55]=W,A[56]=P):P=A[56],A[57]!==E||A[58]!==B||A[59]!==ed||A[60]!==M||A[61]!==z||A[62]!==Q||A[63]!==T||A[64]!==K||A[65]!==ec||A[66]!==N||A[67]!==P||A[68]!==U?(w=(0,n.jsxs)(b,{onRemove:M,id:T,isSelected:B,text:U,size:Q,sx:ed,...K,...z,ref:E,className:ec,children:[N,P]}),A[57]=E,A[58]=B,A[59]=ed,A[60]=M,A[61]=z,A[62]=Q,A[63]=T,A[64]=K,A[65]=ec,A[66]=N,A[67]=P,A[68]=U,A[69]=w):w=A[69],w};I.displayName="IssueLabelToken"},23165(e,l,a){a.d(l,{w:()=>d});var n=a(74848),t=a(99024),i=a(29207),s=a(83223),r=a(94709),o=a(16135),u=a(96540);function d({labels:e,testId:l,onDelete:a,emptyText:d="No labels"}){let{sendAnalyticsEvent:c}=(0,o.s)(),m=(0,u.useMemo)(()=>0!==e.length&&e[0]?`${e[0].url.slice(0,e[0].url.lastIndexOf("/labels/"))}/issues`:"",[e]),g=(0,u.useCallback)(e=>`${m}?q=${encodeURIComponent(`state:open label:"${e.name}"`)}`,[m]);return(0,n.jsx)("div",{tabIndex:-1,"data-testid":l,className:"LabelsList-module__labelsListContainer__q43kf",children:e.length>0?e.sort((e,l)=>e.name===l.name?0:e.name>l.name?1:-1).map(e=>(0,n.jsx)(r.m_,{text:e.description??"",type:"description","aria-label":e.description??"",sx:{visibility:e.description?"visible":"hidden"},className:"LabelsList-module__labelDescriptionTooltip__hM1DT",children:(0,n.jsxs)(s.A,{href:g(e),muted:!0,"aria-describedby":`${e.id}-tooltip`,className:"LabelsList-module__labelLink__puy8d",onClick:()=>{c("analytics.click","ISSUE_SIDEBAR_LABEL_CLICK")},onContextMenu:()=>{c("analytics.click","ISSUE_SIDEBAR_LABEL_RIGHT_CLICK")},children:[(0,n.jsx)(t.a,{text:(0,n.jsx)(i.JR,{html:e.nameHTML}),onDelete:a?()=>a(e.id):void 0,fillColor:`#${e.color}`,style:{overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",maxWidth:"100%"}},e.id),(0,n.jsx)("span",{className:"sr-only",id:`${e.id}-tooltip`,children:e.description??""})]},e.id)},e.id)):d})}d.displayName="LabelsList"},76885(e,l,a){a.d(l,{$J:()=>i,UI:()=>t,Ge:()=>n});function n(e){let l=i(e);if(Number.isNaN(l))return"This field must be a number";if(l<-0x7fffffff||l>0x7fffffff)return"This value must be between -2147483647 and 2147483647";let a=e.split(".")[1];if(a&&a.length>15)return"This floating point value is too precise"}function t(e){return new Blob([e]).size>1024?"This value is too long":void 0}function i(e){return Number(e.replace(/,/g,""))}},33774(e,l,a){a.d(l,{v:()=>r});var n=a(74848),t=a(16522),i=a(96540),s=a(51331);function r(e){let l,a=(0,t.c)(7),{login:r,profileName:o,isAgent:u}=e,d=(0,i.use)(s._);if(u){let e;return a[0]!==r?(e=(0,n.jsx)(n.Fragment,{children:r}),a[0]=r,a[1]=e):e=a[1],e}if("name_handle"===d&&o?.trim()){let e;return a[2]!==r||a[3]!==o?(e=(0,n.jsxs)(n.Fragment,{children:[o," (",r,")"]}),a[2]=r,a[3]=o,a[4]=e):e=a[4],e}return a[5]!==r?(l=(0,n.jsx)(n.Fragment,{children:r}),a[5]=r,a[6]=l):l=a[6],l}r.displayName="ProfileReference"},51331(e,l,a){a.d(l,{_:()=>i,z:()=>r});var n=a(74848),t=a(16522);let i=(0,a(96540).createContext)("handle");i.displayName="UserNameDisplayContext";let s={NAME_HANDLE:"name_handle",NAME_AND_HANDLE:"name_handle",HANDLE:"handle"};function r(e){let l,a=(0,t.c)(3),{value:r,children:o}=e,u=r&&s[r.toUpperCase()]||"handle";return a[0]!==o||a[1]!==u?(l=(0,n.jsx)(i,{value:u,children:o}),a[0]=o,a[1]=u,a[2]=l):l=a[2],l}r.displayName="UserNameDisplayContextProvider"},76599(e,l,a){a.d(l,{J:()=>t});var n=a(3654);let t=()=>{let e=(0,n.X)();return{currentUser:e&&e.current_user?e.current_user:null}}}}]);
//# sourceMappingURL=32790-17efeb683150528f-e1300abfdf65568a.js.map